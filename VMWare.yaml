#keyword: VMWare.yaml
Docker: #keyword:  #ref: ${programming}/OS/VMWare.svg#Docker
    ãƒãƒ‹ãƒ¥ã‚¢ãƒ«:
        è‹±èª URL ã®ä¾‹:    https://docs.docker.com/docker-for-windows/
        æ—¥æœ¬èª URL ã®ä¾‹:  https://docs.docker.jp/docker-for-windows/
    æ‰‹é †:  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™
        ç’°å¢ƒã®æ¯”è¼ƒ:
            ãƒ›ã‚¹ãƒˆOS ãŒ Windows ã‹ WSL2 ã‹ã§æ€§èƒ½æ¯”è¼ƒ:
                WSL2 ãŒè‰¯ã„ #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Docker host compare
        æ³¨æ„ >> éå…¬é–‹è¨­å®š:
            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ Docker ã¯ iptables ã‚’ç·¨é›†ã—ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã„ã¾ã™  #search: Docker iptables
        Docker æœ¬ä½“ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #keyword: install Docker
            #// ãƒ›ã‚¹ãƒˆOSã¨åŒã˜ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºã¯å°ã•ã„ã§ã™
            Docker Engine for WSL2 Rocky Linux 8: #keyword: install Docker for Rocky
                #ref: https://docs.rockylinux.org/gemstones/containers/docker/
                #ref: https://docs.rockylinux.org/gemstones/docker/   #// æ—§
            Docker Engine for WSL2 Ubuntu: #keyword: install Docker for WSL2,  WSL2 Docker
                ï¼ˆåˆå›ã®å ´åˆï¼‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒç„¡ã„å ´åˆ:
                    å…¬å¼: #ref: https://docs.docker.com/engine/install/ubuntu/
                    è¨­å®š: #settings:
                        __DockerDistribution__: Ubuntu-20.04-docker
                    WSL2 ã® Ubuntu ã‚’åˆæœŸçŠ¶æ…‹ã§è¤‡è£½ã—ã¾ã™:
                        ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³åã¯ Ubuntu-20.04-docker ã¨ã—ã¾ã™(ä¾‹)  #search: WSL2 restore  #template: __DockerDistribution__
                    Docker ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’è¨­å®šã—ã¾ã™:
                        Linux ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ›´æ–°ã‚’é©ç”¨ã—ã¾ã™:
                            sudo apt-get update
                        GPG ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            sudo apt-get install -y  ca-certificates  curl  gnupg  lsb-release
                        Dockerã®å…¬å¼GPGã‚­ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™:
                            sudo mkdir -p /etc/apt/keyrings
                            curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
                        ãƒªãƒã‚¸ãƒˆãƒªã‚’è¨­å®šã—ã¾ã™ (/etc/apt/sources.list.d/docker.list): |
                            echo \
                                "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
                                $(lsb_release -cs) stable" | sudo tee  /etc/apt/sources.list.d/docker.list  > /dev/null
                    Docker Engine ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ›´æ–°ã—ã¾ã™:
                            sudo apt-get update
                        Docker Engine, containerd, Docker Compose ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            sudo apt-get install -y  docker-ce  docker-ce-cli  containerd.io  docker-compose-plugin
                        ï¼ˆãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã®å ´åˆï¼‰(/etc/default/docker) : |  #// ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„
                                echo "
                                export no_proxy='127.0.0.1,localhost'
                                export http_proxy='http://__ProxyServer__:__ProxyPort__'
                                export https_proxy='http://__ProxyServer__:__ProxyPort__'
                                " | sudo tee -a  /etc/default/docker  > /dev/null
                            #ref: https://qiita.com/y-na-biz/items/a82b3642eff9947e6f37
                        Docker ã‚’èµ·å‹•ã—ã¾ã™:
                            - sudo service docker start
                            - sudo docker version
                                #// Client ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ Server ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨
                        ã‚µãƒ³ãƒ—ãƒ«ã‚’å‹•ä½œã•ã›ã¾ã™:
                            sudo docker run  hello-world  #search: docker hello-world
                        sudo ã‚’å…¥åŠ›ã—ãªã„ã§ docker ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #search: docker sudo
                            sudo gpasswd --add  $USER  docker
                            newgrp docker
                            docker run  hello-world
                        å†èµ·å‹•ã—ã¦ã‚‚ docker ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                            Windows 10 ã®å ´åˆ:
                                è¨­å®šã—ã¾ã™: |  #keyword: WSL2 service-start
                                    mkdir -p ~/bin
                                    echo  'sudo service docker status > /dev/null  ||  sudo service docker start > /dev/null' \
                                        >> ~/bin/service-start
                                    chmod +x ~/bin/service-start
                                #// ï¼ˆãƒ¡ãƒ¢ï¼‰ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã¯ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™
                                #//     wsl.exe ã‚’çµŒç”±ã—ã¦å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã¯å¤±æ•—ã—ã¾ã™  #seaerch: WSL2 wsl.exe root command 
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                            Windows 11 ã®å ´åˆ: | #keyword: WSL2 boot command  #// ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„
                                    echo '
                                    [boot]
                                    command="service docker start"
                                    ' | sudo tee -a  /etc/wsl.conf  > /dev/null
                                #ref: https://learn.microsoft.com/ja-jp/windows/wsl/wsl-config#boot-settings
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                            ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™:
                                Visual Studio Code ã‚’é–‰ã˜ã¾ã™:
                                (bash):  #// wsl ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ãŸ PowerShell ã®ç«¯æœ«
                                    exit
                                (PowerShell):  #// æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™
                                    wsl --terminate  "Ubuntu-20.04-docker"  #template: __DockerDistribution__
                        èµ·å‹•ã—ã¾ã™:  #keyword: service-start
                            WSL2 Ubuntu ã‚’èµ·å‹•ã—ã¾ã™:
                                wsl -d "Ubuntu-20.04-docker"   #template: __DockerDistribution__
                                #// sudo service docker start ã®ãŸã‚ã«ã€æ¯å›ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™
                            Windows 10 ã®å ´åˆ:
                                Docker ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™:  #// Windows 11 ã§ã¯ä¸è¦ã§ã™
                                    service-start
                                    #// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™
                            ã‚µãƒ³ãƒ—ãƒ«ã‚’å‹•ä½œã•ã›ã¾ã™:
                                docker run  hello-world
                    Docker compose ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            sudo apt install -y  docker-compose
                        å‹•ä½œç¢ºèªã‚’ã—ã¾ã™:
                            docker-compose --version
                    ï¼ˆæ¨å¥¨ï¼‰ã§ããŸ Docker compose ç’°å¢ƒã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:
                        #search: back up WSL2
                        #search: restore Docker for WSL2
                    ï¼ˆå‚è€ƒï¼‰ä½¿ã‚ãªã‹ã£ãŸæ‰‹é †:
                        ãƒ—ãƒ­ã‚­ã‚·:
                            proxy client:
                                ~/.docker:
                                    mkdir ~/.docker
                                cat > ~/.docker/config.json : |
                                    {"proxies": {"default": {"httpProxy": "__Proxy__", "httpsProxy": "__Proxy__", "noProxy": "192.168.*,local*" }}}
                            proxy server:
                                ~/bin:
                                    mkdir -p ~/bin
                                cat > ~/bin/startdocker.sh : |
                                    #!/bin/bash
                                    export http_proxy=http://__ProxyServer__:__ProxyPort__
                                    export https_proxy=http://__ProxyServer__:__ProxyPort__
                                    sudo -bE dockerd
                        å†èµ·å‹•ã—ã¦ã‚‚ docker ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #keyword: WSL2 Ubuntu-20 enable service
                            å¤±æ•—A:
                                sudo update-rc.d docker defaults
                                #ref: https://askubuntu.com/questions/9382/how-can-i-configure-a-service-to-run-at-startup
                            å¤±æ•—B:
                                sudo systemctl enable docker
                            å¤±æ•—C:
                                sudo vi /etc/wsl.conf
                                    [boot]
                                    command="service docker start"
                                #// Windows 11 ä»¥ä¸Šãªã‚‰å¯èƒ½  #search: WSL2 boot command
                            å¤±æ•—D:  #keyword: WSL2 wsl.exe root command 
                                ~/.bashrc:
                                    wsl.exe -u root service docker status || wsl.exe -u root service docker start
                                ã‚¨ãƒ©ãƒ¼: |
                                    docker: unrecognized service
                                #ref: https://askubuntu.com/questions/1355633/how-to-start-a-specific-service-when-ubuntu-is-started-on-wsl2
                            æˆåŠŸ:
                                echo "sudo service docker start" >> ~/.bashrc
                ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å¸°ã™ã‚‹å ´åˆ: #keyword: restore Docker for WSL2
                    docker ã® WSL2 ã‚’å¾©å¸°ã—ã¾ã™:
                        #search: WSL2 restore
                    èµ·å‹•ã—ã¾ã™:
                        #search: service-start
            Docker Desktop for Windows: #keyword: install Docker for Windows  #// Docker Desktop for Windows ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
                æ³¨æ„: Docker Desktop ã¯å¤§ä¼æ¥­ã§ã¯æœ‰æ–™ã§ã™
                æ–°ã—ã„æ–¹æ³•:  #2021-06-21
                    æ¡ä»¶: Windows 10 64-bit Home, Pro, Enterprise, or Education, version 1903 (Build 18362 or higher).
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:
                        https://docs.docker.com/docker-for-windows/install/ >>
                            Docker Desktop for Windows ãƒœã‚¿ãƒ³ >>
                            ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ Docker Desktop Installer.exe ã‚’é–‹ãã¾ã™
                    Installing Docker Desktop ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦:
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ OK ãƒœã‚¿ãƒ³:
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š:
                            Install required Windows coponnets for WSL2: ãƒã‚§ãƒƒã‚¯
                            Add shortcut to desktop: ãƒã‚§ãƒƒã‚¯
                        ï¼ˆç´„3åˆ†å¾Œï¼‰Close and restart ãƒœã‚¿ãƒ³:  #// PC ãŒå†èµ·å‹•ã—ã¾ã™
                    ã‚¨ãƒ©ãƒ¼ WSL2 installation is incomplete:
                        è¡¨ç¤ºã•ã‚ŒãŸ URL ã‚’ã‚¯ãƒªãƒƒã‚¯:
                            - https://aka.ms/wsl2kernel  #// Docker ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¯é–‰ã˜ãªã„ã“ã¨
                            - x64 ãƒã‚·ãƒ³ç”¨ WSL2 Linux ã‚«ãƒ¼ãƒãƒ«æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
                            - wsl_update_x64.msi ã‚’å®Ÿè¡Œ
                        Restart ãƒœã‚¿ãƒ³:  #// Docker ã ã‘å†èµ·å‹•ã—ã¾ã™
                        ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‰ã˜ã‚‰ã‚Œã¦ã—ã¾ã£ãŸã¨ã:
                            ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã® Docker Desktop ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯
                    Docker ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦:
                        è¡¨ç¤ºã•ã‚ŒãŸãŠè©¦ã—ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:
                            PowerShell ã‚’é–‹ãã¾ã™:
                                Windows ã‚¹ã‚¿ãƒ¼ãƒˆ >> PowerShellï¼ˆã¨å…¥åŠ›ï¼‰  #// Visual Studio Code ã® Terminal ã§ã‚‚å¯èƒ½
                            ã‚³ãƒãƒ³ãƒ‰:
                                docker run -d -p 80:80 docker/getting-started
                            ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ localhost ã‚’é–‹ãã¾ã™:
                                ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼: localhost
                            Docker ã®æ–‡æ›¸ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™:
                                Congratulations! You have started the container for this tutorial!
                        Docker ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã¦ã‚‚ Docker ã¯å‹•ãç¶šã‘ã¾ã™:
                    Error response ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰:
                        #// ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã®è©³ç´°ï¼š docker: Error response from daemon: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers).
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Windows ã®é€šçŸ¥é ˜åŸŸã«ã‚ã‚‹ Docker ã‚¢ã‚¤ã‚³ãƒ³ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> Settings
                        Resources:
                            PROXIES:
                                Manual proxy configuration: ã‚ªãƒ³
                                Web Server (HTTP):          http://___.___.___.___:____
                                Secure Web Server (HTTPS):  http://___.___.___.___:____
                                Bypass proxy settings for these host & domains:
                                    127.0.0.1, localhost, 192.168.*  #search: no_proxy
                                Apply & Restart ãƒœã‚¿ãƒ³:
                å¤ã„æ–¹æ³•:
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:
                        https://docs.docker.com/docker-for-windows/install/ >>
                            Download from Docker Hub >> Get Docker >>
                            ï¼ˆã—ã°ã‚‰ãã—ã¦ï¼‰Close and restart ãƒœã‚¿ãƒ³
                    ã‚¨ãƒ©ãƒ¼ WSL2 installation is incomplete:
                        - è¡¨ç¤ºã•ã‚ŒãŸ URL ã‚’ã‚¯ãƒªãƒƒã‚¯:
                            - https://aka.ms/wsl2kernel  #// Docker ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¯é–‰ã˜ãªã„ã“ã¨
                            - x64 ãƒã‚·ãƒ³ç”¨ WSL2 Linux ã‚«ãƒ¼ãƒãƒ«æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
                            - wsl_update_x64.msi ã‚’å®Ÿè¡Œ
                        - Restart ãƒœã‚¿ãƒ³  #// Docker ã ã‘å†èµ·å‹•ã—ã¾ã™
                æ›´æ–°æ–¹æ³•:  #keyword: Docker update for Windows
                    Windows ã®é€šçŸ¥é ˜åŸŸã«ã‚ã‚‹ Docker ã®ã‚¢ã‚¤ã‚³ãƒ³ã«(!)ãŒä»˜ã„ã¦ã„ã‚‹ã¨ã:
                        Download update:
                            Docker ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Download updateï¼ˆä¸Šã‹ã‚‰3ç•ªç›®ï¼‰
                        Update ready to download ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¡¨ç¤ºã•ã‚ŒãŸã¨ã:
                            Download update ãƒœã‚¿ãƒ³
                        ï¼ˆç´„10ç§’å¾Œï¼‰Update and Restart:
                            Docker ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Update and Restartï¼ˆä¸‹ã‹ã‚‰2ç•ªç›®ï¼‰
                ãƒ¡ãƒ¢ãƒªãƒ¼ã®ä½¿ç”¨é‡ã‚’æ¸›ã‚‰ã—ã¾ã™ãƒ»å¢—ã‚„ã—ã¾ã™:  #keyword: WSL2 Docker memory size
                    Docker for Windows ã®å ´åˆ:
                        Docker ã‚’çµ‚äº†ã•ã›ã¾ã™:
                            ï¼ˆWindows é€šçŸ¥é ˜åŸŸï¼‰ Docker ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Quit Docker Desktop >>
                            ï¼ˆã‚·ã‚§ãƒ«ã‚’é–‹ãã¾ã™ï¼‰>>ï¼ˆDocker ã¨ WSL2 ã®çµ‚äº†ã‚’å¾…ã¡ã¾ã™ï¼‰>>
                        Git bash ã¾ãŸã¯ PowerShell:
                            wsl --shutdown
                        C:\Users\__Name__\.wslconfig : |
                            [wsl2]
                            memory=1GB
                        Docker ã‚’èµ·å‹•ã—ã¾ã™:
                            Windows ã‚¹ã‚¿ãƒ¼ãƒˆ >> Docker Desktop
                    Docker for Linux (WSL2) ã®å ´åˆ:
                        Git bash ã¾ãŸã¯ PowerShell:
                            wsl --shutdown
                        C:\Users\__Name__\.wslconfig : |
                            [wsl2]
                            memory=1GB
                    æŒ‡å®šã§ãã‚‹ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚º:
                        - 1GB ã«è¨­å®šã™ã‚‹ã¨ç´„ 1.3GB æ¶ˆè²»ã—ã¾ã™ 2021-07-20
                        - 512MB, 0.5GB ã¯ã§ãã¾ã›ã‚“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼æ­è¼‰é‡ã®åŠåˆ†ã«ãªã‚Šã¾ã™ï¼‰
                            https://docs.microsoft.com/en-us/windows/wsl/wsl-config#configure-global-options-with-wslconfig
                        - WSL2 ã‚’ä½¿ã†å ´åˆã€Docker ã«è¨­å®šã§ãã¾ã›ã‚“ã€‚ WSL2 ã«è¨­å®šã—ã¾ã™
                            https://docs.docker.jp/docker-for-windows/
                            https://docs.docker.com/docker-for-windows/
                    å‚è€ƒ:
                        WSL2 + Docker ã‚’ãƒ¡ãƒ¢ãƒªã‚’ç¯€ç´„ã—ãªãŒã‚‰ä½¿ãˆã‚‹ã‹  https://zenn.dev/takajun/articles/4f15d115548899
                    é–¢é€£:  #search: Docker-compose mem_limit
                Docker ã‚’ WSL2 ã¸æœ€é©åŒ–ã—ã¾ã™:  #keyword: Docker WSL2 best experience
                    ï¼: æœªç¢ºèª
                        WSL2 + Ubuntu ã‹ã‚‰ docker run ã‚’å®Ÿè¡Œã™ã‚Œã°é€Ÿã„ã¨ã„ã†æ„å‘³ã‹ã‚‚
                    å‚è€ƒ:
                        Docker å…¬å¼:  #ref: https://docs.docker.com/docker-for-windows/wsl/#develop-with-docker-and-wsl-2
                        WSL2 Ubuntu:  #search: install WSL2 Ubuntu
            Docker for CentOS ãªã©:  #// Docker for CentOS ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  #keyword: Docker for Linux,  install Docker for CentOS Linux
                å‚è€ƒ: #ref: https://docs.docker.com/engine/install/centos/
                Vagrant Ansible ã‚’ä½¿ã†å ´åˆ:  #// ãŠã™ã™ã‚
                    multi_vm_ansible ã® docker ãƒ–ãƒ©ãƒ³ãƒã® README ã‚’å‚ç…§  #search: multi_vm_ansible
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_docker/README.yaml
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_docker/playbook.yml  #// 2023-11-24
                æ‰‹å‹•ã®å ´åˆ:
                    Docker ãƒªãƒã‚¸ãƒˆãƒªã‚’è¨­å®šã—ã¾ã™:
                        #bash in CentOS, RockyLinux8
                        - sudo yum install -y yum-utils
                        - sudo yum-config-manager  --add-repo https://download.docker.com/linux/centos/docker-ce.repo
                    æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        sudo yum install -y docker-ce docker-ce-cli containerd.io
                    ï¼ˆãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹LANã«ã„ã‚‹å ´åˆï¼‰ãƒ—ãƒ­ã‚­ã‚·ã‚’è¨­å®šã—ã¾ã™:
                        Docker ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹è¨­å®š:
                            ã™ã§ã«è¨­å®šãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                                sudo docker info
                            è¨­å®šãŒç„¡ã‹ã£ãŸã‚‰:
                                æ¦‚è¦:
                                    /etc/systemd/system/docker.service.d/http-proxy.conf : |
                                        [Service]
                                        Environment="HTTP_PROXY=http://___.___.___.___:____"
                                        Environment="HTTPS_PROXY=http://___.___.___.___:____"
                                        Environment="NO_PROXY=localhost, 127.0.0.1, 192.168.*, 192.168.34.51, centos7"
                                    ãƒªãƒ­ãƒ¼ãƒ‰:
                                ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šã™ã‚‹å ´åˆ:
                                    - sudo mkdir -p /etc/systemd/system/docker.service.d
                                    - echo -e "[Service]\nEnvironment=\"HTTP_PROXY=http://___.___.___.___:____\"" | \
                                        sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf
                                    - echo -e "Environment=\"HTTPS_PROXY=http://___.___.___.___:____\"" | \
                                        sudo tee -a /etc/systemd/system/docker.service.d/http-proxy.conf
                                    - echo -e "Environment=\"NO_PROXY=localhost, 127.0.0.1, 192.168.*, 192.168.34.51, centos7\"" | \
                                        sudo tee -a /etc/systemd/system/docker.service.d/http-proxy.conf
                                    - sudo systemctl daemon-reload
                                    - sudo systemctl restart docker
                                    - sudo docker info
                                #// å‚è€ƒ: https://docs.docker.jp/config/daemon/systemd.html#id6
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«å¯¾ã™ã‚‹è¨­å®š:
                            docker-compose ã‚’ä½¿ã‚ãªã„å ´åˆ:
                                mkdir -p  ~/.docker :
                                ~/.docker/config.json : |
                                    {
                                        "proxies": {
                                            "default": {
                                                "httpProxy": "http://___.___.___.___:____"
                                            }
                                        }
                                    }
                    Docker ã‚’èµ·å‹•ã—ã¾ã™:
                        sudo systemctl enable docker
                        sudo systemctl start docker  #search: systemctl
                    Hello world ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™: #keyword: docker hello-world
                        sudo docker run  --name hello_world_1  hello-world
                            #// æˆåŠŸã™ã‚Œã°ã€Hello from Docker! ã¨ç´„20è¡Œã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€çµ‚äº†ã—ã¾ã™
                            #// hello_world_1 ã¯ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ã¨ããªã©ã«ä½¿ã„ã¾ã™
                    Hello world ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                        docker rm  hello_world_1
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰docker-compose ã‚’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã‚¢ãƒƒãƒ— ã—ã¾ã™:  #keyword: upgrade docker-compose,  install docker-compose
                        æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’ç¢ºèªã—ã¾ã™:
                            #ref: https://github.com/docker/compose/releases
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: |  #// ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.16.0 ã®å ´åˆ
                            curl -L https://github.com/docker/compose/releases/download/v2.16.0/docker-compose-linux-x86_64 > docker-compose
                            sudo mv docker-compose /usr/local/bin/docker-compose
                            sudo chmod +x /usr/local/bin/docker-compose
                            docker-compose --version
                é–¢é€£ >> CentOS Docker ã‚¤ãƒ¡ãƒ¼ã‚¸:  #search: Docker CentOS
        OS ã‚¤ãƒ¡ãƒ¼ã‚¸:  #search: Docker OS image
        å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #keyword: install service Docker container
            ï¼ˆä¸€èˆ¬ï¼‰:
                - å…¬å¼ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ãã®ã¾ã¾ä½¿ã„ã¾ã™ã€‚ãŸã ã—ã€README ã‚’å‚è€ƒã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                - å…¬å¼ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãªã©ã®å ´åˆã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä½¿ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™  #search: making docker image
                - å…¬å¼ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒç„¡ã„å ´åˆã€OSã®å…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™  #search: Docker OS image
            MySQL:  #search: MySQL Docker
        ãƒãƒ¼ã‚¸ãƒ§ãƒ³:  #keyword: Docker version
            æœ¬ä½“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³:
                ç¢ºèª:
                    docker --version ã‚³ãƒãƒ³ãƒ‰
                ä¸€è¦§:
                    #ref: https://docs.docker.com/engine/release-notes/
            ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³:  #keyword: Docker image version
                ã‚¿ã‚°ã«æ›¸ã„ã¦ã‚ã‚‹å ´åˆ:  #// latest ã‚¿ã‚°ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ›¸ã„ã¦ã‚ã‚‹ã‚¿ã‚°ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã€åˆ¥ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã®å ´åˆ:
                        æ¦‚è¦:
                            ã‚³ãƒãƒ³ãƒ‰:
                                docker images
                            å‡ºåŠ›ä¾‹: |  #// IMAGE ID ãŒä¸€è‡´ã™ã‚Œã° latest ã¨åŒã˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™
                                REPOSITORY             TAG              IMAGE ID       CREATED       SIZE
                                gitlab/gitlab-runner   latest           761107f87481   3 days ago    760MB
                                gitlab/gitlab-runner   ubuntu-v16.6.0   761107f87481   3 days ago    760MB
                            IMAGE ID:  #keyword: Docker IMAGE ID
                                IMAGE ID ã¯ DockerHub ã® DIGEST ã¨ã¯ç•°ãªã‚‹å€¤ã§ã™
                        è©³ç´°:
                            ã‚³ãƒãƒ³ãƒ‰: #keyword: docker inspect version
                                - docker inspect gitlab/gitlab-runner
                                    #template: docker inspect __User__/__ImageName__
                                    #// ã‚¿ã‚°ãŒçœç•¥ã•ã‚Œã‚‹ã¨ latest ã‚’æŒ‡å®šã—ãŸã¨ãã¨åŒã˜å‹•ãã‚’ã—ã¾ã™  #search: search Docker image tag
                                - docker inspect --format='Image ID = {{.Id}}, Architecture = {{.Architecture}}, Labels = {{.Config.Labels}}' gitlab/gitlab-runner
                                    #template: __User__/__ImageName__
                    ã‚µãƒ³ãƒ—ãƒ«:
                        - gitlab/gitlab-runner:ubuntu-v16.6.0
                ã‚¿ã‚°ã‚’èª¿ã¹ã¾ã™:  #keyword: search Docker image tag
                    Tags ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™:
                        #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                        - https://hub.docker.com  >>  gitlab/gitlab-runnerï¼ˆã‚’æ¤œç´¢ï¼‰>>ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰>> Tags ã‚¿ãƒ–
                        - https://hub.docker.com/r/gitlab/gitlab-runner  >>  Tags ã‚¿ãƒ–
                            #template: https://hub.docker.com/r/__User__/__ImageName__  >>  Tags ã‚¿ãƒ–
                        - https://hub.docker.com/r/gitlab/gitlab-runner/tags
                            #template: https://hub.docker.com/r/__User__/__ImageName__/tags
                    Filter Tagsï¼ˆæ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ï¼‰ã«ã‚¿ã‚°ã®ä¸€éƒ¨ã‚’å…¥åŠ›ã—ã¾ã™:
                        ã‚µãƒ³ãƒ—ãƒ«:
                            - ubuntu-v  #// gitlab/gitlab-runner:ubuntu-v16.6.0
                            - alpine-v  #// gitlab/gitlab-runner:alpine-v16.6.0
            æ–‡æ›¸è¨­å®š: #settings:
                __User__: gitlab
                __ImageName__: gitlab-runner
        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼èµ·å‹•: #keyword: make Docker container  #// OS ã‚¤ãƒ¡ãƒ¼ã‚¸
            OS ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ä½œã‚‹å ´åˆ: #keyword: Docker OS image,  Docker image catalog
                é–¢é€£ >> å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #search: install service Docker container
                ï¼ˆãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰:
                    å…¬å¼ã®è»½é‡ãªã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ Dockerfile ã® FROM ã«æŒ‡å®šã—ã€yum ç­‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: making docker image
                    #ref: https://qiita.com/yoshii0110/items/0accb7f21fa1c375e0d7
                Ubuntu:
                    å…¬å¼:  #ref: https://hub.docker.com/_/ubuntu
                        ubuntu:20.04  #ref: https://hub.docker.com/layers/library/ubuntu/20.04/images/sha256-a4fab1802f08df089c4b2e0a1c8f1a06f573bd1775687d07fef4076d3a2e4900?context=explore
                Rocky: #keyword: Docker Rocky,  Docker rockylinux
                    å…¬å¼:  #ref: https://hub.docker.com/_/rockylinux
                        rockylinux:8.8.20230518-minimal:  #ref: https://hub.docker.com/_/rockylinux/tags?page=1&name=8.8
                        rockylinux:8.8.20230518:  #ref: https://hub.docker.com/_/rockylinux/tags?page=1&name=8.8
                        ã‚µãƒ³ãƒ—ãƒ« Dockerfile: |
                            FROM rockylinux:8.8.20230518

                            RUN  sudo dnf install -y  git  git-lfs  findutils  iputils  procps  bind-utils  iproute  which  mariadb-devel  gettext
                                #// git  git-lfs  #// git command
                                #// findutils     #// xargs command
                                #// iputils       #// ping command
                                #// procps        #// ps, top, kill, free command
                                #// bind-utils    #// nslookup, dig command
                                #// iproute       #// ip addr command
                                #// which         #// which command
                                #// mariadb-devel #// mysql_config command
                                #// gettext       #// msgfmt command

                            ARG  DOCKER_CE_CLI_VERSION=25.0.4
                            RUN  sudo yum install -y yum-utils  && \
                                sudo yum-config-manager  --add-repo https://download.docker.com/linux/centos/docker-ce.repo  && \
                                sudo yum install -y  docker-ce-cli
                            
                            ARG  DOCKER_COMPOSE_VERSION=v2.24.7
                                #// https://github.com/docker/compose/releases
                            RUN  sudo curl -L "https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose  && \
                                sudo chmod +x /usr/local/bin/docker-compose

                            ARG  GOLANG_VERSION=1.22.5
                            RUN  sudo curl -L  "https://go.dev/dl/go${GOLANG_VERSION}.linux-amd64.tar.gz"  \
                                    --output "/usr/lib/go${GOLANG_VERSION}.linux-amd64.tar.gz"  ||  Error
                            RUN  sudo rm -f     "/usr/lib/golang"  ||  Error  #// Remove old version Go language
                            RUN  sudo tar -xzf  "/usr/lib/go${GOLANG_VERSION}.linux-amd64.tar.gz"  -C "/usr/lib"  ||  Error
                            RUN  sudo mv        "/usr/lib/go"  "/usr/lib/golang"  ||  Error
                            RUN  sudo rm -f     "/usr/lib/go${GOLANG_VERSION}.linux-amd64.tar.gz"  ||  Error
                            RUN  sudo ln -sf    "/usr/lib/golang/bin/go"  "/usr/bin/go"  ||  Error
                            RUN  sudo ln -sf    "/usr/lib/golang/bin/gofmt"  "/usr/bin/gofmt"  ||  Error
                            RUN  go version  |  grep "${GOLANG_VERSION}"  ||  Error

                            ARG  NVM_VERSION=0.39.3
                            ARG  NODE_JS_VERSION=12.16.1
                            ARG  NODE_JS_ANOTHER_VERSION=16.20.1
                            RUN  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v${NVM_VERSION}/install.sh  | bash
                            RUN  source ~/.bashrc  &&  nvm install ${NODE_JS_VERSION}
                            RUN  source ~/.bashrc  &&  nvm install ${NODE_JS_ANOTHER_VERSION}
                            RUN  source ~/.bashrc  &&  nvm use ${NODE_JS_VERSION}
                            RUN  echo  'export NVM_DIR="/home/vagrant/.nvm"'                                                                 | sudo tee     /etc/profile.d/nvm.sh  && \
                                echo  '[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm'                                   | sudo tee -a  /etc/profile.d/nvm.sh  && \
                                echo  '[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion' | sudo tee -a  /etc/profile.d/nvm.sh
                            RUN  source ~/.bashrc  &&  npm install --global yarn
                Alpine Linux: #keyword: Docker Alpine Linux  #// è»½é‡ Linux OS ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä½œã‚Šã¾ã™  #search: Alpine Linux
                    èµ·å‹•ã‚³ãƒãƒ³ãƒ‰:
                        docker container run -it alpine /bin/ash
                            #search: container without Dockerfile
                    ã‚¤ãƒ¡ãƒ¼ã‚¸å: alpine
                    å‚è€ƒ:
                        è¶…è»½é‡ãª Alpine Linux ã«ã¤ã„ã¦èª¿ã¹ãŸ:  #ref: https://qiita.com/ryuichi1208/items/6020cfabc92bd8153654
                CentOS: #keyword: Docker CentOS  #// CentOS7 ã® Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã‚’ WSL2 å†…ã«èµ·å‹•ã—ã¾ã™
                    å…¬å¼:  #ref: https://hub.docker.com/_/centos
                        Dockerfile:  #ref: https://hub.docker.com/_/centos  >>  Dockerfile for systemd base image
                    OS å˜ä½“ã®å ´åˆ: #keyword: Docker CentOS7  #// ã“ã® CentOS7 ã« VSCode ã®ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶šã¯ä½¿ãˆã¾ã›ã‚“ã€‚WSL2 ã«å¯¾ã—ã¦ã¯ä½¿ãˆã¾ã™
                        WSL2 ã¨ docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            Ubuntu 20.04: #search: WSL2 restore
                        ã‚¤ãƒ¡ãƒ¼ã‚¸å: centos:7
                        èµ·å‹•ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ:
                            -   docker run -it centos:7 /bin/bash
                                    #search: container without Dockerfile
                            -   docker run  -v "${PWD}:/root/host"  -it centos:7  /bin/bash
                        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆ:  #keyword: docker_centos7  #ref: ${GitHub}/MyPrivateCode/docker/docker_centos7
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ä½¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰:
                            ping, curl, yum, python(2.7.5) ãã®ä»–ã¯ ls /bin ã§åˆ†ã‹ã‚Šã¾ã™
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ä½¿ãˆãªã„ã‚³ãƒãƒ³ãƒ‰:  #// ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™
                            pip:  #search: Python2 pip docker
                    CentOS7 + SSH ã‚µãƒ¼ãƒãƒ¼ ã®å ´åˆ: #keyword: Docker CentOS SSH
                        WSL2 ã¨ docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            Ubuntu 20.04: #search: WSL2 restore
                        CentOS7 + SSH ã‚µãƒ¼ãƒãƒ¼ ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™:
                            ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆ:  #keyword: docker_centos7_ssh  #ref: ${GitHub}/MyPrivateCode/docker/docker_centos7_ssh
                            æ‰‹å‹•ã®å ´åˆ:
                                Dockerfile: |  #ref: (WSL2) ~/docker_centos7/Dockerfile
                                    FROM centos:7

                                    ARG http_proxy
                                    ARG https_proxy

                                    RUN yum -y update && yum -y install openssh-server openssh-clients sudo
                                    RUN ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key -N '' \
                                        && sed -ri 's/^#PermitRootLogin\s+.*/PermitRootLogin yes/' /etc/ssh/sshd_config \
                                        && sed -ri 's/UsePAM yes/#UsePAM yes/g' /etc/ssh/sshd_config
                                    RUN useradd docker && echo "docker:docker" | chpasswd && echo "docker ALL=(ALL) ALL" >> etc/sudoers
                                    EXPOSE 22
                                    CMD ["/usr/sbin/sshd", "-D"]
                                WSL2 bash: |
                                    docker build \
                                        --build-arg  http_proxy=http://__ProxyServer__:__Port__ \
                                        --build-arg https_proxy=http://__ProxyServer__:__Port__ \
                                        -t centos7_ssh "."
                        ï¼ˆ2å›ç›®ä»¥é™ï¼‰å¤ã„ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãªã©ã‚’å‰Šé™¤ã—ã¾ã™:
                            (WSL2 bash):
                                docker system prune --force
                        SSH ã‚µãƒ¼ãƒãƒ¼ ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:
                            (WSL2 bash):
                                docker run -d  -p 5022:22  --name centos7_ssh-1  centos7_ssh
                        WSL2 ã‹ã‚‰ SSH ã‚µãƒ¼ãƒãƒ¼ ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            (WSL2 bash):
                                ssh docker@localhost -p 5022  #// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ docker
                        Windows ã‹ã‚‰ SSH ã‚µãƒ¼ãƒãƒ¼ ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            (git bash):  #// WSL2 ã¨åŒã˜ã‚³ãƒãƒ³ãƒ‰ã§ã™
                                ssh docker@localhost -p 5022  #// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ docker
                    MySQL Docker:  #search: install MySQL Docker
            ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚‹å ´åˆ: #keyword: making docker image  #// ã‚³ãƒãƒ³ãƒ‰ã‚’é€”ä¸­ã¾ã§å®Ÿè¡Œã—ãŸçµæœã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãã€å°‘ã—ãšã¤ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ã„ãã¾ã™
                è¨­å®š: #settings:
                    __NewImageName__: example_service
                Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    #search: install Docker
                å…¬å¼ã¨å¤‰ã‚ã‚‰ãªã„ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™:
                    å‚è€ƒ:  #search: install service Docker container
                    ã‚µãƒ³ãƒ—ãƒ«:
                        ./Dockerfile:
                            FROM  centos:7  #// ä¾‹
                        (@host):
                            - docker build  -t example_service:s0  "."   #template: -t __NewImageName__:s0  #// step 0
                æœ€åˆã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿé¨“ã—ã¾ã™:  #focus: yum install
                    (@host):
                        - docker container run -it example_service:s0  /bin/bash  #template: -it __NewImageName__
                    (@example_service):  #template: (@__NewImageName__)
                        - yum install -y java  #// æœ€åˆã®ã‚³ãƒãƒ³ãƒ‰
                        - exit
                æœ€åˆã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å…¥ã‚Œã¾ã™:
                    ./Dockerfile:  #focus: s0,  yum install
                        FROM  example_service:s0
                        RUN \
                            yum install -y \
                                java
                    (@host):  #focus: s1
                        - docker build  -t example_service:s1  "."   #template: -t __NewImageName__
                ï¼’ã¤ç›®ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿé¨“ã—ã¾ã™:  #focus: curl
                    (@host):  #focus: s1
                        - docker container run -it example_service:s1  /bin/bash
                    (@example_service):  #template: (@__NewImageName__)
                        -   mkdir -p ~/Downloads/wiremock  && \
                            cd       ~/Downloads/wiremock  && \
                            curl -O  https://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-jre8-standalone/2.33.2/wiremock-jre8-standalone-2.33.2.jar
                        -   exit
                ï¼’ã¤ç›®ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å…¥ã‚Œã¾ã™:
                    ./Dockerfile:  #focus: s1, curl  #// FROM ã®ã‚¿ã‚°ã‚’ s1 ã«å¤‰ãˆã€RUN ã‚’ï¼’ã¤ç›®ã®ã‚³ãƒãƒ³ãƒ‰ã«ç½®ãæ›ãˆã¾ã™
                        FROM  example_service:s1
                        RUN \
                            mkdir -p ~/Downloads/wiremock  && \
                            cd       ~/Downloads/wiremock  && \
                            curl -O  https://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-jre8-standalone/2.33.2/wiremock-jre8-standalone-2.33.2.jar
                    (@host):  #focus: s2
                        - docker build  -t example_service:s2  "."   #template: -t __NewImageName__
                ä»¥ä¸Šã‚’æœ€å¾Œã®ã‚³ãƒãƒ³ãƒ‰ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™:
                å…¨ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™:
                    ./Dockerfile:  #focus: centos,  yum install,  curl
                        FROM  centos:7
                        RUN \
                            yum install -y \
                                java
                            mkdir -p ~/Downloads/wiremock  && \
                            cd       ~/Downloads/wiremock  && \
                            curl -O  https://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-jre8-standalone/2.33.2/wiremock-jre8-standalone-2.33.2.jar
                    (@host):  #focus: 1.0.0
                        - docker build  -t example_service:1.0.0  "."   #template: -t __NewImageName__
                é€”ä¸­ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™:
                    #search: delete docker image
            èµ·å‹•å¾…ã¡:
                Linux nc:  #search:
                wait-for-it.sh:  #search: wait-for-it.sh
                HEALTHCHECK, å®Œäº†æ¡ä»¶: #keyword: Dockerfile HEALTHCHECK
                    ã‚µãƒ³ãƒ—ãƒ«:  #// HTTP ã‚µãƒ¼ãƒãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰èµ·å‹•å®Œäº†ã¨ã—ã¾ã™
                        Dockerfile:
                            HEALTHCHECK --interval=5m --timeout=3s \
                                CMD curl -f http://localhost/ || exit 1
                    é–¢é€£:
                        docker-compose:  #search: docker-compose healthcheck
                    å‚è€ƒ:
                        #ref: https://docs.docker.com/engine/reference/builder/#/healthcheck
                        #ref: https://stackoverflow.com/questions/21183088/how-can-i-wait-for-a-docker-container-to-be-up-and-running
            ç„¡é™ sleep:  #search: docker container run -d sleep
            (é–¢é€£) >> Docker Hub:  #search: Docker Hub
        ã‚¯ãƒªãƒ¼ãƒ³, prune:  #keyword: Docker prune clean
            docker system prune   #search: delete docker image
        ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: #keyword: upload Docker image
            GitLab: #keyword: GitLab upload Docker image
                Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ç”¨æ„ã—ã¾ã™:
                ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ Docker ãƒªãƒã‚¸ãƒˆãƒª ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #keyword: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ Docker ãƒªãƒã‚¸ãƒˆãƒª
                    GitLab ãƒªãƒã‚¸ãƒˆãƒª >> Settingsï¼ˆå·¦ä¸‹ï¼‰>> General >>
                    Visibility, project features, permissions >> Container registryï¼ˆã‚’ã‚ªãƒ³ã€Everyone With Access ã«ï¼‰>>
                    Save Changesï¼ˆä¸‹ï¼‰
                    #search: GitLab Docker permissions
                ãƒ¡ãƒ³ãƒãƒ¼ã‚’ä½¿ã†å ´åˆ:  #search: GitLab members
                    å¿…è¦ãªãƒ­ãƒ¼ãƒ«: #search: GitLab Roles  #// Docker ãƒ¬ã‚¸ã‚¹ãƒˆãƒª ã¸ã®ç™»éŒ²ãªã©
                        ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¸ã® create, delete: Maintainer, ...
                        ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¸ã® push: Developer, Maintainer, ...
                    ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                        åŸºæœ¬èªè¨¼ã‚’ä½¿ã„ã¾ã™
                PAT ã‚’ä½¿ã†å ´åˆ:
                    personal access token (PAT) ã‚’ä½œã‚Šã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: https://gitlab.com/-/profile/personal_access_tokens >> Add new tokenï¼ˆå³ä¸Šï¼‰
                            #// URL ã¯ https://gitlab.com/ >> ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ã‚¢ã‚¤ã‚³ãƒ³ >> Preferences
                        Token name: __TokenName__
                        Select scopes:
                            Docker ãƒ¬ã‚¸ã‚¹ãƒˆãƒªâ€•ã«ç™»éŒ²ã™ã‚‹å ´åˆ: api  #// ã“ã‚Œã ã‘ã§ OK
                            å®Ÿé¨“é–‹å§‹æ™‚: ï¼ˆã™ã¹ã¦ã«ãƒã‚§ãƒƒã‚¯ï¼‰  #// PAT ã¯æ…é‡ã«æ‰±ã„ã€æ¯æ—¥å‰Šé™¤ãƒ»æ›´æ–°ã™ã‚‹ãªã©ã—ã¦ãã ã•ã„
                        Create personal access token ãƒœã‚¿ãƒ³:
                        ï¼ˆCopy personal access tokenï¼‰ãƒœã‚¿ãƒ³:
                        ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã®å®‰å…¨ãªå ´æ‰€ã«è²¼ã‚Šä»˜ã‘ï¼‰:  #search: â—secret
                        ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³åã‚‚ã‚³ãƒ”ãƒšï¼‰:
                        Ã—ãƒœã‚¿ãƒ³ï¼ˆPAT ã‚’é–‰ã˜ã¾ã™ï¼‰:
                    ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™: #keyword: docker login registry steps
                        (docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ VM ã® bash):
                            - docker login registry.gitlab.com  -u Takakiriy  #// Password: ã¨è¡¨ç¤ºã•ã‚ŒãŸã‚‰ __PAT__ ã‚’è²¼ã‚Šä»˜ã‘ã¦ Enter ã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™
                                #// ã¾ãŸã¯
                            - docker login registry.gitlab.com  -u Takakiriy  -p __PAT__
                                #template: -u __GitLabAcount__  -p __PAT__
                        ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ:
                            ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: |
                                dial unix /var/run/docker.sock: connect: permission denied
                            å¯¾å‡¦:
                                newgrp docker
                ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã« ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚° ãŒä»˜ã„ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    docker images
                    #search: Docker target image tag
                    #search: docker tag
                push ã—ã¾ã™:  #// ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™
                    docker push  __Host__/__User__/__Project__/__ImageName__:__TagName__
                        #// docker images ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã•ã‚ŒãŸã‚¿ã‚°ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™
                ç™»éŒ²ã‚’ç¢ºèªã—ã¾ã™:
                    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ URL: https://gitlab.com/takakiriy1/first  #template: __GitLabUser__/__Reposiroty__
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ >> Deploy >> Container Repository
                        ã¾ãŸã¯  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ >> Packages & Registories >> Container Repository
                ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™:
                    docker logout  #// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãªã—
                ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ã‹:
                    ç¢ºèªæ–¹æ³•ä¸æ˜
                    #// cat ~/.docker/config.json | grep registry.gitlab.com ã¯ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™
                å‹•ä½œç¢ºèªã—ã¾ã™:
                    #search: docker run
                PAT ã‚’å‰Šé™¤ã—ã¾ã™:
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: https://gitlab.com/-/profile/personal_access_tokens >> Personal Access Tokens >> ã‚´ãƒŸç®± ãƒœã‚¿ãƒ³
                #ref: https://docs.docker.com/engine/reference/commandline/login/#credential-stores
        ãƒ­ã‚°ã‚¤ãƒ³:  #keyword: Docker login,  Docker log in,  Docker container login bash
            #snip:  docker exec  -it __ContainerName__  bash
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(VM)ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹å ´åˆ:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                    docker ps --format "{{.Names}}"  #// ã§è¡¨ç¤ºã•ã‚ŒãŸä¸€è¦§ã®ä¸­ã®ã€å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ __ContainerName__ ã¨ã—ã¾ã™
                ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                    ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®èµ·å‹•ã«æˆåŠŸã—ã¦ã„ã‚‹å ´åˆ:
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã« bash ãŒæœ‰ã‚‹å ´åˆ:
                            docker exec -it  __ContainerName__  bash
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã« bash ãŒç„¡ã„å ´åˆ:
                            - docker exec -it  __ContainerName__  sh
                            - docker exec -it  __ContainerName__  /bin/sh
                    ã‚³ãƒ³ãƒ†ãƒŠãƒ¼èµ·å‹•æ™‚ã«çµ‚äº†ã—ã¦ã—ã¾ã†å ´åˆ:  #// Dockerfile ã® CMD ã®ãƒ‡ãƒãƒƒã‚°æ™‚ãªã©
                        docker run ã‚³ãƒãƒ³ãƒ‰ã®ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã« bash ã‚’æŒ‡å®šã™ã‚‹ã‹ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã‚’ bash ã«å¤‰æ›´ã—ã¾ã™:  #search: docker run command argument
                            docker run -it --rm  --name __NewContainerName__  __DockerImageName__  bash
                        docker-compose.yml : |
                            entrypoint: '/bin/sh -c "sleep infinity"'
                        #// æ—¢å­˜ã® entrypoint ã¯ # ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¾ã™
                å‚è€ƒ: #ref: ${programming}/OS/VMWare.svg#Docker_exec
            docker-compose ã‚’ä½¿ã†å ´åˆ:  #search: docker-compose login
            Docker ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹å ´åˆ:  #// docker login ã‚³ãƒãƒ³ãƒ‰  #search: docker login registry steps
        ç’°å¢ƒä¾å­˜ã‚’ç„¡ãã™:  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã¯ Linux ã®ç¨®é¡ã‚„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å½±éŸ¿ã‚’å—ã‘ãªã„
            æ³¨æ„:
                GPU ã‚’ä½¿ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒ : Linux ã§ã¯å‹•ã‹ãªã„å¯èƒ½æ€§ãŒé«˜ã„
        ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹: #keyword: Docker ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
            Qiita: #ref: https://qiita.com/yoshii0110/items/0accb7f21fa1c375e0d7
            å…¬å¼: #ref: https://docs.docker.jp/engine/userguide/eng-image/dockerfile_best-practice.html
            ã‚³ãƒ³ãƒ†ãƒŠã”ã¨ã«ï¼‘ã¤ã®ãƒ—ãƒ­ã‚»ã‚¹ã ã‘å®Ÿè¡Œã—ã¾ã™:  #ref: https://docs.docker.jp/engine/userguide/eng-image/dockerfile_best-practice.html#id5
                æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒ«ã‚„ã‚³ãƒ³ãƒ†ãƒŠã®å†åˆ©ç”¨ã‚’ç°¡å˜ã«ã—ã¾ã™ã€‚
                ã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚µãƒ¼ãƒ“ã‚¹ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã¯ã€ ã‚³ãƒ³ãƒ†ãƒŠã®ãƒªãƒ³ã‚¯ ã‚’ä½¿ã„ã¾ã™ã€‚
    ç”»é¢, ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:  #// ä¸»ã« Windows ç”¨ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¸€è¦§ã™ã‚‹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã™  #keyword: Docker Dashboard
        é–‹ã: ï¼ˆWindows é€šçŸ¥é ˜åŸŸï¼‰Dockerï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Dashboard
        ç”»é¢æ§‹æˆ:
            è¨­å®šï¼ˆæ­¯è»Šãƒœã‚¿ãƒ³, å³ä¸Šï¼‰:
                Resources:
                    PROXIES: #ğŸŒŸ
            ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ï¼ˆå·¦ï¼‰:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãªã©ã® CRUD æ“ä½œã‚‚ã§ãã¾ã™
                Containers / Apps:
                    ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼ˆè¡Œï¼‰:
                        ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸åï¼‰:  #// Dockerfile ã®å†…å®¹ã®ä¸€éƒ¨ï¼Ÿ
                        ï¼ˆè¡Œã‚’ã‚¯ãƒªãƒƒã‚¯ï¼‰:
                            LOGS: #ğŸŒŸ #// æ¨™æº–å‡ºåŠ›
                            INSPECT:  #// PATH, ãƒã‚¦ãƒ³ãƒˆï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ï¼‰, ãƒãƒ¼ãƒˆç•ªå·
                            STATS:  #// CPU ä½¿ç”¨ç‡ã€ãƒ¡ãƒ¢ãƒªãƒ¼ä½¿ç”¨é‡ã€ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¢ã‚¯ã‚»ã‚¹é‡ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¸¯åŸŸä½¿ç”¨é‡
                        OPEN IN BROWSER:  #// å³ä¸Šã¸ã®çŸ¢å° ãƒœã‚¿ãƒ³
                        CLI: #ğŸŒŸ  #// >_ ãƒœã‚¿ãƒ³
                        STOP:  #// â–  ãƒœã‚¿ãƒ³
                        RESTART:  #// å³å›è»¢çŸ¢å° ãƒœã‚¿ãƒ³
                        DELETE: #ğŸŒŸ  #// ã‚´ãƒŸç®± ãƒœã‚¿ãƒ³  #keyword: Docker Dashboard DELETE
                Images:
                Volumes:
    ãƒ•ã‚¡ã‚¤ãƒ«:
        Dockerfile: #glossary: Dockerfile  #keyword:  #// ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«  #ref: ${programming}/OS/VMWare.svg#make_Docker_image_from_Dockerfile
            å…¬å¼: #ref: http://docs.docker.jp/engine/reference/builder.html
            æ¦‚è¦:  #search: èµ·å‹•ã®ã—ãã¿, ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å‹ã®ä»®æƒ³åŒ–æŠ€è¡“
            æ‰‹é †:
                Dockerfile ãªã—ã®å ´åˆ:  #keyword: container without Dockerfile  #// Dockerfile ã‚’ä½œã‚‰ãªãã¦ã‚‚ã€ã‚³ãƒãƒ³ãƒ‰ã ã‘ã§ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã§ãã¾ã™
                    åŸºæœ¬:
                        docker container run -it alpine /bin/ash
                            #// alpine ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¦ /bin/ash ã‚·ã‚§ãƒ«ã‚’é–‹ãã¾ã™
                Dockerfile ã‚ã‚Šã®å ´åˆ: #keyword: Dockerfile example1
                    åŸºæœ¬:  #focus: docker build
                        ./Dockerfile ã‚’ä½œã‚Šã¾ã™:
                            FROM  centos:7
                            RUN   yum install -y  java
                        ã‚³ãƒãƒ³ãƒ‰:
                            docker build  -t centos7_java  "."
                            docker run -it --rm  --name centos7_java-1  centos7_java
                            #search: docker build
                    ä¸€èˆ¬çš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆæ‰‹é †: #search: making docker image
                docker-compose.yml ã«ç½®ãæ›ãˆã‚‹å ´åˆ:  #search: Dockerfile to docker-compose.yml
                ãƒãƒ«ãƒ ã‚¹ãƒ†ãƒ¼ã‚¸ ãƒ“ãƒ«ãƒ‰: #keyword: Docker multi stage build  #ref: https://matsuand.github.io/docs.docker.jp.onthefly/develop/develop-images/multistage-build/
                    æ¦‚è¦: ã‚ã‚‹ Dockerfile ãŒä½œã£ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ A ã®ä¸­ã®ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã€åˆ¥ã® Dockerfile ãŒä½œã£ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ B ã®ä¸­ã«ã‚³ãƒ”ãƒ¼ã—ã€
                        ã‚¤ãƒ¡ãƒ¼ã‚¸ A ã‚’å‰Šé™¤ã—ã¾ã™ã€‚
                    é–¢é€£:
                        Dockerfile ã® RUN ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹å ´åˆ:  #search: Docker RUN script
                    å‚è€ƒ:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: multi Dockerfile
                Dockerfile ã‚’è¤‡æ•°ä½œã‚‹:  #// 1ã¤ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚‹å†…å®¹ã‚’è¤‡æ•°ã® Dockerfile ã«åˆ†ã‘ã¦æ›¸ãã“ã¨ãŒã§ãã¾ã™
                    å‚è€ƒ:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: multi Dockerfile
                    é–¢é€£ >> ãƒãƒ«ãƒ ã‚¹ãƒ†ãƒ¼ã‚¸ ãƒ“ãƒ«ãƒ‰: #search: Docker multi stage build
                ãƒ‡ãƒãƒƒã‚°: #keyword: debug Dockerfile  #// Dockerfile ã®ä¸­ã®ãƒ‡ãƒãƒƒã‚°
                    docker build å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆ:  #// RUN å‘½ä»¤ ã«æ›¸ã„ãŸã‚³ãƒãƒ³ãƒ‰ã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ãŒ 0 ä»¥å¤–ã®ã¨ã
                        docker build å®Ÿè¡Œæ™‚ã®å‡ºåŠ›ã®æœ€å¾Œ: |  #// æ™®é€šã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã¨åŒæ§˜ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                            Step 5/7 : RUN  echo "aaa"  |  sed 's/a/'
                             ---> Running in 9990f17e0b22
                            sed: -e expression #1, char 4: unterminated `s' command
                            The command '/bin/sh -c echo "aaa"  |  sed 's/a/'' returned a non-zero code: 1
                            ERROR
                        #// æ¬¡ã® Docker å‘½ä»¤ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“
                        #// Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä½œã‚‰ã‚Œã¾ã›ã‚“
                        #// CMD å‘½ä»¤ ã«æ›¸ã„ãŸã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã¯ docker build å®Ÿè¡Œæ™‚ã«ç™ºç”Ÿã—ã¾ã›ã‚“
                        Using cache ãŒè¡¨ç¤ºã•ã‚ŒãŸã¨ã:
                            - ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚
                            - å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ docker build ã« --no-cache ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã™ã€‚
                            - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å…¨å‰Šé™¤ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒéæ¨å¥¨ã§ã™  #search: delete docker image
                        ãƒ‡ãƒãƒƒã‚°æ–¹æ³•:  #search: debug Dockerfile  >>  RUN å‘½ä»¤ ã®ãƒ‡ãƒãƒƒã‚°
                    docker run å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆ:  #// CMD å‘½ä»¤ ã¾ãŸã¯ docker run ã«æ›¸ã„ãŸã‚³ãƒãƒ³ãƒ‰ã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ãŒ 0 ä»¥å¤–ã®ã¨ã
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            $ docker run -d -p 5022:22 --name centos7_ssh-1 centos7_ssh
                            060d950192c9219c54efcf2d11cd1748d89b4f888f2df6065918165efcd0d39e
                            docker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "/usr/sbin/sshd": stat /usr/sbin/sshd: no such file or directory: unknown.
                            ERROR
                        ãƒ‡ãƒãƒƒã‚°æ–¹æ³•:  #search: debug Dockerfile  >>  CMD å‘½ä»¤ ã®ãƒ‡ãƒãƒƒã‚°
                    docker ps ã® STATUS ãŒ Exited ã®å ´åˆ:  #search: docker ps STATUS Exited
                    RUN å‘½ä»¤ ã®ãƒ‡ãƒãƒƒã‚°:  #// ã‚¨ãƒ©ãƒ¼ã¯ docker build å®Ÿè¡Œæ™‚ã«ç™ºç”Ÿã—ã¾ã™
                        echo ãƒ‡ãƒãƒƒã‚°:  #// RUN å‘½ä»¤ ã« echo ã‚’å…¥ã‚Œã‚‹ã¨ docker build å®Ÿè¡Œæ™‚ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                            Dockerfile ã®ä¸€éƒ¨:
                                RUN  echo "aaa"  &&  echo "bbb"
                            docker build å®Ÿè¡Œæ™‚ã®å‡ºåŠ›ã®ä¸€éƒ¨: |
                                Step 5/7 : RUN  echo "aaa"  &&  echo "bbb"
                                ---> Running in 9990f17e0b22
                                aaa
                                bbb
                            --progress=plain ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                                docker build  --tag __DockerImageName__  __ProjectFolderPath__  --progress=plain
                    CMD å‘½ä»¤ ã®ãƒ‡ãƒãƒƒã‚°:  #// ã‚¨ãƒ©ãƒ¼ã¯ docker run å®Ÿè¡Œæ™‚ã«ç™ºç”Ÿã—ã¾ã™
                        ãƒ­ã‚°ã‚¤ãƒ³ ãƒ‡ãƒãƒƒã‚°:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ã‚·ã‚§ãƒ«ã‚’é–‹ã„ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™
                            docker run ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ã—ã¾ã™:
                                docker run -it --rm  --name __NewContainerName__  __DockerImageName__  bash
                                #// docker run ã‚³ãƒãƒ³ãƒ‰ã®ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã« bash ã‚’æŒ‡å®šã™ã‚‹ã‹ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã‚’ bash ã«å¤‰æ›´ã—ã¾ã™
                                #search: docker run command argument
                                #search: Docker login
                            ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã‚‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:
                                CMD ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚„ã€ãã®ä»–ã®ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚
            ã‚µãƒ³ãƒ—ãƒ«:  #search: Dockerfile example1
            #// ä»¥ä¸‹ã¯ Dockerfile ã®å‘½ä»¤
            FROM:  #// ãƒ™ãƒ¼ã‚¹ã¨ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸  #ref: http://docs.docker.jp/engine/reference/builder.html#from
                æ›¸å¼: #keyword: docker image name,  __DockerImageName__  #search: docker tag
                    - FROM __DockerImageName__   #// :__TagOrVersion__ ã‚’çœç•¥ã™ã‚‹ã¨ :latest ã‚’æŒ‡å®šã—ãŸã¨ãã¨åŒã˜æŒ‡å®šã«ãªã‚Šã¾ã™
                    - FROM __DockerImageName__:__TagOrVersion__
                    - FROM __Author__/__DockerRepositoryName__:__TagOrVersion__
                    - FROM __Host__/__User__/__Project__/__ImageName__:__TagName__  #search: Docker target image tag
                ã‚µãƒ³ãƒ—ãƒ«:
                    - FROM  centos:7
                    - FROM  tiangolo/uwsgi-nginx-flask:python3.6
                ãƒ›ã‚¹ãƒˆ, __Host__:  #// ãƒ›ã‚¹ãƒˆã§ã‚ã‚‹ã“ã¨ã®è¦‹åˆ†ã‘æ–¹
                    æœ€åˆã®ã€Œã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã€ã‚ˆã‚Šå·¦ã«ã€ãƒ”ãƒªã‚ªãƒ‰ï¼ˆ.ï¼‰ã¾ãŸã¯ã€ã‚³ãƒ­ãƒ³ï¼ˆ:ï¼‰ãŒã‚ã‚Œã°ã€ãƒ›ã‚¹ãƒˆåï¼ˆã¨ãƒãƒ¼ãƒˆç•ªå·ï¼‰ã§ã‚ã‚‹ã¨èªè­˜ã—ã¾ã™ã€‚
                    ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãŒç„¡ã‘ã‚Œã°ã€ã‚³ãƒ­ãƒ³ãŒã‚ã£ã¦ã‚‚ãƒ›ã‚¹ãƒˆåã§ã‚ã‚‹ã¨èªè­˜ã—ã¾ã›ã‚“ã€‚
                    ãƒ›ã‚¹ãƒˆåã®æŒ‡å®šãŒç„¡ã‘ã‚Œã°ã€Docker Hub (docker.ioï¼‰ãŒæŒ‡å®šã•ã‚ŒãŸã¨ãã¨åŒã˜å‹•ãã‚’ã—ã¾ã™ã€‚
                æ‰‹é †: #search: making docker image
                ãƒ—ãƒ­ã‚­ã‚·:
                    FROM ã§ä½¿ã‚ã‚Œã‚‹ãƒ—ãƒ­ã‚­ã‚·ã¯ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ä¸Šã§ã® Docker ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®è¨­å®šã‚„ ç’°å¢ƒå¤‰æ•° http_proxy, https_proxy ã«ã‚ˆã£ã¦åˆ¶å¾¡ã•ã‚Œã¾ã™
            RUN:  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸçµæœã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆãŒ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å…¥ã‚Šã¾ã™
                ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:
                    - RUN ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚‹ã®ã§ã¯ãªãã€å…¬å¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã„ã¾ã™
                    - docker-compose.yml ã« RUN ç›¸å½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç„¡ã„ãŸã‚ã€docker-compose.yml ã ã‘ã§å®Œçµã›ãšã€Dockerfile ãŒå¿…é ˆã§ã™
                    - RUN ã‚³ãƒãƒ³ãƒ‰ã‚’è¤‡æ•°æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€1ã¤ã® RUN ã”ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒä½œã‚‰ã‚Œã¾ã™
                    - RUN ã‚³ãƒãƒ³ãƒ‰ã‚’æ›¸ãå‰ã«ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã®ã‚·ã‚§ãƒ«ã‹ã‚‰å®Ÿé¨“ã—ã¦ã¿ã¾ã™ #search: making docker image
                    - RUN ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ã¨ãã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã¾ã™  #search: Docker RUN script
                æ›¸å¼:
                    RUN __ShellCommand__
                    RUN __ShellCommand__  # __Comment__    #// ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚·ã‚§ãƒ«ã«æ¸¡ã•ã‚ŒãŸå¾Œã§ã€ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰é™¤å¤–ã•ã‚Œã¾ã™
                    #// RUN ã‚³ãƒãƒ³ãƒ‰ã‚’ãªã‚‰ã¹ã¦ã„ãã¾ã™
                éæ¨å¥¨ã‚³ãƒãƒ³ãƒ‰:
                    cd:  #search: Dockerfile WORKDIR
                    su:  #search: Dockerfile USER
                    å¤‰æ•°å®šç¾©, .bashrc:  #search: Dockerfile ENV  #search: Dockerfile ARG
                ã‚µãƒ³ãƒ—ãƒ«:  #//ğŸŒŸ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ Docker ãƒ›ã‚¹ãƒˆ ã«ã‚ã‚‹ RPM ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ã€‚
                    åŸºæœ¬:
                        - RUN  yum install -y  java
                        - RUN  yum install -y \
                            java
                        - RUN \
                            yum -y update  && \
                            yum install -y  java
                    Docker ãƒ›ã‚¹ãƒˆ ã«ã‚ã‚‹ RPM ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: #keyword: Docker install RPM
                        COPY \
                            your-package.rpm  \
                            /tmp/
                        RUN \
                            dnf install -y  /tmp/your-package.rpm  && \
                            rm  /tmp/your-package.rpm   #// Reduce image size
                        #search: Dockerfile COPY
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™:  #search: Docker user
                å‡ºåŠ›ã‚’è¡¨ç¤ºã—ã¾ã™: #keyword: echo docker build
                    æ¦‚è¦: çµ‚äº†ã‚³ãƒ¼ãƒ‰ã‚’ 0 ä»¥å¤–ã«ã™ã‚‹ï¼ˆfalse ã‚’å®Ÿè¡Œã™ã‚‹ï¼‰ã“ã¨ã§ã€å‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                    docker build ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹å ´åˆ: | #keyword: --progress=plain
                        $ docker build  __Parameters__  --progress=plain
                        ...
                        #7 [4/4] RUN  python3 --version
                        #7 0.395 Python 3.8.10
                        #7 DONE 0.5s
                    RUN ã‚³ãƒãƒ³ãƒ‰ã‚’ç·¨é›†ã™ã‚‹å ´åˆ:
                        Dockerfile:
                            RUN  echo  $http_proxy;  python3 --version;  false
                            #// è¡¨ç¤ºã—ãŸã‚‰ç¶šãã‚’å®Ÿè¡Œã§ãã¾ã›ã‚“
                        å‡ºåŠ›: |  #focus: 192.168.1.111,  3.8.10
                            ...
                            => CACHED [4/5] RUN apt-get install -y python3
                            => ERROR [5/5] RUN  echo  http://192.168.1.111:8080;  python3 --version;  false
                            ------
                            > [5/5] RUN  echo  http://192.168.1.111:8080;  python3 --version;  false:
                            0.436 http://192.168.1.111:8080
                            0.439 Python 3.8.10
                ãƒ—ãƒ­ã‚­ã‚·:  #// http_proxy, DNS
                    ç’°å¢ƒå¤‰æ•°:
                        RUN ã§ä½¿ã‚ã‚Œã‚‹ãƒ—ãƒ­ã‚­ã‚·ã¯ã€Dockerfile ENV ã‚„ ARG ã® http_proxy, https_proxy ã«ã‚ˆã£ã¦åˆ¶å¾¡ã•ã‚Œã¾ã™
                        #search: Docker proxy ENV
                ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ:  #keyword: Docker RUN script  #// ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ãŒã§ãã¾ã™
                    Dockerfile ã®ä¸€éƒ¨:  #// ã‚¹ã‚¯ãƒªãƒ—ãƒˆã”ã¨ã«ã¾ã¨ã‚ã‚‹ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŠ¹ãã‚„ã™ããªã‚Šã¾ã™  #focus: install_example
                        COPY  scripts_in_docker/install_example.sh  /share/
                        RUN   chmod +x  /share/install_example.sh
                        RUN   /share/install_example.sh

                        COPY  scripts_in_docker/install_example_2.sh  /share/
                        RUN   chmod +x  /share/install_example_2.sh
                        RUN   /share/install_example_2.sh
                    å‚è€ƒ:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: multi Dockerfile
                æ‰‹é †: #search: making docker image
                ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ãƒˆãŒæº–å‚™ã§ãã‚‹ã¾ã§å¾…ã¤ã¨ã:
                    #search: wait-for-it.sh
                å±¥æ­´:  #// ã“ã‚Œã¾ã§å®Ÿè¡Œã—ã¦ããŸã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ä¾å­˜ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚å«ã¿ã¾ã™ã€‚
                    #search: docker history
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (Dockerfile RUN):
                    - #// ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®š
                        æ‰‹é †: docker build  -t __NewImageName__ "."
                        Dockerfile: |
                            FROM centos:7
                            RUN yum -y update && yum -y install openssh-server openssh-clients sudo
                        ã‚¨ãƒ©ãƒ¼: |
                            Could not retrieve mirrorlist ____
                        å¯¾å‡¦:  #search: Docker container proxy
            CMD:  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã«ã¯ CMD ã«é–¢ã™ã‚‹æƒ…å ±ã¯å…¥ã‚Šã¾ã™
                æ¦‚è¦: docker run ã‚³ãƒãƒ³ãƒ‰ã« __Command__ å¼•æ•°ã‚’æŒ‡å®šã—ãªã‹ã£ãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™  #search: docker run command argument
                ã‚¹ã‚³ãƒ¼ãƒ—:
                    docker build ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚: CMD ã«æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã›ã‚“
                    docker run ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚:
                        __Command__ æŒ‡å®šæ™‚: CMD ã«æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã›ã‚“
                        __Command__ æŒ‡å®šãªã—ã®æ™‚: CMD ã«æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                èµ·å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã„ã‚ã„ã‚ã‚ã‚‹ã¨ã:
                    ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã«å…¥ã‚Œã¦ã€ãã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§èµ·å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã³ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:  #// __Command__ ã‚’æŒ‡å®šã›ãšã« docker run ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ãŸã¨ãã«å®Ÿè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
                    COPY ["__RelativePathInDockerHost__", "__FullPathInDockerImage__"]
                    RUN  sudo chown  __User__:__Group__  "./cmd.sh"
                    RUN  sudo chmod +x  "./cmd.sh"
                    CMD  ["./cmd.sh"]
                    #search: GitHub runner Dockerfile
            ENTRYPOINT:  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã€‚ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯å¤‰ã‚ã‚Šã¾ã›ã‚“
                _: CMD ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ãŒã€ENTRYPOINT ã§æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã«ãªã‚Šã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:
                    Dockerfile ãŒ:
                        ENTRYPOINT ["/docker-entrypoint.sh"]
                        CMD        [ "--https-port", "8443", "--verbose" ]
                    ãªã‚‰ã€å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯: |
                        /docker-entrypoint.sh  --https-port 8443  --verbose"
                å‚è€ƒ: #ref: ${programming}/OS/VMWare.svg#Dockerfile_ENTRYPOINT
                ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ:
                    Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯å¤‰ã‚ã‚Šã¾ã›ã‚“  #search: èµ·å‹•ã®ã—ãã¿, ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å‹ã®ä»®æƒ³åŒ–æŠ€è¡“
            ENV:  #// ç’°å¢ƒå¤‰æ•°ã€å€¤åŸ‹ã‚è¾¼ã¿  #ref: https://docs.docker.jp/engine/reference/builder.html#builder-env
                æ¦‚è¦: ç’°å¢ƒå¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¾ã™
                ã‚¹ã‚³ãƒ¼ãƒ—: ç’°å¢ƒå¤‰æ•°ã®å®šç¾©ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å…¥ã‚Šã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼èµ·å‹•æ™‚ï¼ˆå®Ÿè¡Œé–‹å§‹æ™‚ï¼‰ã«ã‚‚è¨­å®šã•ã‚Œã¾ã™
                åŸºæœ¬:  #// Dockerfile
                    -   ENV MY_NAME John
                    -   ENV  MY_NAME  "John Doe"       #// ENV __Name__ __Value__  # __Comment__ ã¯ã§ãã¾ã›ã‚“ã€‚ " " ã§å›²ã¾ãªã„ã¨ã€ç©ºç™½åŒºåˆ‡ã‚Šã«ãªã‚Šã¾ã™
                    -   ENV  MY_NAME  "John Doe"       # __Comment__   #// ã‚³ãƒ¡ãƒ³ãƒˆã¯æ›¸ã‘ã¾ã™
                    -   ENV  MY_NAME  "John ${MyARG}"  #// ARG ãªã©ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™
                è¨­å®šå¤‰æ›´:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•ã‚’èµ·å‹•ã™ã‚‹ã¨ãã«ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’å¤‰æ›´ã—ã¾ã™
                    docker run:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™
                        --env: 
                            docker run ____ --env __Key__=__Value__
                    docker exec:  #// ãƒ—ãƒ­ã‚»ã‚¹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™
                        -e, --env: #keyword: docker exec --env,  docker exec -e option  #// ç’°å¢ƒå¤‰æ•°
                            docker exec -it  -e http_proxy=${http_proxy}  -e https_proxy=${https_proxy}  __ContainerName__  __Command__
                        #// docker run ã§æŒ‡å®šã—ãŸã‚‰ docker exec ã§æŒ‡å®šã—ãªãã¦ã‚‚ã‚ˆã„ã§ã™ã€‚
                è¡¨ç¤º:
                    ã‚³ãƒ³ãƒ†ãƒŠâ€•:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã®ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™
                        docker inspect --format='{{range .Config.Env}}{{println .}}{{end}}' __ContainerName__
                    ãƒ—ãƒ­ã‚»ã‚¹:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã®ãƒ—ãƒ­ã‚»ã‚¹ã®ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ä¸€è¦§ã—ã¾ã™
                        docker exec -it  -e http_proxy=${http_proxy}  -e https_proxy=${https_proxy}  __ContainerName__  env
                å‚ç…§, ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼: #keyword: evaluate docker environment variable
                    ãƒ›ã‚¹ãƒˆ OS ã®ç’°å¢ƒå¤‰æ•°:
                        docker exec -it  --user __User__  __ContainerName__  echo  "$HOME"
                    ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ç’°å¢ƒå¤‰æ•°:
                        echo "$HOME" ã®å ´åˆ:  #// ~ ã‚‚å±•é–‹ã§ãã¾ã™
                            docker exec -it  --user __User__  __ContainerName__  bash -c 'echo "$HOME"'
                        echo "$HOME" '$HOME' ã®å ´åˆ: #keyword: docker exec single quote   #// ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã‚’å«ã‚€å ´åˆ  #focus: $HOME
                            ã‚³ãƒãƒ³ãƒ‰: docker exec -it  --user __User__  __ContainerName__  bash -c 'echo "$HOME" '"'"'$HOME'"'"
                            è§£èª¬: |
                                - bash -c ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€[ 'echo "$HOME" ',  "'",  '$HOME',  "'" ] ã¨ã„ã†æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚
                                - '____' ã®ã™ãå³ã« "'" ã‚’æ›¸ãã¨å¼•æ•°ã®å€¤ã®ç¶šãã¨ã—ã¦ ' ã‚’è¿½åŠ ã—ã¾ã™ã€‚
                            ãƒœãƒ„:  #// \ ã§ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¾ã™ï¼ˆã§ãã¾ã›ã‚“ï¼‰
                                docker exec -it --user docker centos7_ssh-1 /bin/bash -c 'echo "$HOME" \'$HOME\''
                                #// ã‚³ãƒãƒ³ãƒ‰ãŒé€”ä¸­ã§ã‚ã‚‹ã¨è§£é‡ˆã•ã‚Œã€ç¶šãã®å…¥åŠ›ã‚’è¦æ±‚ã•ã‚Œã¾ã™
                        ãƒ›ã‚¹ãƒˆ OS ã®ç’°å¢ƒå¤‰æ•°ã¨æ··åˆã™ã‚‹å ´åˆ:  #focus: $HOME
                            docker exec -it  --user __User__  __ContainerName__  bash -c 'echo "$HOME" '"$HOME"
                            #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® HOME å¤‰æ•°ã¨ã€ãƒ›ã‚¹ãƒˆ OS ã® HOME å¤‰æ•°ã‚’è¡¨ç¤ºã—ã¾ã™
                            #search: docker exec single quote
                    ç’°å¢ƒå¤‰æ•°ã‚’å±•é–‹ã—ãªã„:
                        docker exec -it  --user __User__  __ContainerName__  echo  '$HOME'
                .bashrc: #keyword: Docker .bashrc  #search: .bashrc  #// Docker ã‚’ä½¿ã‚ãªã„ã¨ãã¯ .bashrc ã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã„ãŸå ´åˆ
                    å¤‰æ•°å®šç¾©:
                        #// ä»¥ä¸‹ã®ã‚ˆã†ãªç’°å¢ƒå¤‰æ•°ã®å®šç¾©ã§ã‚ã‚Œã°ã€Dockerfile RUN ã§ã¯ãªã Dockerfile ENV ã‚’ä½¿ã„ã¾ã™
                        Dockefile:  #// ä»¥ä¸‹ã¯éæ¨å¥¨ã€‚docker run ã§å¤‰æ›´ã§ããªã„ãŸã‚
                            RUN  echo  "export http_proxy=${http_proxy}\nexport https_proxy=${https_proxy}\n" >> /home/gitlab-runner/.bashrc
                    ã‚³ãƒ³ãƒ†ãƒŠâ€•å†… .bashrc: èª­ã¾ã‚Œã‚‹ã®ã¯ã€docker run ã¾ãŸã¯ docker exec ã§ bash ã‚’æŒ‡å®šã—ãŸã¨ãã€‚
                        ãªã®ã§ã€ç’°å¢ƒå¤‰æ•°ã®å®šç¾©ã§ã‚ã‚Œã° Dockerfile ENV ã‚’ä½¿ã„ã¾ã™ã€‚
                        bash ä»¥å¤–ã‚’æŒ‡å®šã—ãŸã¨ãã¯èª­ã¾ã‚Œã¾ã›ã‚“
                ä»–ã¯ ARG ã¨ã»ã¼åŒã˜ã§ã™:  #search: Dockerfile ARG
            ARG:  #// ãƒ“ãƒ«ãƒ‰æ™‚è¨­å®šï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼èµ·å‹•æ™‚ã«ã¯å®šç¾©ã•ã‚Œã¾ã›ã‚“ï¼‰
                ã‚¹ã‚³ãƒ¼ãƒ—:
                    - ARG ã«ã‚ˆã‚‹ç’°å¢ƒå¤‰æ•°ã®å®šç¾©ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å…¥ã‚Šã¾ã›ã‚“ã€‚å…¥ã‚Œã‚‹ã«ã¯æ”¹ã‚ã¦ ENV ã§å®šç¾©ã—ã¦ãã ã•ã„  #search: Dockerfile ENV
                    - ~/.bashrc ã«å¤‰æ•°å®šç¾©ã‚’æ›¸ã„ã¦ã‚‚ docker run ã‚„ docker exec ã§ bash ã‚’èµ·å‹•ã—ãªã„é™ã‚Šã€å®šç¾©ã•ã‚Œã¾ã›ã‚“
                Dockerfile:
                    ã‚µãƒ³ãƒ—ãƒ«: | #focus: http_proxy,  https_proxy
                        FROM centos:7
                        ARG  http_proxy
                        ARG  https_proxy
                        ENV  http_proxy="${http_proxy}"
                        ENV  https_proxy="${https_proxy}"
                        ARG  UID=1000
                        ARG  GID=1000
                        RUN  yum -y update && yum -y install openssh-server openssh-clients sudo
                    è£œè¶³:
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤:
                            ARG  http_proxy="__DefaultValue__"
                        ENV:  #// Dockerfile å†…ã ã‘ã§ãªãã€ã‚³ãƒãƒ³ãƒ‰ã®ä¸­ã§ã‚‚ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                            ENV  http_proxy="${http_proxy}"
                bash: |  #// ARG ã§å®šç¾©ã—ãŸå¤‰æ•°ã«å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®å€¤ã¯ã§ãã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã«å…¥ã‚Šã¾ã™
                    docker build \
                        --build-arg http_proxy=http://__ProxyServer__:__Port__ \
                        --build-arg https_proxy=http://__ProxyServer__:__Port__ \
                        -t __NewImageName__ "."
                å‚ç…§:  #ref: https://docs.docker.jp/engine/reference/builder.html#environment-replacement
                ãƒ—ãƒ­ã‚­ã‚·ã‚’è¨­å®šã™ã‚‹å ´åˆ:  #search: Docker proxy ENV
                ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å¤‰æ•°ã«å…¥ã‚Œã‚‹ã¨ã:  #search: Dockerfile ARG
                ç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ã—ã¾ã™:
                    ã§ãã¾ã›ã‚“ã€‚
                    ä¸‹è¨˜ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
                        bash
                            echo "493" > _env
                        Dockerfile
                            RUN  sudo groupadd  docker  --gid $(cat /____/_env | xargs)
                --build-arg ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¿…é ˆã«ã™ã‚‹:
                    Dockerfile: |
                        ARG MY_VARIABLE
                        RUN if [ -z "${MY_VARIABLE}" ]; then echo "ERROR: MY_VARIABLE is not set"; exit 1; fi
                å‚è€ƒ:  #search: Docker proxy
            COPY:
                ã‚µãƒ³ãƒ—ãƒ«: |
                    COPY \
                        "files/image-1.0.0.tar.gz" \
                        "/in_container/"
                URL ã‚’ã‚³ãƒ”ãƒ¼å…ƒã«ã™ã‚‹:  #// ã§ãã¾ã›ã‚“ãŒã€ä»£ã‚ã‚Šã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™
                    RUN \
                        curl -OL https://example.com/file.tar.gz
                åˆ¶é™: #keyword: Docker build context
                    _: Build context ã®å¤–ï¼ˆè¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ã‚’æŒ‡å®šã§ãã¾ã›ã‚“  #ref: https://stackoverflow.com/questions/24537340/docker-adding-a-file-from-a-parent-directory
                    å¯¾å‡¦: |  #// build contextï¼ˆã‚«ãƒ¬ãƒ³ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ã‚’ HOME ãªã©ã«å¤‰ãˆã¦å®Ÿè¡Œã—ã¾ã™
                        if echo "$0" | grep "/" | grep -E -v "bash-debug|systemd" > /dev/null; then  cd "${0%/*}"  ;fi  # cd this file folder
                        ScriptPath="$0"
                        ScriptFolderRelativePath="${ScriptPath%/*}"
                        ScriptFolderPath="$( readlink -f "${ScriptFolderRelativePath}" )"
                        DockerFilePath="${ScriptFolderPath}/Dockerfile"

                        cd  "${HOME}"  #// Move Docker build context

                        docker build  -f "${DockerFilePath}"  -t service1  "."  ||  exit  1
                å¤ã„ã‚µãƒ³ãƒ—ãƒ«: COPY [ "files/image-1.0.0.tar.gz",  "/in_container/" ]
            ADD:  #// éæ¨å¥¨ã€‚COPY ã¨åŒã˜ã€‚ãŸã ã—ã€åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ãŸã‚‰å±•é–‹ã—ã¾ã™
                æ³¨æ„: COPY ã‚’ä½¿ã†ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™
                ADD file: #keyword: Docker ADD file
                    æ¦‚è¦:
                        - Docker Hub ã§ã“ã®ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™  #search: Docker Hub Dockerfile
                        - __ImageHash__ ã‚’æ¤œç´¢ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã‚ˆã†ã§ã™
                    æ›¸å¼: |
                        ADD file: __ImageHash__ in /
                    #ref: https://stackoverflow.com/questions/63823884/docker-image-layer-what-does-add-filesome-hash-in-mean
            WORKDIR:  #// ã‚«ãƒ¬ãƒ³ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼  #ref: https://docs.docker.com/engine/reference/run/#workdir
                Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã§ cd ã‚³ãƒãƒ³ãƒ‰ï¼ˆã‚«ãƒ¬ãƒ³ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å¤‰æ›´ï¼‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€ãƒ«ãƒ¼ãƒˆ(/)
            EXPOSE:  #// ãƒãƒ¼ãƒˆç•ªå·  å…¬å¼: #ref: http://docs.docker.jp/engine/reference/builder.html#expose
                æ³¨æ„:
                    - EXPOSE ã‚’è¨­å®šã—ãªãã¦ã‚‚ docker run -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
                    - å˜ãªã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã®ã‚ˆã†ã§ã™ã€‚ #ref: http://docs.docker.jp/engine/reference/builder.html#expose
                æ›¸å¼:
                    EXPOSE __PortNumInContainer__
                ã‚µãƒ³ãƒ—ãƒ«:
                    EXPOSE 80
            VOLUME:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ä¿å­˜ã—ã‚ˆã†ã¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ãƒ›ã‚¹ãƒˆOS ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã©ã“ã‹ã«ä¿å­˜ã—ã¾ã™
                æ›¸å¼:
                    - VOLUME __FullPathInContainer__
                    - VOLUME __FullPathInContainer__ __FullPathInContainer__  #// ç©ºç™½åŒºåˆ‡ã‚Š
                    - VOLUME __JSON_Array__
                    - VOLUME __HostRelativePath__:__FullPathInContainer__  #// ä½¿ãˆã¾ã›ã‚“  #search: Docker shared folder
                ã‚µãƒ³ãƒ—ãƒ«:
                    - VOLUME /home/user/data
                    - VOLUME ["/home/user/data"]
                #ref: http://docs.docker.jp/engine/reference/builder.html#volume
                å‚è€ƒ:  #search: Docker volume
            USER:  #search: Docker user  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ VM å†…ã§å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼
                docker build å®Ÿè¡Œæ™‚:  #// ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¹ã‚¤ãƒƒãƒã—ã¾ã™
                    USER ã‚³ãƒãƒ³ãƒ‰: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¹ã‚¤ãƒƒãƒã—ã¾ã™
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ:
                        Dockerfile ã®ã‚µãƒ³ãƒ—ãƒ«:  #focus: github-runner
                            FROM rockylinux:8.8.20230518
                            RUN  useradd  "github-runner"
                            RUN  echo  "github-runner:github-runner" | chpasswd
                            RUN  mkdir -p  "/home/github-runner"
                            RUN  chown  "github-runner:github-runner"  "/home/github-runner"
                            RUN  dnf install -y sudo
                            COPY [ "files/sudoers",  "/etc/sudoers" ]
                            USER github-runner
                            WORKDIR  /home/github-runner
                        files/sudoers: #keyword: Dockerfile sudoers  #search: sudo no password
                            ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ã«å¯¾å¿œã—ãŸ /etc/sudoers
                        files/sudoers.old:  #// ç·¨é›†å†…å®¹ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§ã™
                            ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ã«å¯¾å¿œã™ã‚‹å‰ã® /etc/sudoers
                        #search: GitHub runner Dockerfile
                docker run å®Ÿè¡Œæ™‚: æœ€ã‚‚ä¸‹ã® USER ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãªã‚Šã¾ã™ã€‚docker run/exec ã® --user(-u) ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å¤‰æ›´ã§ãã¾ã™
        compose.yaml, docker-compose.yml:  #search: compose.yaml
        /etc/docker/daemon.json:
    ã‚³ãƒãƒ³ãƒ‰: #glossary:  #keyword: docker command  #ref: https://docs.docker.com/engine/reference/commandline/cli/
        (sudo ã®å…¥åŠ›ã‚’ä¸è¦ã«ã—ã¾ã™):  #keyword: sudo docker  #// docker ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ãã« sudo ã‚‚ä¸€ç·’ã«å…¥åŠ›ã™ã‚‹å¿…è¦ã‚’ãªãã—ã¾ã™
            Vagrant Ansible ã‚’ä½¿ã†å ´åˆ:
                Playbook ã§è¨­å®šã™ã‚‹å ´åˆ:
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_docker/playbook.yml#sudo gpasswd
                        - gpasswd
                        - reboot
            æ‰‹å‹•ã§è¨­å®šã™ã‚‹å ´åˆ:
                docker ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™:
                    #// @node1 ã§ä½œæ¥­ã—ã¾ã™
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰docker ã‚°ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        getent group docker
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ docker ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã—ã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        groups $USER
                    ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ docker ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™:
                        sudo gpasswd --add  $USER  docker
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ docker ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        groups $USER
                    ä»¥ä¸‹ã®ã„ãšã‚Œã‹:
                        docker ã‚°ãƒ«ãƒ¼ãƒ—ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            newgrp docker
                        VM (@node1) ã‚’å†èµ·å‹•ã—ã¾ã™:  #// ãƒ¦ãƒ¼ã‚¶ãƒ¼ ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« ã®ãƒªãƒ­ãƒ¼ãƒ‰ã¨ã€docker ã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹•
                ï¼ˆè£œè¶³ï¼‰: #// ä»¥ä¸‹ã§ã¯ã†ã¾ãã„ãã¾ã›ã‚“
                    docker ã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹•:
                        sudo service docker restart
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« ã®ãƒªãƒ­ãƒ¼ãƒ‰:
                        SSH æ¥ç¶šã—ã¦ã„ã‚‹ VSCode ã®æ–°ã—ã„ Terminal:
                        SSH æ¥ç¶šã—ã¦ã„ã‚‹ VSCode ã®å†èµ·å‹•:
                        ãƒªãƒ¢ãƒ¼ãƒˆä¸Šã® VS Code ã‚µãƒ¼ãƒãƒ¼ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—:  #ref: https://code.visualstudio.com/docs/remote/troubleshooting#_cleaning-up-the-vs-code-server-on-the-remote
                            #// ä»¥ä¸‹ã¯æœªç¢ºèªã€‚SSH æ¥ç¶šã—ãŸ VSCode ã§ã¯å¤±æ•—ã—ã¾ã™ã€‚Virtual Box ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã¯ã‚³ãƒ”ãƒšãŒã§ãã¾ã›ã‚“ï¼ˆä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã¯è©¦ã—ã¦ã„ã¾ã›ã‚“ï¼‰ã€‚
                            kill -9 $(ps ax | grep "remoteExtensionHostAgent.js" | grep -v grep | awk '{print $1}')
                            kill -9 $(ps ax | grep "watcherService" | grep -v grep | awk '{print $1}')
                            rm -rf ~/.vscode-server 
        (ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™): | #keyword: check docker command,  docker: command not found
            docker --version > /dev/null  ||  Error "ERROR: docker command not found."
        WSL2 ã‚³ãƒãƒ³ãƒ‰: #keyword: PowerShell WSL2 Docker command,  Docker PowerShell command  #// WSL2 å†…ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã«å¯¾ã—ã¦ PowerShell ãªã©ã‹ã‚‰ docker ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™
            docker ps:  #// ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ãªã„å ´åˆ
                #// Git bash ã¾ãŸã¯ PowerShell
                wsl -d __Distro__ -- docker ps
                    ã¾ãŸã¯
                wsl -- docker ps
            ls:  #// ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹å ´åˆ
                Git bash ã®å ´åˆ:
                    powershell "wsl -d __Distro__ -- ls /home"
                        ã¾ãŸã¯
                    powershell "wsl -- ls /home"
                    #// powershell ã‚’çµŒç”±ã—ãªã„ã¨ã€ls: cannot access 'C:/Program Files/Git/home': No such file or directory
                PowerShell ã®å ´åˆ:
                    wsl -d __Distro__ -- ls /home
                        ã¾ãŸã¯
                    wsl -- ls /home
            ãã®ä»–ã®ä¸»ãªã‚³ãƒãƒ³ãƒ‰:
                #search: PowerShell WSL2 docker cp
                #search: PowerShell WSL2 docker exec
        docker run,  docker container run: #keyword:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’æ–°ã—ãèµ·å‹•ã—ã¾ã™ã€‚å¿…è¦ãªã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™  #ref: https://docs.docker.com/engine/reference/commandline/run/
            #// docker container run ã¯ Docker 1.13 ã§å¯èª­æ€§ã‚’ä¸Šã’ã‚‹ãŸã‚ã«å°å…¥ã•ã‚Œã¾ã—ãŸãŒã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ä½¿ãˆã¾ã›ã‚“ã€‚å…¨ãåŒã˜æ©Ÿèƒ½ã§ã™ã€‚
            æ‰‹é †:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:
                    ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã®å ´åˆ:  #// ã‚·ã‚§ãƒ«ãŒã‚ã‚‹å ´åˆ
                        æ›¸å¼: docker run -it --rm  --name __NewContainerName__  __DockerImageName__  #search: docker image name
                        ã‚µãƒ³ãƒ—ãƒ«: docker run -it --rm  --name hello_world_1  hello-world
                        å®Ÿè¡Œå†…å®¹: RUN å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã¨ CMD å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™  #search: docker run command argument
                        __DockerImageName__:  #search: docker image name
                    ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®å ´åˆ:
                        å­ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½œã‚‹å ´åˆ:
                            æ›¸å¼: docker run -d  --name __NewContainerName__  __DockerImageName__  #search: docker image name
                            å®Ÿè¡Œå†…å®¹: RUN å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã¨ CMD å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™  #search: docker run command argument
                        ç¾åœ¨ã®ãƒ—ãƒ­ã‚»ã‚¹ã®å ´åˆ:  #// unit file ãªã© TTY ãŒç„¡ã„ç’°å¢ƒã®å ´åˆ
                            æ›¸å¼: docker run -i --rm  --name __NewContainerName__  __DockerImageName__  #search: docker image name
                            å®Ÿè¡Œå†…å®¹: RUN å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã¨ CMD å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™  #search: docker run command argument
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™: #keyword: docker run command argument
                    æ›¸å¼: docker run -it --rm  --name __NewContainerName__  __DockerImageName__  __Command__  #search: docker image name
                    å®Ÿè¡Œå†…å®¹: __Command__ ãŒã‚ã‚‹ã¨ RUN å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã¨ __Command__ ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ CMD å‘½ä»¤ ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã¯å®Ÿè¡Œã—ã¾ã›ã‚“
                    èµ·å‹•æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™: #search: docker exec
                èµ·å‹•å¾…ã¡:  #// ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ãƒˆãŒé–‹ãã¾ã§å¾…ã¡ã¾ã™
                    #search: make Docker container
                çµ‚äº†ã—ã¾ã™, Ctrl + C:  #keyword: docker ctrl+C
                    Ctrl + C ã§çµ‚äº†ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã®å ´åˆ:
                        Ctrl + C ã‚’æŠ¼ã—ã¾ã™:
                        åå¿œã—ãªã„å ´åˆ:
                            docker run ã‚³ãƒãƒ³ãƒ‰ã« -it --rm ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã™
                            #search: docker run -it --rm option
                        #// ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦ã‚‚çµ‚äº†ã—ã¾ã›ã‚“
                    ãã‚Œä»¥å¤–ã®å ´åˆ:
                        æ–°ã—ãã‚·ã‚§ãƒ«ã‚’é–‹ãã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’çµ‚äº†ãƒ»å‰Šé™¤ã•ã›ã¾ã™:
                            #search: delete docker image
                docker-compose ã‚’ä½¿ã†å ´åˆ:  #search: docker-compose build
            æ›¸å¼:  #// docker run ã‚³ãƒãƒ³ãƒ‰ã®æ›¸å¼
                - docker run -it --rm  --name __NewContainerName__  __DockerImageName__
                - docker run -it --rm  --name __NewContainerName__  __DockerImageName__  __Command__
                #search: docker run  >>  æ‰‹é †
            â—æ³¨æ„ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³å…±é€šï¼‰:
                iptables ã®ç·¨é›†:  #search: Docker iptables  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šå ´æ‰€:
                    docker run -it --rm  --name ${ContainerName}  ${ImageName}
                    ã«ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ æŒ‡å®šã™ã‚‹ã¨ãã¯ã€ImageName ã‚ˆã‚Šå·¦ã«æŒ‡å®šã—ã¦ãã ã•ã„ã€‚
            -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// ãƒ‡ã‚¿ãƒƒãƒãƒ‰ ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒãƒƒã‚°ã‚°ãƒ©ãƒ³ãƒ‰å®Ÿè¡Œï¼‰
                _: |
                    docker run -it --rm  ____ ã®ä»£ã‚ã‚Šã«
                    docker run -d  ____  ã‚’ä½¿ã†ã¨ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‹•ä½œã—ã¾ã™
                ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ä½•ã‚‚ã—ãªã„å ´åˆ: #keyword: docker container run -d sleep,  docker container idle
                    èµ·å‹•:
                        docker run  --name __ContainerName__  -d  rockylinux:9.3  bash -c "trap 'exit 0' TERM;  sleep infinity  &  wait"
                            #// If sleep command only, docker stop command will be slow.
                            #// ä¸»ãªå‡¦ç†ã¯ã€trap 'exit 0' TERM;  sleep infinity  &  wait
                            #// sleep ã ã‘ã§ã¯ docker stop ã‚³ãƒãƒ³ãƒ‰ãŒé…ããªã‚Šã¾ã™
                    èµ·å‹•å¾…ã¡:
                        docker exec -it  __ContainerName__ bash -c 'ls /proc  |  xargs -I{} cat /proc/{}/comm  2> /dev/null  |  grep sleep'
                ãƒ­ã‚°:  #search: docker logs
                çµ‚äº†:  #search: docker stop
            -it --rm ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker run -it --rm option,  docker exec -it option  #// ã‚­ãƒ¼å…¥åŠ›ã‚’ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒå—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™
                æ¦‚è¦:
                    ã‚­ãƒ¼å…¥åŠ›ã‚„ Ctrl + C ã‚’æŠ¼ã—ã¦çµ‚äº†ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                    #search: docker ctrl+C
                è©³ç´°:
                    -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker i option  #// ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã€‚ã“ã‚ŒãŒãªã„ã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒæ¨™æº–å…¥åŠ›ã‚’å—ã‘å–ã‚‰ãªã„
                        ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚‚ãƒ‘ã‚¤ãƒ—ã‚‚ä½¿ã‚ãªã„å ´åˆ:  #// -t ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚è¿½åŠ ã—ã¾ã™ï¼ˆtty ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ï¼‰
                            docker run -it --rm  busybox  bash  ã¾ãŸã¯  /bin/bash
                        ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚„ãƒ‘ã‚¤ãƒ—ã‚’ä½¿ã†å ´åˆ:
                            echo test | docker run -i busybox cat
                    -t ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker t option  #// ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã€‚tty ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚ŒãŒãªã„ã¨ã‚·ã‚§ãƒ«ã‹ã‚‰èµ·å‹•ã—ãªã„ã®ã§ Ctrl + C ã‚’å—ã‘å–ã‚Œãªã„
                        #// é€†ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒãªã„ç’°å¢ƒã§æŒ‡å®šã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                    --rm ã‚ªãƒ—ã‚·ãƒ§ãƒ³: å®Ÿè¡ŒãŒå®Œäº†ã—ãŸã¨ãã«ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™
                å…¬å¼: #ref: http://docs.docker.jp/engine/reference/run.html#foreground
            -e, --env ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker run --env  #// ç’°å¢ƒå¤‰æ•°ã‚’æŒ‡å®šã—ã¾ã™  #ref: http://docs.docker.jp/v19.03/engine/reference/commandline/run.html#e-env-env-file
                å¤‰æ•°åã¨å€¤ã‚’æŒ‡å®šã™ã‚‹å ´åˆ:
                    --env __VariableName__=__Value__
                ãƒ›ã‚¹ãƒˆOSã®å€¤ã‚’ä½¿ã†å ´åˆ:
                    --env __VariableName__
            -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker run -p option,  Docker port mapping  #// ãƒ›ã‚¹ãƒˆOS ã¨ã‚²ã‚¹ãƒˆOS ã®é–“ã§ ãƒãƒ¼ãƒˆ ãƒãƒƒãƒ”ãƒ³ã‚° ã—ã¾ã™  #keyword: docker port forwarding
                æ›¸å¼:
                    -p __HostOSPortNum__:__GuestOSPortNum__
                    --publish __HostOSPortNum__:__GuestOSPortNum__
                é–¢é€£:
                    Dockerfile EXPOSE: #search:
            -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: docker run -v option  #// ãƒ›ã‚¹ãƒˆOS ã¨ã‚²ã‚¹ãƒˆOS ã®é–“ã§ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å…±æœ‰ã—ã¾ã™
                æ›¸å¼:
                    -v __PathInHost__:__PathInContainer__
                    --volume __PathInHost__:__PathInContainer__
                â—æ³¨æ„ >> Docker ãƒœãƒªãƒ¥ãƒ¼ãƒ :  #search: Docker volume
            --restart: #keyword: docker run --restart option  #// ãƒ›ã‚¹ãƒˆOS ãŒå†èµ·å‹•ã—ãŸã¨ãã«è‡ªå‹•çš„ã«èµ·å‹•ã—ã¾ã™
                docker run -d --restart unless-stopped  --name gocd-server-1  -v /home/vagrant/godata:/godata  -v /home/vagrant:/home/go  -p8153:8153  gocd/gocd-server:v{{ gocdServerVersion }}
                #ref: https://docs.docker.com/config/containers/start-containers-automatically/
            --link:  #// éæ¨å¥¨  #ref: https://qiita.com/tamanobi/items/8b8dd64ae1f959f9ff9f
            --name: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å  #// ã‚¤ãƒ¡ãƒ¼ã‚¸åã‚ˆã‚Šå‰ã«æŒ‡å®šã—ã¦ãã ã•ã„
            å‚è€ƒ: #ref: ${programming}/OS/VMWare.svg#Docker_run
            èµ·å‹•ã®ã—ãã¿, ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å‹ã®ä»®æƒ³åŒ–æŠ€è¡“: #keyword:
                1. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™ã€‚
                2. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚’è¨­å®šã—ï¼ˆNATã€ãƒ–ãƒªãƒƒã‚¸ã€ãªã©ï¼‰ã€ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒ†ãƒŠã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªIPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚
                3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚Dockerã¯Union File Systemã¨ã„ã†æŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦ã€
                    è¤‡æ•°ã®å±¤ã‹ã‚‰ãªã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸€ã¤ã®çµ±ä¸€ã•ã‚ŒãŸãƒ“ãƒ¥ãƒ¼ã¨ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚
                4. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®CMDã¾ãŸã¯ENTRYPOINTã§æŒ‡å®šã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¾ã™ã€‚
                    ã¾ãŸã¯ã€docker runã‚³ãƒãƒ³ãƒ‰ã®æœ«å°¾ã«è¿½åŠ ã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹å ´åˆã¯ãã‚Œã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                #search: Union File System
            é–¢é€£:
                ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã ã‘ã™ã‚‹å ´åˆ:  #search: docker pull
                Ansible:  #search: Ansible docker_container module
        docker exec: #keyword:  #// èµ·å‹•æ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã§æ–°ã—ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½œã‚Šã¾ã™ã€‚é€šå¸¸ã€ä¸¦åˆ—ã™ã‚‹ 2ã¤ç›®ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•ã™ã‚‹ã¨ãã«ä½¿ã„ã¾ã™ã€‚ #ref: https://docs.docker.com/engine/reference/commandline/exec/
            èµ·å‹•æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™: #keyword: Docker bash
                æ›¸å¼: docker exec -it  __ContainerName__  bash  ã¾ãŸã¯  /bin/bash
                #search: docker run -it --rm option
            èµ·å‹•æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:  #// æ–°ã—ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½œã¾ã™
                æ›¸å¼: docker exec  -it  __ContainerName__  __Command__  __Parameters__
                ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‘¼ã³å‡ºã™å ´åˆ: |  #// /share ã¯ docker run -v ã§å…±æœ‰ã—ã¦ã‹ã‚‰
                    docker exec -it  --user docker  ${ContainerName}  \
                        /share/wait_for_it.sh  localhost  22  \
                ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚³ãƒãƒ³ãƒ‰åˆ—ã‚’ä½œã‚‹å ´åˆ: |
                    local  commands=""
                    commands="${commands}  mkdir -p  ~/.ssh  &&"
                    commands="${commands}  touch  ~/.ssh/authorized_keys  &&"
                    commands="${commands}  ls -l  ~/.ssh"
                    commands="$( echo "${commands}"  |  sed -E 's/&&/&\n/g' )"
                    echo  "$ ${commands}"

                    docker exec -it  --user docker  ${ContainerName}  bash -c "${commands}"  ||  Error
                ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œã™ã‚‹å ´åˆ: #keyword: Docker exec background
                    docker exec  __ContainerIdOrName__  /bin/sh -c "__Command__  __Parameters__  2>&1"  > _.log &
                ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚„ãƒ‘ã‚¤ãƒ—ãªã©ã‚’ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã§ä½¿ã†å ´åˆ: #keyword: docker exec bash -c
                    docker exec -it  __ContainerName__ bash -c '__Command__ __Wildcard__ | __Command2__'
                    docker exec -it  Rocky9 bash -c 'ls /proc | xargs -I{} cat /proc/{}/comm 2> /dev/null | grep sleep'
                ç’°å¢ƒå¤‰æ•°ã®å±•é–‹:  #search: evaluate docker environment variable
                WSL2 ã‚³ãƒãƒ³ãƒ‰: #keyword: PowerShell WSL2 docker exec  #// Windows ã‹ã‚‰ WSL2 å†…ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™  #search: PowerShell WSL2 Docker command
                    # (Git bash)
                    powershell "wsl -d __Distro__ -- docker exec -it __ContainerName__  __Command__  __Parameters__"
            ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #search: docker run
                _: docker run ã¨åŒã˜ã‚‚ã®ãŒä½¿ãˆã¾ã™
                --env: #keyword: docker exec --env,  docker exec -e option  #// ç’°å¢ƒå¤‰æ•°
                    å¿…è¦æ€§: docker run ã§æŒ‡å®šã—ãŸã‚‰ docker exec ã§æŒ‡å®šã—ãªãã¦ã‚‚ã‚ˆã„ã§ã™ã€‚
                    ã‚µãƒ³ãƒ—ãƒ«: docker exec -it  -e http_proxy=${http_proxy}  -e https_proxy=${https_proxy}  __ContainerName__  env  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã®ç’°å¢ƒå¤‰æ•°ã‚’ä¸€è¦§ã—ã¾ã™
                ~, ~__User__:  #// ãƒ›ãƒ¼ãƒ ã‚’è¡¨ã™ ~
                    docker run ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã« ~ ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
                    / (root) ã« ~ ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒã§ãã¦ã—ã¾ã„ã¾ã™ã€‚
                    /home/user1 ã®ã‚ˆã†ã«ãƒ•ãƒ«ãƒ‘ã‚¹ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚
            é–¢é€£ >> ssh çµŒç”±ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ:  #search: ssh remote command
        docker ps:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä¸€è¦§ã—ã¾ã™  #ref: https://docs.docker.com/engine/reference/commandline/ps/
            ã‚³ãƒãƒ³ãƒ‰ã®ä¾‹:  docker ps -a
            ã‚³ãƒãƒ³ãƒ‰ã®ä¾‹ã®èª¬æ˜:
                sudo: Docker for Linux ã§å¿…è¦ã§ã™
                -a: çµ‚äº†ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚‚è¡¨ç¤ºã—ã¾ã™
            ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                -a: #keyword: docker ps -a  #// çµ‚äº†ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚‚è¡¨ç¤ºã—ã¾ã™
                --filter:  #// ç‰¹å®šã®è¡Œã ã‘è¡¨ç¤ºã—ã¾ã™
                    name: docker ps -a --filter "name=__ContainerName__"  #// æŒ‡å®šã—ãŸåå‰ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã®è¡Œã ã‘è¡¨ç¤ºã—ã¾ã™
                --format:  #// å‡ºåŠ›å½¢å¼
                    ã‚·ãƒ³ãƒ—ãƒ«:  #search: docker ps status
                        --format "{{.Status}}"   #// STATUS åˆ— ã®å€¤ã ã‘è¡¨ç¤ºã—ã¾ã™
                    table:  #search: docker ps status
                        --format "table {{.Names}}\t{{.Status}}"  #// NAME åˆ—ã¨ STATUS åˆ—ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨å€¤ã‚’è¡¨ç¤ºã—ã¾ã™
            è¡¨ã®èª¬æ˜:  #// docker ps ã®å‡ºåŠ›ã®è¦‹ã‹ãŸ
                ã‚µãƒ³ãƒ—ãƒ«:
                    CONTAINER ID   IMAGE         COMMAND               CREATED         STATUS    PORTS                                   NAMES
                    77091483d5a6   centos7_ssh   "/usr/sbin/sshd -D"   2 minutes ago   Created   0.0.0.0:5022->22/tcp, :::5022->22/tcp   centos7_ssh-1
                STATUS: #glossary: docker ps STATUS
                    Running, Up (__Time__): ã‚³ãƒ³ãƒ†ãƒŠãŒç¨¼åƒä¸­ã§ã€æŒ‡å®šã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚
                    Created: ã‚³ãƒ³ãƒ†ãƒŠã¯ä½œæˆã•ã‚ŒãŸãŒã¾ã é–‹å§‹ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                        CMD å‘½ä»¤ãŒå¤±æ•—ã—ã¦ãƒ—ãƒ­ã‚»ã‚¹ã®ç”ŸæˆãŒå¤±æ•—ã—ãŸã¨ãã‚‚ Created ã«ãªã‚Šã¾ã™  #search: debug Dockerfile
                    Exited (__ExitCode__): ã‚³ãƒ³ãƒ†ãƒŠãŒåœæ­¢ã—ã€å‹•ä½œã—ã¦ã„ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€ã‚³ãƒ³ãƒ†ãƒŠãŒæ­£å¸¸ã«çµ‚äº†ã—ãŸã‹ã€ä½•ã‚‰ã‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸçµæœã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                        CMD å‘½ä»¤ãŒæˆåŠŸã—ãŸå¾Œã§ãƒ—ãƒ­ã‚»ã‚¹ãŒã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã—ãŸã¨ãã¯ Exited ã§ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ‡ãƒãƒƒã‚°ã—ã¾ã™
                    Paused: ã‚³ãƒ³ãƒ†ãƒŠãŒä¸€æ™‚åœæ­¢çŠ¶æ…‹ã§ã€ãã®å®Ÿè¡Œã¯ä¸€æ™‚çš„ã«åœæ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚
                    Restarting: ã‚³ãƒ³ãƒ†ãƒŠãŒå†èµ·å‹•ä¸­ã§ã™ã€‚
                    Dead: ã‚³ãƒ³ãƒ†ãƒŠãŒä¸é©åˆ‡ãªçŠ¶æ…‹ã§ã€å†èµ·å‹•ã‚„å‰Šé™¤ãŒã§ããªã„çŠ¶æ…‹ã§ã™ã€‚
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ä¸€è¦§ã—ã¾ã™:  #keyword: docker ps container name
                docker ps --format "{{.Names}}"
            1ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’å¤‰æ•°ã«ä»£å…¥ã—ã¾ã™:
                ContainerName="$( docker ps --format "{{.Names}}"  |  grep "^__Header__" )"  &&  echo "${ContainerName}"
                docker exec -it  ${ContainerName}  bash   #// åˆ©ç”¨ã‚µãƒ³ãƒ—ãƒ«
            1ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã€ã¾ãŸã¯ 1ã¤ã®å±æ€§ã‚’è¡¨ç¤ºã—ã¾ã™:
                STATUS ã®ã¿: #keyword: docker ps status
                    docker ps --format "{{.Status}}" -f "name=__ContainerName__"
                    #// æŒ‡å®šã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
                ã‚¿ã‚¤ãƒˆãƒ«, ID, STATUS:
                    docker ps --format "table {{.ID}}\t{{.Status}}" -f "name=elastic-1"
            VSCode ã§ä¸€è¦§ã™ã‚‹:  #search: VSCode Dev Containers
            é–¢é€£ >> åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’æŒ‡ã™ãƒ›ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„:  #search: docker DNS trouble
        docker inspect: #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®æƒ…å ±ã‚’è©³ã—ãè¡¨ç¤ºã—ã¾ã™
            åŸºæœ¬:
                docker inspect __ContainerName__
            ãƒãƒ¼ã‚¸ãƒ§ãƒ³:  #search: docker inspect version
            ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #search: docker network inspect
            ãƒœãƒªãƒ¥ãƒ¼ãƒ :  #search: docker inspect volume
        docker stop: #search:
        docker rm: #search:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™
        docker build:  #// ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™
            æ¦‚è¦:
                - ãƒ“ãƒ«ãƒ‰ã«æˆåŠŸã™ã‚‹ã¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ã©ã“ã‹ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä½œã‚‰ã‚Œã¾ã™
                - ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸€è¦§ã¯ã€docker images ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã§ãã¾ã™
                - ã§ããŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€docker run ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™
                - docker build ã¨ docker run ã‚’ç¹°ã‚Šè¿”ã™ã¨ãã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã™ã‚‹ã®ãŒè‰¯ã„ã§ã—ã‚‡ã†
            æ›¸å¼: |
                docker build  --tag __DockerImageName__  __ProjectFolderPath__  --progress=plain
            é–¢é€£ >> ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢:  #// ã‚¯ãƒªã‚¢ã—ã¦å†ãƒ“ãƒ«ãƒ‰ã—ãªã„ã¨ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’æ¤œå‡ºã§ããªã„ã“ã¨ãŒã‚ã‚Šã¾ã™
                docker system prune --all
            __DockerImageName__:  #// ä½œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®åå‰ã€‚FROM ã«æŒ‡å®šã•ã‚Œã¾ã™  #search: Dockerfile FROM
                ã‚¿ã‚°ï¼ˆã‚³ãƒ­ãƒ³ã®å³ï¼‰ã‚’ä»˜ã‘ãªã‹ã£ãŸå ´åˆã€ã‚¿ã‚°ã¯ latest ã«ãªã‚Šã¾ã™ã€‚
                ãŸã¨ãˆã°ã€--tag centos7_java ã¯ centos7_java:latest ã¨ã„ã†åå‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã§ãã¾ã™ã€‚
            __ProjectFolderPath__:  #// Dockerfile ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹
            --progress=plain: ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã‚’è¡¨ç¤ºã—ã¾ã™
            -f, --file ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// Dockerfile ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™
            -t, --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®åå‰ã‚’æŒ‡å®šã—ã¾ã™
            æ‰‹é †: #search: making docker image
        docker images:  #search: docker tag  #// ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ã‚¿ã‚°ã¨ image ID ã‚’ä¸€è¦§ã—ã¾ã™
        docker tag:  #ref: https://docs.docker.com/engine/reference/commandline/tag/
            æ‰‹é †:
                è¿½åŠ :  #// ã‚¿ã‚°ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«è¿½åŠ ã—ã¾ã™
                    docker tag  __SourceImage__:__TagName__  __TargetImage__:__TagName__
                    #// è¿½åŠ ã§ããŸã‚‰ docker images ã§ç¢ºèªã§ãã¾ã™
                è¡¨ç¤º:  #// ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ã‚¿ã‚°ã¨ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ID ã‚’ä¸€è¦§ã—ã¾ã™
                    docker images
                    #search: Docker image version
                ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èª¿ã¹ã¾ã™:  #search: docker image version
            æ¦‚å¿µ:
                ã‚½ãƒ¼ã‚¹ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚°, ãƒ­ãƒ¼ã‚«ãƒ« ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚°: #keyword: Docker source image tag,  docker tag
                    æ›¸å¼:  #focus: __TagName__
                        __SourceImage__:__TagName__
                    #search: docker image name
                ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚°, ãƒªãƒ¢ãƒ¼ãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚°: #keyword: Docker target image tag
                    æ›¸å¼:
                        - __TargetImage__:__TagName__
                        - __Host__/__User__/__Project__/__ImageName__:__TagName__
                        - __Host__:__PortNum__/__User__/__Project__/__ImageName__:__TagName__
                    ä½œæˆ:  #// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚° ã‚’è¿½åŠ ã—ã¾ã™
                        docker images
                        docker tag  __SourceImage__:__TagName__  __TargetImage__:__TagName__
                    ã‚µãƒ³ãƒ—ãƒ«:
                        GitHub: ghcr.io/your-username/your-project/myimage:v1.0
                        GitLab: registry.gitlab.com/your-username/your-project/myimage:v1.0
                    ã‚­ãƒ£ãƒƒã‚·ãƒ¥çš„ãªãƒªãƒã‚¸ãƒˆãƒª:  #// ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ Docker ãƒªãƒã‚¸ãƒˆãƒª ã« DockerHub ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’é…ç½®ã™ã‚‹ã¨ã
                        __Host__/__User__/__Repository__ ã®éƒ¨åˆ†ã‚’ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ Docker ãƒªãƒã‚¸ãƒˆãƒª ã«åˆã‚ã›ã¾ã™ã€‚
                        ã¤ã¾ã‚Šã€åŒã˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å¯¾ã—ã¦ç•°ãªã‚‹ã‚¿ã‚°ã‚’è¿½åŠ ã—ã¾ã™ã€‚
                ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã®é–¢ä¿‚:
                    1ã¤ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«è¤‡æ•°ã®ã‚¿ã‚°ã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™
                ãƒªãƒã‚¸ãƒˆãƒªã¨ã®é–¢ä¿‚:
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚:
                        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã¨ãã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã«è¨­å®šã™ã‚‹ ã‚½ãƒ¼ã‚¹ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚° ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã® URL ã®æœ«å°¾ã§ã™
                    ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚:
                        ãƒªãƒã‚¸ãƒˆãƒªã® URL ã¨ä¸€è‡´ã™ã‚‹ã‚ˆã†ã« ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚¿ã‚° ã‚’è¨­å®šã—ã¾ã™
                è¨˜æ†¶å ´æ‰€:
                    ãƒ­ãƒ¼ã‚«ãƒ« Docker ç’°å¢ƒ:
                    ãƒªãƒ¢ãƒ¼ãƒˆ Docker ãƒ¬ã‚¸ã‚¹ãƒˆãƒª:
                    #// Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã«ã¯å…¥ã£ã¦ã„ã¾ã›ã‚“
        docker history:  #// ã“ã‚Œã¾ã§å®Ÿè¡Œã—ã¦ããŸã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ä¾å­˜ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚å«ã¿ã¾ã™ã€‚
            æ›¸å¼:
                docker history  __DockerImageName__  --no-trunc
                #// --no-trunc ã‚’å¤–ã™ã¨é•·ã„å†…å®¹ãŒçœç•¥ã•ã‚Œã€è¡¨å½¢å¼ã«ãªã‚Šã¾ã™
            å…¬å¼:
                #ref: https://docs.docker.jp/engine/reference/commandline/history.html
        docker pull:  #ref: https://docs.docker.jp/engine/reference/commandline/pull.html
            -   docker pull debian
            -   docker pull mysql:8.0
        docker push:  #search: upload Docker image
        docker save: |
            docker pull  "__ImageName__"
                #// ã¾ãŸã¯ docker pull  "__ImageName__:__Tag__"
            docker save  --output "__OutputFolder__/__ImageName__-__Tag__.tar"  "__ImageName__:__Tag__"
                #// --output ã®çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³åã¯ -o ã§ã™
            #// scp ãªã©ã§è»¢é€ã—ã¾ã™
        docker load: |
            #// scp ãªã©ã§è»¢é€ã—ã¦ã‹ã‚‰
            docker load  --input "__TarFilePath__"
                #// --input ã®çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³åã¯ -i ã§ã™
            docker run  "__ImageName__"
        docker cp:  #ref: https://docs.docker.jp/engine/reference/commandline/cp.html
            ã‚³ãƒãƒ³ãƒ‰: docker cp  "/path/to/file"  "my_container:/path/in/container"
            WSL2 ã‚³ãƒãƒ³ãƒ‰: #keyword: PowerShell WSL2 docker cp  #// Windows ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ WSL2 å†…ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™  #search: PowerShell WSL2 Docker command
                ã‚³ãƒãƒ³ãƒ‰:
                    # (Git bash)
                    powershell "wsl -d __Distro__ -- docker cp  '/mnt$( pwd )/README.yaml'  '__ContainerName__:/root'"
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                    - #// copying between containers is not supported
                        æ‰‹é †: wsl -d Rocky9 docker cp  "/mnt/c/path/to/file.txt"  "Rocky9:/path/"
                        ãƒ­ã‚°: copying between containers is not supported
                        å¯¾å‡¦: wsl ã® -- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã‚’æ›¸ã„ã¦ãã ã•ã„
            ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³:
                -a ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—: ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ UID:GID
                -a ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ã‚Š: ãƒ•ã‚¡ã‚¤ãƒ«ã® UID:GID
                ä¿®æ­£:  #// ã‚³ãƒ”ãƒ¼ã—ãŸå¾Œã§ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´ã§ãã¾ã™  #focus: chown, id_rsa
                    docker exec -i  container-1  mkdir -p "/home/user2/.ssh"
                    docker cp  "/home/user1/.ssh/id_rsa"  "container-1:/home/user2/.ssh/id_rsa"
                    docker exec -i  container-1  sudo chown user2:user2  "/home/user2/.ssh/id_rsa"
        ãƒœãƒªãƒ¥ãƒ¼ãƒ é–¢é€£ã®ã‚³ãƒãƒ³ãƒ‰:  #search: Docker volume command
        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®ã‚³ãƒãƒ³ãƒ‰:  #search: Docker network command
    æ§‹æˆ, æ¦‚å¿µ:
        ã‚¤ãƒ¡ãƒ¼ã‚¸:  #keyword: Docker image  #// ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸, ãƒ•ã‚¡ã‚¤ãƒ« ã‚·ã‚¹ãƒ†ãƒ 
            ID:  #search: Docker IMAGE ID
            ä¸€è¦§: #keyword: docker images
                å…¨éƒ¨:
                    ã‚·ã‚§ãƒ«: docker images
                    Dashboard:
                        Dashboard ã‚’é–‹ãã¾ã™:  #search: Docker Dashboard
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Imagesï¼ˆå·¦ï¼‰
                    é–¢é€£:
                        ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™:
                è‡ªåˆ†ãŒ pull ã¾ãŸã¯ build ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸å…¨éƒ¨: docker images  "*"
                ä¸€éƒ¨ã«ãƒãƒƒãƒã™ã‚‹ã‚‚ã®ã ã‘ä¸€è¦§ã™ã‚‹:
                    æ›¸å¼:
                        - docker images  "__Prefix__*"
                        - docker images  "[__RepositoryHost__/]__Prefix__*"
                    ã‚µãƒ³ãƒ—ãƒ«: docker images  "docker/k*"  #// "docker/kube-compose" ã«ãƒãƒƒãƒã—ã¾ã™
                    __RepositoryHost__: ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã¯æŒ‡å®šã§ãã¾ã›ã‚“
                ã‚¤ãƒ¡ãƒ¼ã‚¸ã®æ§‹æˆ:  #// ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚’è¡¨ç¤ºã—ã¾ã™
                    dive:
                        æ³¨æ„: dive ã‚’ä½¿ã£ã¦ã‚‚ FROM ã¯ãƒãƒƒã‚·ãƒ¥å€¤ã§ã™
                        dive ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                            wget https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.deb
                            sudo apt install ./dive_0.9.2_linux_amd64.deb
                            rm ./dive_0.9.2_linux_amd64.deb
                            #ref: https://github.com/wagoodman/dive
                            #ref: https://stackoverflow.com/questions/32454679/how-to-see-tree-view-of-docker-images
            å‰Šé™¤: #keyword: delete docker image,  delete docker container,  docker stop,  docker rm,  remove delete docker container
                Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãªã©ã‚’å‰Šé™¤ã—ã¾ã™:  #// åœæ­¢ã«ã¤ã„ã¦ã‚‚ã“ã“ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ¡ãƒ¼ã‚¸ ï¼ VMå…¨ä½“ã®å†…å®¹ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚‚ãªã‚‹
                    ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†å ´åˆ:  #search: Docker Dashboard
                    1ã¤ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åœæ­¢ãƒ»å‰Šé™¤ã—ã¾ã™: #ğŸŒŸ
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®åå‰ã‚’èª¿ã¹ã¾ã™:
                            - docker ps -a   #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä¸€è¦§ã—ã¾ã™ã€‚è¡¨ç¤ºã•ã‚ŒãŸè¡¨ã®æœ€ã‚‚å³ã®åˆ—ã«ã‚ã‚‹å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ __ContainerName__ ã¨ã—ã¾ã™
                            - docker ps -a | grep __DockerImageName__
                                #// -a ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚‚è¡¨ç¤ºã—ã¾ã™
                            #// ã¾ãŸã¯ docker ps --format "{{.Names}}"
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’åœæ­¢ã—ã¦å‰Šé™¤ã—ã¾ã™: #keyword: Docker delete command
                            -   docker stop __ContainerID__  #// STATUS ãŒ Exit ã§ã¯ãªã„å ´åˆã®ã¿ stop ã—ã¾ã™
                            -   docker rm   __ContainerID__
                            #// è¤‡æ•°æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™  docker rm   __ContainerID_A__  __ContainerID_B__  __ContainerID_C__
                        #â†“ åœæ­¢ãƒ»å‰Šé™¤ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¾Œ
                        å‹•ä½œä¸­ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸå ´åˆ:
                            - docker stop  __ContainerName__  &&  docker rm  __ContainerName__
                        #// å¼·åˆ¶å‰Šé™¤ã™ã‚‹ã¨ãã¯ã€docker rm ã« --force ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™
                        docker stop ãŒé…ã„å ´åˆ:
                            - ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰å®Ÿè¡Œã—ã¦ã€Ctrl + C ã‚’æŠ¼ã™ã¨æ—©ãçµ‚äº†ã§ãã¾ã™  #search: docker ctrl+C
                            - ç„¡é™ sleep ã—ã¦ã„ã‚‹å ´åˆ  #search: docker container run -d sleep
                        ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™:
                            - docker images  #// å­˜åœ¨ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¸€è¦§ã—ã¾ã™
                            - docker rmi __DockerImageName__:__Tag__  #keyword: docker rmi  #// ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™
                                #// Untagged ã¨ã„ã†è¡¨ç¤ºã ã‘ã§ Deleted ãŒè¡¨ç¤ºã•ã‚Œãªã„ã¨ãã§ã‚‚æˆåŠŸã‚’è¡¨ã—ã¾ã™
                                #// åŒã˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã«é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚¿ã‚°ãŒå‰Šé™¤ã•ã‚Œã‚‹ã¨ Deleted ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ stop ã—ã¾ã™:
                        docker stop $(docker ps -aq)
                    exit ã—ãŸã™ã¹ã¦ã‚’å‰Šé™¤ã—ã¾ã™:
                        docker container prune
                    ä¸è¦ãªã‚‚ã®ã¨æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä»¥å¤–ã‚’ä¸€æ‹¬å‰Šé™¤ã—ã¾ã™: #keyword: docker system prune
                        - docker system prune --force
                            #// åœæ­¢ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã€ã‚¿ã‚°ç„¡ã—ã‚¤ãƒ¡ãƒ¼ã‚¸ã€æœªä½¿ç”¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ã€æœªä½¿ç”¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä¸€æ‹¬å‰Šé™¤ã—ã¾ã™
                            #// æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ®‹ã‚Šã¾ã™ã€‚
                            #ref: https://docs.docker.jp/config/pruning.html
                    ä¸è¦ãªã‚‚ã®ã‚’å…¨ã¦å‰Šé™¤ã—ã¾ã™:
                        - docker system prune --all --force
                            #// ã™ã¹ã¦ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™
                            #// --all ã¾ãŸã¯ -a ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„ã¨ã€æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ®‹ã‚Šã¾ã™ã€‚
                    ç¢ºèªã—ãªã„ã§å‰Šé™¤ã—ã¾ã™:
                        --force ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã™
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                    - #// Error response from daemon: conflict: unable to delete __ImageID__ (cannot be forced) - image has dependent child images
                        æ‰‹é †: docker rmi __ImageID__
                        ã‚¨ãƒ©ãƒ¼: |
                            Error response from daemon: conflict: unable to delete __ImageID__ (cannot be forced) - image has dependent child images
                        å¯¾å‡¦:
                            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’åœæ­¢ãƒ»å‰Šé™¤ã—ã¦ã‹ã‚‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™
                å‚è€ƒ:
                    #ref: https://docs.docker.com/storage/storagedriver/#images-and-layers
                    #ref: https://www.creationline.com/lab/35518
            ã‚«ã‚¿ãƒ­ã‚°:  #search: Docker image catalog
            ãƒãƒ¼ã‚¸ãƒ§ãƒ³:  #search: Docker image version
            hello-world: |  #keyword: docker hello-world
                $ sudo docker run  hello-world
                Unable to find image 'hello-world:latest' locally
                latest: Pulling from library/hello-world
                2db29710123e: Pull complete
                Digest: sha256:faa03e786c97f07ef34423fccceeec2398ec8a5759259f94d99078f264e9d7af
                Status: Downloaded newer image for hello-world:latest

                Hello from Docker!
                This message shows that your installation appears to be working correctly.

                To generate this message, Docker took the following steps:
                    1. The Docker client contacted the Docker daemon.
                    2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
                        (amd64)
                    3. The Docker daemon created a new container from that image which runs the
                        executable that produces the output you are currently reading.
                    4. The Docker daemon streamed that output to the Docker client, which sent it
                        to your terminal.

                To try something more ambitious, you can run an Ubuntu container with:
                    $ docker run -it ubuntu bash

                Share images, automate workflows, and more with a free Docker ID:
                    https://hub.docker.com/

                For more examples and ideas, visit:
                    https://docs.docker.com/get-started/
            ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º:  #search: making docker image
            ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:  #search: docker pull
            ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:  #search: upload Docker image
            ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ:  #search: docker save
            ã‚¤ãƒ³ãƒãƒ¼ãƒˆ:  #search: docker load
            Union File System, ãƒ¦ãƒ‹ã‚ªãƒ³ ãƒ•ã‚¡ã‚¤ãƒ« ã‚·ã‚¹ãƒ†ãƒ :  #keyword: Union File System
                Docker ã«ãŠã‘ã‚‹ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ã¯ã‚ã„ã¾ã„ãªç”¨èªã§ã™ã€‚
                Union File System ã¨ã„ã†ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ã¯ã€è¤‡æ•°ã®å±¤ï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰ã‹ã‚‰ãªã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸€ã¤ã®çµ±ä¸€ã•ã‚ŒãŸãƒ“ãƒ¥ãƒ¼ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹
                ext4 ãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
                docker run ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ã¯ã€ã€Œãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã€ã‚’å«ã‚“ã ã‚‚ã®ã§ã™ã€‚
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Docker file system
                #search: èµ·å‹•ã®ã—ãã¿, ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å‹ã®ä»®æƒ³åŒ–æŠ€è¡“
            ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ:  #keyword: Docker file structure
                Dockerfile ã® RUN å‘½ä»¤ã‚’å®Ÿè¡Œã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚ŒãŸã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯å¤‰ã‚ã‚Šã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒä½œã‚‰ã‚Œã¾ã™ã€‚
                ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆãŒå¤‰ã‚ã‚‰ãªãã¦ã‚‚æ–°ã—ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ä½œã‚‰ã‚Œã¾ã™ã€‚
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Docker no changed layer
        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:  #// Docker ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸãƒ—ãƒ­ã‚»ã‚¹
            Docker ã‚³ãƒãƒ³ãƒ‰: #search: docker command
            ã™ã¹ã¦åœæ­¢ã—ã¾ã™: #keyword: delete all docker container  #// ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«å¯¾ã—ã¦ docker stop, dpcker rm ã—ã¾ã™
                docker stop $(docker ps -a -q)
                docker rm $(docker ps -a -q)
            å‰Šé™¤:  #search: delete docker image
            èµ·å‹•ã®ã—ãã¿, ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å‹ã®ä»®æƒ³åŒ–æŠ€è¡“: #search:
            ãƒ­ã‚°: #search: docker logs
            Docker in Docker: #keyword:  #ref: https://zenn.dev/kesin11/articles/20230514_container_hooks
                æ¦‚è¦:
                    Docker outside of Docker (DooD): #keyword: Docker outside of Docker,  DooD  #ref: ${my_images}/2024/docker-outside-of-docker.png
                        ã‚µãƒ³ãƒ—ãƒ«:  #search: GitHub runner DooD Dockerfile
                        docker ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ:
                            /var/run/docker.sock ã‚’ Docker ãƒ›ã‚¹ãƒˆ ã® VM ã¨å…±æœ‰ã—ã€
                            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® docker ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€Docker ãƒ›ã‚¹ãƒˆã® VM ã® Docker ãƒ‡ãƒ¼ãƒ¢ãƒ³ ã«æŒ‡ç¤ºãŒè¡Œãã¾ã™
                        systemctl ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ:
                            ã‹ãã‹ã‘
                            DOCKER_HOST_IP_ADDRESS  #search: Docker DooD localhost
                        ä»–ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹:  #keyword: Docker DooD localhost
                            æ›¸å¼: __DockerHostIPAddress__:__Port__
                            è§£èª¬:
                                Docker ãƒ›ã‚¹ãƒˆ ã‹ã‚‰ localhost:3306 ã§ã‚³ãƒ³ãƒ†ãƒŠãƒ¼B ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å ´åˆã€
                                ã‚³ãƒ³ãƒ†ãƒŠâ€•A å†…ã® localhost:3306 ã§ã¯ã€å¤–ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼B ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚
                                ã‚³ãƒ³ãƒ†ãƒŠâ€•A å†…ã‹ã‚‰ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ 192.168.____.____:3306 ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
                            ã‚µãƒ³ãƒ—ãƒ« ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:
                                èµ·å‹•:
                                    DOCKER_HOST_IP_ADDRESS=192.168.0.111  ./curl-example.sh
                                curl-example.sh:  #focus: DOCKER_HOST_IP_ADDRESS
                                    #!/bin/bash
                                    if [ "${DOCKER_HOST_IP_ADDRESS}" == "" ]; then
                                        DOCKER_HOST_IP_ADDRESS="localhost"
                                    fi
                                    curl -f -X GET "http://${DOCKER_HOST_IP_ADDRESS}:123456"
                        ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ ãƒ—ãƒ­ã‚»ã‚¹ ã®èµ·å‹•:  #// systemctl start ãŒä½¿ãˆãªã„ä»£ã‚ã‚Š  #search: Docker init system (PID 1)
                            docker ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹å ´åˆ?: |
                                ThisContainerID="$( docker ps | grep __Pattern__ | awk '{print $1}' )"   #// ç¾åœ¨å®Ÿè¡Œä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã® ID
                                docker exec  ${ThisContainerID}  /bin/sh -c "__Command__  __Parameters__  2>&1"  > _.log &
                        æ³¨æ„ >> -v, --volume ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: DooD volume
                            ãƒ›ã‚¹ãƒˆå´ã®ãƒ‘ã‚¹ã®ãšã‚Œ:
                                -   ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(1)ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(2)ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã«ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(1)å†…ã§ã€
                                    docker run ã‚’å®Ÿè¡Œã—ãŸã¨ãã® -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ›ã‚¹ãƒˆå´ã®ãƒ‘ã‚¹ã«æŒ‡å®šã™ã‚‹ãƒ‘ã‚¹ã¯ã€
                                    Docker ãƒ›ã‚¹ãƒˆã®ãƒ‘ã‚¹ã«ãªã‚Šã¾ã™ï¼ˆDinD ã§ã‚‚åŒã˜ï¼‰ #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: DinD volume
                                -   ãã®ã‚„ã‚„ã“ã—ã•ã‚’é¿ã‘ã‚‹ãŸã‚ã€ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠâ€•ã§åŒã˜ãƒ‘ã‚¹ã® Docker volume ã‚’è¨­å®šã—ã¾ã™
                            è¨­å®šä¾‹:
                                æ¦‚è¦: -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã« ${PWD} ã‚’æŒ‡å®šã—ã¦ãƒ•ãƒ«ãƒ‘ã‚¹ã«ã—ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã¨åŒã˜ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’ãƒ›ã‚¹ãƒˆã«ã‚‚ä½œã‚Šã¾ã™
                                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†… -v:     $PWD/script:/script:ro
                                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼èµ·å‹•æ™‚ -v: __CurrentInContainer__/script:__CurrentInContainer__/script
                            ãƒ›ã‚¹ãƒˆå´ã®ç›¸å¯¾ãƒ‘ã‚¹: éæ¨å¥¨  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: DooD volume
                            æ³¨æ„ >> ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã® busy:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•ã® GitHub ãƒ©ãƒ³ãƒŠãƒ¼ãªã©
                                èª¬æ˜: ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ä¸€éƒ¨ã‚’ -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹ã“ã¨ã¯ DooD ã§ã¯ã§ãã¾ã›ã‚“ã€‚
                                    -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã§ããªããªã‚‹ã‹ã‚‰ã§ã™ã€‚
                                    GitHub ãƒ©ãƒ³ãƒŠãƒ¼ ã§ã¯ã€å‰å› git clone ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ã¨ãã«å¤±æ•—ã—ã¾ã™
                                ã‚µãƒ³ãƒ—ãƒ«: |  #search: .github/workflows/.yml
                                    # drwxr-xr-x 3 root   root   4096 Mar 1 00:00 ci-test
                                    -   name: Get permission created folder by docker run volume option
                                        run: |
                                            sudo mkdir -p /home/github-runner/ci-test
                                            sudo chown -hR github-runner:github-runner /home/github-runner/ci-test
                                    -   uses: actions/checkout@v3
                                    # Error: File was unable to be removed Error: EBUSY: resource busy or locked, rmdir '/home/github-runner/ci-test/proj/proj/docker/build'
                        Nomad ã® DooD:  #search: Nomad DooD
                    Docker in Docker (DinD): #keyword:  #ref: ${my_images}/2024/docker-in-docker.png
                        #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: DinD volume
                        æ³¨æ„ >> -v, --volume ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #search: DooD volume
                    #ref: https://www.docswell.com/s/Kesin11/K98GJJ-cicd_testnight_6_github_actions#p36
                æ‰‹é †:
                    Docker outside of Docker (DooD) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        bash ã®å ´åˆ:
                            docker ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®èµ·å‹•æ™‚ã«ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’è¨­å®šã—ã¾ã™:
                                docker run  -v /var/run/docker.sock:/var/run/docker.sock  __Parameters__
                            Docker CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…
                                sudo yum install -y yum-utils
                                sudo yum-config-manager  --add-repo https://download.docker.com/linux/centos/docker-ce.repo
                                sudo yum install -y  docker-ce-cli
                                sudo docker run  hello-world
                            ï¼ˆå¿…è¦ãªã‚‰ï¼‰Docker Compose ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…
                                #ref: https://github.com/docker/compose/releases ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒªãƒ³ã‚¯å…ˆ URL ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®å‰ã® v ã®æœ‰ç„¡ã«æ³¨æ„
                                sudo curl -L "https://github.com/docker/compose/releases/download/v2.24.7/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
                                sudo chmod +x /usr/local/bin/docker-compose
                        Dockerfile ã®å ´åˆ: |  #// docker ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚’ä½œã‚Šã¾ã™
                            ARG  dockerCeCliVersion=25.0.4
                            RUN  sudo yum install -y yum-utils  && \
                                sudo yum-config-manager  --add-repo https://download.docker.com/linux/centos/docker-ce.repo  && \
                                sudo yum install -y  docker-ce-cli
                            
                            ARG  dockerComposeVersion=v2.24.7
                                #// https://github.com/docker/compose/releases
                            RUN  sudo curl -L "https://github.com/docker/compose/releases/download/${dockerComposeVersion}/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose  && \
                                sudo chmod +x /usr/local/bin/docker-compose

                            # RUN  sudo docker pull mysql:8.0
                                # This fails in docker build command, because -v /var/run/docker.sock:/var/run/docker.sock option is not specified.
                    WSL2 ã¸ Docker outside of Docker (DooD) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #// ã‚¨ãƒ©ãƒ¼ã®ãŸã‚æœªç¢ºèª
                        Docker Engine for WSL2 Ubuntu: #search: restore Docker for WSL2
                        èµ·å‹•:
                            wsl --unregister "Ubuntu-20.04-docker"
                            wsl --import  "Ubuntu-20.04-docker" `
                                "${HOME}\WSL_VMs\Ubuntu-20.04-docker" `
                                "${HOME}\WSL_back_up\Ubuntu-20.04-docker.tar"
                            wsl -d "Ubuntu-20.04-docker"
                            service-start
                            docker run -d --rm  --name container-1  rockylinux:8.8.20230518-minimal  sleep infinity
                            docker ps
                            docker run -it -v /var/run/docker.sock:/var/run/docker.sock docker
                        ã‚¨ãƒ©ãƒ¼: |
                            Certificate request self-signature ok
                            subject=CN = docker:dind server
                            /certs/server/cert.pem: OK
                            Certificate request self-signature ok
                            subject=CN = docker:dind client
                            /certs/client/cert.pem: OK
                            ip: can't find device 'nf_tables'
                            modprobe: can't change directory to '/lib/modules': No such file or directory
                            ip: can't find device 'ip_tables'
                            modprobe: can't change directory to '/lib/modules': No such file or directory
                            iptables v1.8.10 (nf_tables)
                            mount: permission denied (are you root?)
        ç’°å¢ƒå¤‰æ•°: #keyword: Docker environment variable,  Docker env
            Dockerfile:  #search: Dockerfile ENV  #search: Dockerfile ARG  #search: Docker proxy ENV
            docker build ã‚³ãƒãƒ³ãƒ‰:  #search: Docker proxy --build-arg
            docker run ã‚³ãƒãƒ³ãƒ‰:  #search: docker run --env
                docker build ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãŸç’°å¢ƒå¤‰æ•°ã¯ã€Dockerfile ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒãªã‘ã‚Œã°ã€docker run ã‚³ãƒãƒ³ãƒ‰ã§ã‚‚æ”¹ã‚ã¦æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™(?)
            docker exec ã‚³ãƒãƒ³ãƒ‰:  #search: evaluate docker environment variable
            ã‚³ãƒ³ãƒ†ãƒŠâ€•ã®ç’°å¢ƒå¤‰æ•°ã®å€¤:  #search: Dockerfile ENV
        ãƒœãƒªãƒ¥ãƒ¼ãƒ :  #keyword: Docker volume  #// ãƒœãƒªãƒ¥ãƒ¼ãƒ ã€‚ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒä½¿ã†ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€‚å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
            æ‰‹é †:
                æ°¸ç¶šåŒ–ã—ã¾ã™:
                    Dockerfile ã« VOLUME ãŒã‚ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆ:
                        æ˜ç¤ºçš„ã«è¨­å®šã—ãªãã¦ã‚‚ãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒç”¨æ„ã•ã‚Œã¾ã™
                        åŒ¿åvolumeï¼ˆãƒ©ãƒ³ãƒ€ãƒ ãªåå‰ï¼‰ãŒè‡ªå‹•çš„ã«ä½œã‚‰ã‚Œã¾ã™
                    Dockerfile ã« VOLUME ãŒãªã„ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆ:
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã®ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒœãƒªãƒ¥ãƒ¼ãƒ ã«æ¥ç¶šã—ãªã„ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼çµ‚äº†æ™‚ã«ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ãŒå¤±ã‚ã‚Œã¾ã™
                ã‚³ãƒ³ãƒ†ãƒŠâ€•ã¨ã®é–¢é€£:  #search: docker inspect
                    docker inspect -f '{{ range .Mounts }}{{ .Name }} {{ end }}'  __ContainerName__
                ãƒ›ã‚¹ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å…±æœ‰ã™ã‚‹å ´åˆ: #keyword: Docker shared folder
                    #ref: https://docs.docker.jp/engine/tutorials/dockervolumes.html#mount-a-host-directory-as-a-data-volume
                æ¥ç¶šã™ã‚‹ã¨ãã®æ³¨æ„: #keyword: Docker volume connection attention  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’æ¥ç¶šã—ã¾ã™
                    æ›¸å¼ã®ä¾‹: docker run -v __PathInHost__:__PathInContainer__
                    æ³¨æ„1: __PathInHost__, __PathInContainer__ ã¯ä¸¡æ–¹ã¨ã‚‚ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„
                    æ³¨æ„2: __PathInHost__ ã¯ / ã¾ãŸã¯ ./ ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„
                    æ³¨æ„3: ãƒ›ã‚¹ãƒˆOS ãŒ Linux ã®å ´åˆã€__PathInHost__ ã‚’ã‚ã‚‰ã‹ã˜ã‚ä½œã£ã¦ãŠã‹ãªã„ã¨ã€
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®æ‰€æœ‰è€…ãŒ root ã«ãªã£ã¦ãƒ›ã‚¹ãƒˆOS ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã«ãããªã‚Šã¾ã™
                Permission:  #keyword: Docker volume permission  #// å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©
                    - UID ã¨ GID ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ãƒ›ã‚¹ãƒˆã§å…±æœ‰ã—ã¾ã™
                    - ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ã‚°ãƒ«ãƒ¼ãƒ—åã¯ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ãƒ›ã‚¹ãƒˆã§ç•°ãªã‚Šã¾ã™ã€‚åŒã˜ UID, GID ã§ã‚‚åå‰ãŒé•ã„ã¾ã™
                    - root (UID=0) ã‚‚å…±æœ‰ã—ã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® root ã§ã‚‚ãƒ›ã‚¹ãƒˆã® root ã§ã‚‚ Permission ã‚’å¤‰æ›´ã§ãã¾ã™
                    - é€šå¸¸ã€ãƒ›ã‚¹ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã€å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã® GID ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™
            ã‚³ãƒãƒ³ãƒ‰:  #keyword: Docker volume command  #glossary:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ã®æ¥ç¶š:  #// æ°¸ç¶šåŒ–ã€ã¾ãŸã¯ã€ãƒ›ã‚¹ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¨å…±æœ‰
                    -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #search: docker run -v option
                        æ›¸å¼: docker run  -v __PathInHost__:__PathInContainer__
                        æ³¨æ„:  #search: Docker volume connection attention
                ãƒœãƒªãƒ¥ãƒ¼ãƒ æœ¬ä½“: #glossary:
                    docker volume ls:  #// ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä¸€è¦§ã—ã¾ã™
                        å®Ÿè¡Œä¾‹:
                            $ docker volume ls
                            DRIVER    VOLUME NAME
                            local     try_kuromoji_data01
                        Dashboard ã§ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä¸€è¦§ã—ã¾ã™:
                            Dashboard ã‚’é–‹ãã¾ã™:  #search: Docker Dashboard
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Volumesï¼ˆå·¦ï¼‰
                    docker volume rm: #keyword: Docker volume delete  #// ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‰Šé™¤ã—ã¾ã™
                        æ‰‹é †:
                            1ã¤å‰Šé™¤:
                                ãƒœãƒªãƒ¥ãƒ¼ãƒ åã‚’ç¢ºèªã—ã¾ã™:
                                    docker-compose.yml ã‹ã‚‰æ¢ã™å ´åˆ:
                                        #search: docker-compose.yml volumes
                                    ä¸€è¦§ã‹ã‚‰æ¢ã™å ´åˆ:
                                        #search: docker volume ls
                                    docker inspect ã‚³ãƒãƒ³ãƒ‰ã§æ¢ã™å ´åˆ:  #keyword: docker inspect volume
                                        ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›:
                                            - docker ps -a   #// NAMES ãŒã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã§ã™
                                            - dockerc inspect __ContainerName__
                                        å‡ºåŠ›å†…å®¹ã‹ã‚‰èª¿ã¹ã¾ã™: |  #focus: Mounts, volume, Name  #// __VolumeName__ ã¯ 4fa95 ... ã§ã™
                                            "Mounts": [
                                                {
                                                    "Type": "volume",
                                                    "Name": "4fa95bcd6041ba7db6a3a81afdbe7ba166ebf1e93336a52265f35f5ef7e6a50e",
                                                    "Source": "/var/lib/docker/volumes/4fa95bcd6041ba7db6a3a81afdbe7ba166ebf1e93336a52265f35f5ef7e6a50e/_data",
                                                    "Destination": "/var/lib/postgresql/data",
                                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                                    #search: docker rm
                                    #search: docker-compose down
                                ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‰Šé™¤ã—ã¾ã™:
                                    docker volume rm __VolumeName__
                                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                                    - #// remove __Volume__: volume is in use
                                        æ‰‹é †: docker volume rm __Volume__
                                        ã‚¨ãƒ©ãƒ¼: |
                                            Error response from daemon: remove __Volume__: volume is in use - [__ContainerID__]
                                            docker-compose -f docker-compose.zabbix.yml  down --volumes
                                        å¯¾å‡¦:
                                            __ContainerID__ ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’çµ‚äº†ã•ã›ã¦ãã ã•ã„
                            ä½¿ã£ã¦ã„ãªã„ã™ã¹ã¦å‰Šé™¤:
                                docker volume prune
                    docker volume create:  https://docs.docker.jp/engine/reference/commandline/volume_create.html
            ãƒ•ã‚¡ã‚¤ãƒ«:
                Dockerfile ã«æ›¸ãå ´åˆ: #search: Dockerfile VOLUME
                docker-compose.yml ã«æ›¸ãå ´åˆ: #search: docker-compose.yml volumes
            ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                Permission denied ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆ: #keyword: Docker volume permission  #// ãƒœãƒªãƒ¥ãƒ¼ãƒ ã«æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã®ã‚¨ãƒ©ãƒ¼
                    ãƒ›ã‚¹ãƒˆOSã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®æ¨©é™ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç¢ºèªã—ã¾ã™:
                        ls -la  __Folder__
                    ï¼ˆãƒ›ã‚¹ãƒˆOSã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒ root ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ã®å ´åˆï¼‰:
                        æ‰‹å‹•ã§ä¸€æ™‚çš„ã«å¯¾å¿œã™ã‚‹å ´åˆ:
                            ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ä½œã‚Šç›´ã—ã¾ã™:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨åŒã˜IDã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©é™ã«ã—ã¾ã™
                                - sudo rm -rf __Folder__   #// ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™
                                - mkdir __Folder__
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼ID ã‚’æ’ä¹…çš„ã«è¨­å®šã™ã‚‹å ´åˆ: #keyword: Docker volume user  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ã€ãƒ›ã‚¹ãƒˆOSã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã«åˆã‚ã›ã¾ã™
                            docker-compose.yml ã«æ›¸ãå ´åˆ: #keyword: docker-compose volume user
                                __CurrentFolder__/.env:  #// ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãŸã ã—ã€ãƒ›ã‚¹ãƒˆOSã® UID, GID ã¨åŒã˜ã«ãªã‚‹ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚ #search: read UID:GID
                                    CONTAINER_UID=1000
                                    CONTAINER_GID=1000
                                __CurrentFolder__/docker-compose.yml: |  #// ä¸‹è¨˜ user ã‚’è¿½åŠ ã—ã¾ã™
                                    services:
                                        __ServiceName__:
                                            user: "${CONTAINER_UID}:${CONTAINER_GID}"
                            å‚è€ƒ:
                                è¨­å®šã—ãªã„å ´åˆã®ä¸å…·åˆä¾‹:
                                    #search: git checkout cannot create directory
                                docker-compose:
                                    #ref: https://stackoverflow.com/questions/56844746/how-to-set-uid-and-gid-in-docker-compose
                                Dockerfile:
                                    #ref: https://qiita.com/yohm/items/047b2e68d008ebb0f001
                root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒã§ãã¦ã—ã¾ã†:
                    dockerã§volumeã‚’ãƒã‚¦ãƒ³ãƒˆã—ãŸã¨ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ownerå•é¡Œ:  #ref: https://qiita.com/yohm/items/047b2e68d008ebb0f001
                    Docker-compose set user and group on mounted volume:  #ref: https://stackoverflow.com/questions/40462189/docker-compose-set-user-and-group-on-mounted-volume
                    WSL(Linux)ã®docker-composeã®ã‚³ãƒ³ãƒ†ãƒŠã‚’érootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œã™ã‚‹ã«ã¯:  #ref: https://wonwon-eater.com/docker-non-root/
        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #keyword: Docker network
            æ‰‹é †:
                ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:
                    ãƒ—ãƒ­ã‚­ã‚·:  #// ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ LAN ã«ã„ã‚‹å ´åˆã€Docker å‘¨ã‚Šã«è¨­å®šç­‰ãŒå¿…è¦ã§ã™  #keyword: Docker proxy
                        ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å ´æ‰€:  #// ãƒ—ãƒ­ã‚­ã‚·ã®å‚ç…§å…ƒï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ã«ã‚ˆã‚‹é¸æŠ
                            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…: #keyword: Docker container proxy  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ã™ã‚‹ã¨ãã«ä½¿ã†ãƒ—ãƒ­ã‚­ã‚·ã€‚Dockerfile ã® RUN ã‚„ CMD ã§ yum ã‚„ apt ãªã©ã‚’æŒ‡å®šã—ãŸå ´åˆ
                                ï¼ˆä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã§ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ã†ã‚³ãƒãƒ³ãƒ‰ï¼‰: yum -y update
                                Dockerfile å†…ã® RUN ãªã©ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰:  #// Dockerfile ã«æ›¸ã„ãŸã‚³ãƒãƒ³ãƒ‰ãŒãƒ—ãƒ­ã‚­ã‚·ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å ´åˆ
                                    .bashrc ãªã©ã§å®šç¾©æ¸ˆã¿ã®ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ã†å ´åˆ:  #keyword: Docker proxy --build-arg,  docker build --build-arg  http_proxy  https_proxy
                                        Dockerfile: |  #// ã“ã®ä¸­ã® RUN ã§ãƒ—ãƒ­ã‚­ã‚·ãŒå¿…è¦ãªå ´åˆ
                                            FROM centos:7
                                            ARG http_proxy
                                            ARG https_proxy
                                            RUN \
                                                yum -y update  && \
                                                yum -y install openssh-server openssh-clients sudo
                                        #â†“ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰
                                        docker ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ:
                                            åå‰è§£æ±ºã§ãã‚‹å ´åˆ: |  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã®ä¸­ã§ http_proxy ãªã©ã®å¤‰æ•°ã®å€¤ãŒ http://__FQDN__:__Port__ ã§ã‚ˆã„å ´åˆ
                                                docker build \
                                                    --build-arg http_proxy=${http_proxy} \
                                                    --build-arg https_proxy=${https_proxy} \
                                                    -t __NewImageName__ "."  --progress=plain
                                            åå‰è§£æ±ºã§ããªã„å ´åˆ:  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã®ä¸­ã§ http_proxy ãªã©ã®å¤‰æ•°ã®å€¤ãŒ http://__IPAddress__:__Port__ ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ
                                                æ¦‚è¦:
                                                    Dockerfile: |
                                                        ARG  http_proxy
                                                        ARG  https_proxy
                                                        ENV  http_proxy="${http_proxy}"
                                                        ENV  https_proxy="${https_proxy}"
                                                    bash: |  #search: docker build with proxy IP address
                                                        http_proxy_ip="http://$( dig +short  "$( echo  "${http_proxy}"  |  sed -E  's|https?://([^:/]+).*|\1|' )"  |  grep -E '([0-9]{1,3}\.){3}' ):${http_proxy##*:}"
                                                        echo  "${http_proxy_ip}"
                                                        https_proxy_ip="http://$( dig +short  "$( echo  "${https_proxy}"  |  sed -E  's|https?://([^:/]+).*|\1|' )"  |  grep -E '([0-9]{1,3}\.){3}' ):${http_proxy##*:}"
                                                        echo  "${https_proxy_ip}"

                                                        docker build \
                                                            --build-arg http_proxy=${http_proxy_ip} \
                                                            --build-arg https_proxy=${https_proxy_ip} \
                                                            ,,,
                                                ã‚µãƒ³ãƒ—ãƒ«:
                                                    Python ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆ:  #search: install Python Ubuntu Docker
                                        docker run ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ: #keyword: docker run  http_proxy  https_proxy
                                            -e ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æŒ‡å®šã—ã¾ã™:
                                                docker run  -e http_proxy=${http_proxy}/  -e https_proxy=${https_proxy}/  __DockerRunOptions__
                                        docker-compose ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ:  #search: docker-compose.yml build
                                            compose.yaml: |  #focus: http_proxy
                                                version: '3'
                                                services:
                                                    ____:
                                                        build:
                                                            context: .
                                                            dockerfile: Dockerfile
                                                            args:
                                                                -   http_proxy=${http_proxy}
                                                                -   https_proxy=${https_proxy}
                                                                -   no_proxy=${no_proxy}
                                                        environment:
                                                            -   http_proxy=${http_proxy}
                                                            -   https_proxy=${https_proxy}
                                                            -   no_proxy=${no_proxy}
                                    Dockerfile ã«ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’è¨­å®šã™ã‚‹å ´åˆ: | #keyword: Docker proxy ENV  #// éæ¨å¥¨ã€‚ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ã¯åå‰è§£æ±ºãŒã§ããªã„ã“ã¨ãŒã‚ã‚Šã¾ã™
                                        FROM centos:7
                                        ENV http_proxy  http://__ProxyServer__:__Port__
                                        ENV https_proxy http://__ProxyServer__:__Port__
                                        RUN yum -y update && yum -y install openssh-server openssh-clients sudo
                                docker run ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã™ã‚‹ bash ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã® CLI ã«å…¥åŠ›ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒãƒ—ãƒ­ã‚­ã‚·ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å ´åˆ
                                    _: bash å†…ã§ç’°å¢ƒå¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚
                                        Dockerfile ã® ENV ã‚„ ARG ã«è¨­å®šã—ãŸç’°å¢ƒå¤‰æ•°ã¯å‚ç…§ã§ãã¾ã›ã‚“ã€‚
                                    ã‚µãƒ³ãƒ—ãƒ«:
                                        ãƒ›ã‚¹ãƒˆOS:
                                            docker run -it --rm  --name __ContainerName__ __ImageName__
                                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…:
                                            export http_proxy=http://__ProxyServer__:__Port__
                                            export https_proxy=http://__ProxyServer__:__Port__
                                            yum -y update
                                Ansible >> docker_container ã§èµ·å‹•ã™ã‚‹å ´åˆ:  #search: Ansible docker_container proxy
                            ãƒ›ã‚¹ãƒˆ OS å†…:  #// Docker ã®ãƒ›ã‚¹ãƒˆã®ä¸­ã€‚Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ã™ã‚‹ã¨ãã«ä½¿ã†ãƒ—ãƒ­ã‚­ã‚·
                                Linux:  #// Docker for Linux ã®ãƒ›ã‚¹ãƒˆOS (?)
                                    ~/.docker/config.json ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã™ã‚‹å ´åˆ:
                                        mkdir -p  ~/.docker :
                                        ~/.docker/config.json : |  #keyword: Docker proxy Linux
                                            {
                                                "proxies": {
                                                    "default": {
                                                        "httpProxy": "http://___.___.___.___:____",
                                                        "httpsProxy": "http://___.___.___.___:____"
                                                    }
                                                }
                                            }
                                        #// æ¬¡ã¯ä¸‹è¨˜
                                    ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹å ´åˆ:  #// ~/.docker/config.json ãŒç„¡ã„ã¨ã
                                        #search: Linux proxy ç’°å¢ƒå¤‰æ•°
                                    å¤‰æ›´ã—ãŸã‚‰:
                                        docker-compose down ã—ã¦ã€æ–°ã—ã„ã‚·ã‚§ãƒ«ã§ docker-compose up ã—ã¾ã™
                                WSL2 Linux >> systemd å¯¾å¿œç‰ˆ: #keyword: proxy WSL2 Docker systemd
                                    #// Windows 10, WSL2 2.1.5.0 ã®ä¸­ã® Rocky Linux 8 ãŒ Docker ãƒ›ã‚¹ãƒˆã§ç¢ºèª 2024-04
                                    /etc/systemd/system/docker.service.d/override.conf : |
                                        [Service]
                                        Environment = 'http_proxy=http://___.___.___.___:____' 'https_proxy=http://___.___.___.___:____'
                                    WSL2 ã‚’å†èµ·å‹•ã—ã¾ã™: |
                                        exit
                                        wsl --shutdown  #// å…¨ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™
                                        wsl -d "__DistroName__"
                                    #// ï¼ˆè£œè¶³ï¼‰ä¸è¦â†’ sudo systemctl daemon-reload;  sudo systemctl restart docker
                                    #ref: https://qiita.com/taoy/items/91321de576e1de4d9e7d
                                    #ref: https://qiita.com/dkoide/items/ca1f4549dc426eaf3735
                                Windows:  #// Docker for Windows ã®ãƒ›ã‚¹ãƒˆOS
                                    ï¼ˆWindows é€šçŸ¥é ˜åŸŸï¼‰Dockerï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Dashboard >> Settingsï¼ˆæ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ï¼šä¸Šï¼‰>>
                                        Resourcesï¼ˆå·¦ï¼‰>> PROXIES
                                å…¬å¼:  #ref: https://docs.docker.com/network/proxy/
                        æŒ‡å®šã™ã‚‹å ´æ‰€:  #// ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šã‚’ã™ã‚‹å ´æ‰€ã«ã‚ˆã‚‹é¸æŠ
                            ãƒ›ã‚¹ãƒˆ OS ã®ã‚³ãƒãƒ³ãƒ‰å†…:  #search: Docker proxy --build-arg
                            Dockerfile å†…:  #search: Docker proxy ENV
                            ãƒ›ã‚¹ãƒˆ OS å†… ~/.docker/config.json :  #search: Docker proxy Linux
                        ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(Docker network):  #search: docker DNS trouble
                ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®é–“ã®é€šä¿¡:  #search: docker run -p option
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®é€šä¿¡:  #search: docker network create
                    ä»®æƒ³ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼:  #search: Docker network adapter
                ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£, iptables ãªã©ã®æ“ä½œ: #keyword: Docker iptables  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                    å…¬å¼ >> Packet filtering and firewalls:  #ref: https://docs.docker.com/network/packet-filtering-firewalls/
                    æ¦‚è¦:
                        Docker ã¯å¿…è¦ã«å¿œã˜ã¦ iptables ã¨ fiewalld, ufw ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚
                        Docker ã® bridge ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ãƒ¢ãƒ¼ãƒ‰ ã§ docker run ã‚’å®Ÿè¡Œã™ã‚‹ã¨ Docker ã¯ iptables ã‚’ç·¨é›†ã—ã¦ã€
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™  #search: Docker run -p option iptables
                    ãƒã‚§ãƒƒã‚¯ ãƒªã‚¹ãƒˆ: #keyword: Docker iptables check list  #// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡ŒãŒç„¡ã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                        iptables:
                            ãƒãƒ¼ãƒˆ 2375, 2376:  #search: Docker Remote API
                            ãã®ä»–ã®ãƒãƒ¼ãƒˆ:  #search: Docker run -p option iptables
                    iptables:
                        ã‚µãƒ³ãƒ—ãƒ«:
                            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®š: |  #// ä»¥ä¸‹ã® iptablesï¼ˆä¸€éƒ¨ï¼‰ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“: |
                                *nat
                                :PREROUTING ACCEPT [999:99999]
                                :INPUT ACCEPT [999:99999]
                                :OUTPUT ACCEPT [999:99999]
                                :POSTROUTING ACCEPT [999:99999]
                                :DOCKER - [0:0]
                                -A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER
                                -A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER
                                -A POSTROUTING -s 172.17.0.0/16 ! -o docker0 -j MASQUERADE
                                -A DOCKER -i docker0 -j RETURN

                                *filter
                                :FORWARD DROP [999:99999]
                                :DOCKER - [0:0]
                                :DOCKER-ISOLATION-STAGE-1 - [0:0]
                                :DOCKER-ISOLATION-STAGE-2 - [0:0]
                                :DOCKER-USER - [0:0]
                                -A FORWARD -j DOCKER-USER
                                -A FORWARD -j DOCKER-ISOLATION-STAGE-1
                                -A FORWARD -o docker0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
                                -A FORWARD -o docker0 -j DOCKER
                                -A FORWARD -i docker0 ! -o docker0 -j ACCEPT
                                -A FORWARD -i docker0 -o docker0 -j ACCEPT
                                -A DOCKER-ISOLATION-STAGE-1 -i docker0 ! -o docker0 -j DOCKER-ISOLATION-STAGE-2
                                -A DOCKER-ISOLATION-STAGE-1 -j RETURN
                                -A DOCKER-ISOLATION-STAGE-2 -o docker0 -j DROP
                                -A DOCKER-ISOLATION-STAGE-2 -j RETURN
                                -A DOCKER-USER -j RETURN
                            æ³¨æ„ãŒå¿…è¦ãªè¨­å®š:
                                ptables -I DOCKER-USER -i __SourceNicName__ -o __DestinationNicName__ -j ACCEPT
                        ã‚«ã‚¹ã‚¿ãƒ  iptables ãƒã‚§ãƒ¼ãƒ³:
                            æ§‹æˆ: DOCKER-USER, DOCKER (Forward ãƒã‚§ãƒ¼ãƒ³ï¼‰
                            ç›®çš„: å—ä¿¡ãƒ‘ã‚±ãƒƒãƒˆãŒå¸¸ã«æœ€åˆã«ã“ã‚Œã‚‰ 2 ã¤ã®ãƒã‚§ãƒ¼ãƒ³ã«ã‚ˆã£ã¦ãƒã‚§ãƒƒã‚¯ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
                            æ³¨æ„: ã“ã®æ§‹æˆã‚’å¤‰æ›´ã—ãªã„ã§ãã ã•ã„ã€‚
                                Do not manipulate this chain manually.  #ref: https://docs.docker.com/network/packet-filtering-firewalls/#add-iptables-policies-before-dockers-rules
                        DockerãŒiptablesã‚’æ“ä½œã—ãªã„ã‚ˆã†ã«ã™ã‚‹:  #// éæ¨å¥¨
                            #ref: https://docs.docker.com/network/packet-filtering-firewalls/#prevent-docker-from-manipulating-iptables
                            /etc/docker/daemon.json :
                                {
                                "iptables":false,
                                "ip-forward": false,
                                "ip-masq": false,
                                "userland-proxy": false
                                }
                        ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…ƒ IP ã®ç…§åˆ:  #// è¨±å¯ã—ã¦ã„ãªã„ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ ã¨ãƒãƒ¼ãƒˆã‹ã‚‰æ¥ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‹’å¦ã—ã¾ã™
                            DNAT å¤‰æ›æ¸ˆã¿ IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                                å¤‰æ›å‰ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã™ã‚‹å ´åˆ:
                                    #ref: https://docs.docker.com/network/packet-filtering-firewalls/#match-the-original-ip-and-ports-for-requests
                            ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°:
                                ã‚µãƒ³ãƒ—ãƒ«: iptables -I DOCKER-USER -i eth2 ! -s 192.168.1.0/24 -j DROP
                            -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: Docker run -p option iptables  #ref: https://docs.docker.com/network/packet-filtering-firewalls/#setting-the-default-bind-address-for-containers
                                ãƒãƒ¼ãƒˆç•ªå·:
                                    -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æŒ‡å®šã—ãŸãƒãƒ¼ãƒˆã‚’é–‹ãã¾ã™ã€‚
                                    docker run -p 8080:80 nginx ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ 0.0.0.0:8080 ã‚’ ACCEPT ã—ã¾ã™ã€‚
                                    #search: docker run -p option
                                IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                                    docker run ã‚³ãƒãƒ³ãƒ‰ã® -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 0.0.0.0:__HostPort__ ï¼ˆã®INPUT?ï¼‰ã‚’ ACCEPT ã—ã¾ã™ã€‚
                                    0.0.0.0 ã‹ã‚‰å¤‰ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
                            ãƒ«ãƒ¼ã‚¿ãƒ¼æ©Ÿèƒ½å¯¾å¿œ:  #// å¤šãã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã§ã¯ãªã„ã®ã§è¨­å®šä¸è¦ã§ã™
                                ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ:  #// DROP
                                    Docker ã¯ã€FORWARD ãƒã‚§ãƒ¼ãƒ³ã®ãƒãƒªã‚·ãƒ¼ã‚’ DROP ã«è¨­å®šã—ã¾ã™ã€‚
                                ACCEPT ã®è¿½åŠ : #keyword: add 
                                    iptables -I DOCKER-USER -i __SourceNicName__ -o __DestinationNicName__ -j ACCEPT
                                    #search: NIC name
                    fiewalld:  #// CentOS8 ã® fiewalld
                        Docker ã¯ firewalld ã« docker ã‚¾ãƒ¼ãƒ³ã‚’è¿½åŠ ã—ã¾ã™
                        #ref: https://docs.docker.com/network/packet-filtering-firewalls/#integration-with-firewalld
                    ufw:  #// Debian ã‚„ Ubuntu ã® Uncomplicated Firewall
                        #ref: https://docs.docker.com/network/packet-filtering-firewalls/#docker-and-ufw
                    Docker Remote API:
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯é–‹ã„ã¦ã„ã¾ã›ã‚“  #search: Docker Remote API
            æ§‹æˆ, æ¦‚å¿µ:
                ãƒ–ãƒªãƒƒã‚¸ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯, Docker network: #keyword: Docker bridge network,  Docker network  #// ä»®æƒ³çš„ãª L2 ã‚¹ã‚¤ãƒƒãƒ
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ, docker0:
                        ã‚³ãƒ³ãƒ†ãƒŠä½œæˆæ™‚ã«ä½•ã‚‚æŒ‡å®šã—ãªã„ã¨ã€docker0 ã¨ã„ã†ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® ãƒ–ãƒªãƒƒã‚¸ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã«æ¥ç¶šã•ã‚Œã¾ã™ã€‚
                        Docker network ã¨ã„ãˆã°ã€é€šå¸¸ã“ã‚Œã€‚
                ãƒ›ã‚¹ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç›´æ¥ä½¿ç”¨:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ãƒ›ã‚¹ãƒˆåã¨ IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                    IP ã‚¢ãƒ‰ãƒ¬ã‚¹: #keyword: docker IP address  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«è‡ªå‹•çš„ã«ä»˜ã IP ã‚¢ãƒ‰ãƒ¬ã‚¹
                        ãƒ–ãƒªãƒƒã‚¸ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆ: #keyword: Docker bridge mode
                            Docker ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ å†…:  #// Docker ãƒ›ã‚¹ãƒˆ ã®ä¸­ã® Docker ã®ä¸­ã«ã‚ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€‚å¤–éƒ¨ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ SNAT çµŒç”±ã«ãªã‚Šã¾ã™
                                æ³¨æ„: IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã™ã‚‹ãŸã³ã«å¤‰ã‚ã‚Šã¾ã™
                                ã‚µãƒ³ãƒ—ãƒ«: #keyword: docker network deafult IP address
                                åˆã‚ã¦èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹:  172.17.0.2/16  #keyword: 172.17.0.2/16
                                2ã¤ç›®ã«èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹: 172.17.0.3/16
                                èª¿ã¹æ–¹:
                                    å…¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:
                                        - docker network inspect bridge
                                    1ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                                        - docker inspect --format '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' __ContainerName__
                                        - docker inspect --format='{{(index (index .NetworkSettings.IPAddress))}}' __ContainerName__
                            å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #// å¤–éƒ¨ã‹ã‚‰è¦‹ãˆã‚‹ Docker ãƒ›ã‚¹ãƒˆ ã®ã‚µãƒ¼ãƒãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹
                                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã¨ã:
                                    ãƒ—ãƒ­ã‚­ã‚·ãŒãªã„ç’°å¢ƒã®å ´åˆ:
                                        SNAT çµŒç”±ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ãªã‚Šã€å¤–éƒ¨ã‹ã‚‰è¦‹ãˆã‚‹ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã€Docker ãƒ›ã‚¹ãƒˆ ã®ã‚µãƒ¼ãƒãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ ã«ãªã‚Šã¾ã™
                                    ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ç’°å¢ƒã®å ´åˆ:
                                        SNAT çµŒç”±ï¼‹ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ãªã‚Šã€å¤–éƒ¨ã‹ã‚‰è¦‹ãˆã‚‹ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ¯å›ç•°ãªã‚Šã¾ã™
                    ã‚µãƒ¼ãƒãƒ¼å: #keyword: docker-compose servers  #// docker-compose ãŒè‡ªå‹•çš„ã«ä»˜ã‘ã‚‹ãƒ›ã‚¹ãƒˆå
                        - ã‚µãƒ¼ãƒ“ã‚¹åã€ã¾ãŸã¯ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’æŒ‡å®šã§ãã¾ã™ã€‚
                            #search: Docker container name
                            #search: Docker service name
                        - /etc/hosts ã«æ›¸ã„ã¦ã„ãªãã¦ã‚‚ docker-compose ã® DNS ãŒè§£æ±ºã—ã¾ã™ã€‚
                    Docker ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                        Docker ãƒ›ã‚¹ãƒˆ ã§ localhost:3306 ã§æ¥ç¶šå…ˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å ´åˆã€
                        ã‚³ãƒ³ãƒ†ãƒŠâ€•ã®ä¸­ã‹ã‚‰ __HostIpAddress__:3306 ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
                ä»®æƒ³ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã®ç¨®é¡: #keyword: Docker network adapter
                    ç¨®é¡:  #// bridge, host, none
                        bridge: #keyword: Docker bridge mode network  #// ğŸŒŸ VM ã¨ãƒ›ã‚¹ãƒˆã®ãã‚Œãã‚Œã« ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ãŒã‚ã‚Šã¾ã™ã€‚
                            ï¼ˆæ³¨æ„ï¼‰iptables ã‚’ç·¨é›†ã—ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™  #search: Docker iptables
                        host: #keyword: Docker host mode network  #// VM ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ãƒ›ã‚¹ãƒˆã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã«è¨­å®šã—ã¾ã™
                        none: VM ã« ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ä»˜ã‘ã¾ã›ã‚“
            ã‚³ãƒãƒ³ãƒ‰:  #keyword: Docker network command  #glossary:
                docker network create:  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚Šã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä½œã£ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ‰€å±ã•ã›ã‚‹ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
                    æ³¨æ„: IP ã‚¢ãƒ‰ãƒ¬ã‚¹ ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚‰ãªãã¦ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
                    ã‚³ãƒãƒ³ãƒ‰, æ‰‹é †:  #focus: network1
                        ä»®æƒ³ã®ã‚µãƒ–ãƒãƒƒãƒˆ network1 ã‚’ä½œã‚Šã¾ã™:
                            #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                            -   docker network create  network1  #// --driver bridge ã‚’æŒ‡å®šã—ãŸã¨ãã¨åŒã˜ã§ã™
                            -   docker network create  --driver bridge  network1
                        ã‚³ãƒ³ãƒ†ãƒŠâ€•ã‚’ã‚µãƒ–ãƒãƒƒãƒˆ network1 ã«æ¥ç¶šã—ã¦èµ·å‹•ã—ã¾ã™:
                            docker run -d  --network=network1  --name __ContainerName__  __ImageName__
                        ç–é€šç¢ºèªã—ã¾ã™: |  #keyword: docker-compose network ç–é€šç¢ºèª
                            docker ps  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’èª¿ã¹ã¾ã™ã€‚ã¾ãŸã¯  #search: docker network inspect
                            docker exec -it __ClientContainer__ /bin/sh
                            ping __ServerContainer__
                            exit
                docker network ls: #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä¸€è¦§ã—ã¾ã™
                docker network inspect __NetworkName__: #keyword: docker network inspect  #// IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã‚’ä¸€è¦§ã—ã¾ã™
                    __NetworkName__: docker network ls ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã® NAME åˆ—ã€‚é€šå¸¸ bridge
                    å®Ÿè¡Œä¾‹: |
                        $ docker network ls
                            NETWORK ID     NAME                  DRIVER    SCOPE
                            da20734a8180   bridge                bridge    local
                            afde740d8a78   host                  host      local
                            7e747602cf73   __Project___default   bridge    local
                        $ docker network inspect __Project___default
                        [
                            {
                                "Name": "default",
                                "Containers": {
                                    "c2000000000000000000000000000000000000000000000000000000000": {
                                        "Name": "project_mysql_1",
                                        "EndpointID": "a8000000000000000000000000000000000000000000000000000000000",
                                        "MacAddress": "02:42:c0:a8:00:02",
                                        "IPv4Address": "192.168.0.2/20",
                Docker Remote API: #keyword:  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã§ docker ã‚³ãƒãƒ³ãƒ‰ã§ã§ãã‚‹ã“ã¨ï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®èµ·å‹•ãªã©ï¼‰ã‚’å®Ÿè¡Œã—ã¾ã™
                    æ‰‹é †:
                        ãƒãƒ¼ãƒˆã‚’é–‹ãã¾ã™:  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯é–‹ã„ã¦ã„ã¾ã›ã‚“ã€‚ä¿¡é ¼ã§ãã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã ã‘ã«åˆ¶é™ã—ã¾ã™
                            /etc/docker/daemon.json: |
                                "hosts": ["tcp://0.0.0.0:2375", "unix:///var/run/docker.sock"]
                            ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«:
                            TLS é€šä¿¡: æ¨å¥¨
                    æ¦‚å¿µ:
                        ãƒãƒ¼ãƒˆç•ªå·:
                            2375: éæš—å·åŒ–é€šä¿¡ç”¨
                            2376: TLS/SSL çµŒç”±ã®æš—å·åŒ–é€šä¿¡ç”¨
                        Docker Swarm ãƒ¢ãƒ¼ãƒ‰:  #// è¤‡æ•°ã®Dockerãƒ›ã‚¹ãƒˆãŒã‚¯ãƒ©ã‚¹ã‚¿ã‚’å½¢æˆã—ã€å˜ä¸€ã®ä»®æƒ³Dockerãƒ›ã‚¹ãƒˆã®ã‚ˆã†ã«å‹•ä½œã—ã¾ã™
            ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(Docker network):
                DNS:  #search: docker DNS trouble
                advertised listeners:  #search: Kafka advertised listeners
                conflicts with network:
                    ãƒ­ã‚°: |  #focus: conflicts with network
                        sudo systemctl start docker
                            Job for docker.service failed because the control process exited with error code.
                            See "systemctl status docker.service" and "journalctl -xe" for details.
                        sudo journalctl -u docker --no-pager | less
                            dockerd[2509]: failed to start daemon: Error initializing network controller: error creating default "bridge" network: cannot create network 094b3d55da40d765c1052c1676542d9931da00d07bbeb60449703525144801fd (docker0): conflicts with network 8b723c81a1f46ebab6468cb69be1d27183258052c5245105f5deb32cc488e83d (docker0): networks have same bridge name
                    å¯¾å‡¦: |  #// docker0 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å¼·åˆ¶å‰Šé™¤ã—ã¾ã™
                        sudo systemctl stop docker
                        sudo ip link set dev docker0 down  # Remove the conflicting bridge
                        sudo ip link delete docker0
                        sudo rm -rf /var/lib/docker/network/
                        sudo systemctl start docker
        ãƒ¦ãƒ¼ã‚¶ãƒ¼:  #keyword: Docker user  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ VM å†…ã§å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼
            #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‚’ä½¿ã†ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€Dockerfile å†…ã§ã¯ sudo ã‚’ä½¿ã†ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™:
                Dockerfile:  #search: Dockerfile sudo
                    USER user1
            sudo ã‚’ä½¿ã„ãŸã„ã¨ã:  #keyword: Dockerfile sudo  #// Dockerfile ã® RUN ã‚„ CMD ã« sudo ã‚’æŒ‡å®šã—ãŸã„ã¨ã
                _: USER ã‚³ãƒãƒ³ãƒ‰ã®å‰ã«ï¼ˆroot ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ï¼‰sudo ã‚’ä½¿ãŠã†ã¨ã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ sudo ã‚’ä½¿ã‚ãšã«å®Ÿè¡Œã—ã¾ã™ã€‚
                    sudo ã‚’ä½¿ã†ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚sudo ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã—ã€å…¥åŠ›ä¸è¦ã«ã™ã‚‹ã®ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡ŒãŒã‚ã‚Šã¾ã™
                Dockerfile:
                    FROM centos:7
                    ARG USER=user1
                    ARG GROUP=user1
                    ARG UID=1000
                    ARG GID=1000
                    RUN \
                        yum -y update  && \
                        yum install -y  __Package__  && \
                        yum clean all
                    RUN \
                        groupadd ${USER} --gid ${GID}  && \
                        useradd  ${GROUP} --uid ${UID} --gid ${GID}
                    USER user1
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Docker user
        ã‚µãƒ¼ãƒ“ã‚¹:
            systemctl ã‚’ä½¿ã„ãŸã„ã¨ã:
    ãƒ­ã‚°: #search: docker logs
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(Docker):  #keyword: Docker troubleshooting
        - #// ä»Šã¾ã§ docker ãŒå‹•ã„ã¦ã„ãŸã®ã« systemctl start docker ã§å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã£ãŸ
            æ‰‹é †: sudo systemctl start docker
            ãƒ­ã‚°: |
                Active: fail
            å¯¾å‡¦:  #ref: https://stackoverflow.com/questions/45798076/how-to-clean-up-docker
                #keyword: /var/lib/docker
                Docker ã®ã‚¤ãƒ¡ãƒ¼ã‚¸,ãƒœãƒªãƒ¥ãƒ¼ãƒ ãªã©ã™ã¹ã¦ã‚’å‰Šé™¤ã—ã¾ã™
                sudo systemctl stop docker
                sudo rm -rf /var/lib/docker
                sudo mkdir  /var/lib/docker
                sudo systemctl start docker
        - #// ãƒ¡ãƒ¢ãƒªãƒ¼ä¸è¶³  #search: Docker memory size
        - #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ãƒ›ã‚¹ãƒˆåã‚’åå‰è§£æ±ºãŒã§ããªã„  #keyword: docker DNS trouble,  docker DNS container curl network host proxy server trouble not found host name
            èª¿æŸ»æ‰‹é †:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                    docker exec -it  __ContainerName__  bash
                DNS ã‚„ proxy ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’é¸ã³ã¾ã™:  #keyword: name resolver commands
                    curl:
                    nslookup:
                    dig:
                    ping:
                ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã® URL ãŒåå‰è§£æ±ºã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        curl https://gitlab.com/
                    è§£æ±ºã§ããªã„å ´åˆ:
                        ã‚¨ãƒ©ãƒ¼ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ã®ä¾‹: |
                            curl: (5) Could not resolve proxy: __ProxyFQDN__
                            #// ã“ã‚Œä»¥å¤–ã®å ´åˆã€ãƒ—ãƒ­ã‚­ã‚·ã‚„ DNS ãŒå•é¡Œã§ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
                        å‡¦ç½®:
                            #search: IP address https_proxy
                ç¤¾å†…ã® URL ãŒåå‰è§£æ±ºã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™:
                    curl https://______/
                https_proxy ç’°å¢ƒå¤‰æ•° ã®èª¿æŸ»:
                    https_proxy ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’èª¿ã¹ã¾ã™:
                        echo  $https_proxy
                    å…¥ã£ã¦ã„ãªã„å ´åˆ:
                        #search: Docker container proxy
                    FQDN ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆ:
                        https_proxy ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¤‰ãˆã¾ã™:
                            #search: IP address https_proxy
                        ã‚µãƒ¼ãƒ“ã‚¹å›ºæœ‰ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¿½åŠ ã—ã¦ã¿ã‚‹:
                            Docker:  #search: docker.service.d proxy
                            GitLab ãƒ©ãƒ³ãƒŠãƒ¼: #search: install GitLab runner
                ãƒ—ãƒ­ã‚­ã‚· ã‚µãƒ¼ãƒãƒ¼ ã®åå‰è§£æ±ºãŒã§ããªã„å ´åˆ: #keyword: resolve proxy server name Docker
                    åŸºæœ¬:
                        /etc/hosts ã«è¿½åŠ :
                            10.146.100.12 proxy.example.com
                    Nomad Job ãƒ•ã‚¡ã‚¤ãƒ«:
                        config {
                            dns_servers = ["10.146.100.10", "10.146.100.11"]
                            extra_hosts = ["proxy.example.com:10.146.100.12"]
            è£œè¶³:
                DNS ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                    ã‚³ãƒãƒ³ãƒ‰: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ cat /etc/resolv.conf
                    å‡ºåŠ›ä¾‹:
                        search ds.____.jp
                        nameserver 127.0.0.11
                        options ndots:0
            é–¢é€£:  #search: Docker proxy
        - #// åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’æŒ‡ã™ãƒ›ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€‚ãƒ›ã‚¹ãƒˆåãŒ Docker ã® DNS ã§è§£æ±ºã§ããªã„
            æ‰‹é †: docker-compose up ã—ã¦èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ curl __Host__ ãªã©
            ã‚¨ãƒ©ãƒ¼: |
                åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’æŒ‡ã™ãƒ›ã‚¹ãƒˆåãŒ Docker ã® DNS ã§è§£æ±ºã§ããªã„
            å¯¾å‡¦:
                https_proxy ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¤‰ãˆã¾ã™:  #keyword: IP address https_proxy
                    ã‚µãƒ³ãƒ—ãƒ«:
                        https_proxy=http://10.131.100.100:8080/
                    èª¿ã¹æ–¹:
                        ï¼ˆDNS ãŒæ­£å¸¸ãªã‚·ã‚§ãƒ«ã§ï¼‰
                        nslookup __ProxyFQDN__  #search: name resolver commands
                    è§£æ±ºã—ãŸå ´åˆ:
                        #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                        /etc/resolv.conf ã‚’æ­£ã—ãè¨­å®šã—ã¾ã™:
                        IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãã®ã¾ã¾ä½¿ã„ã€ã™ãã«æ›´æ–°ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                docker-compose.yml ã®ã‚µãƒ¼ãƒ“ã‚¹åã¨åˆã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™: |
                    services:
                        mysql:
                æ¥ç¶šå…ˆã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    docker ps -a ã‚’ä½¿ã†å ´åˆ:
                        ã‚³ãƒãƒ³ãƒ‰: docker ps -a  #search: docker ps
                        å‡ºåŠ›ã®ã†ã¡ç¢ºèªã™ã‚‹åˆ—: STATUS åˆ—  #// Exit ã«ãªã£ã¦ã„ãªã„ã“ã¨
                            #// Exit ã«ãªã£ã¦ã„ãŸã‚‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã§èµ·å‹•ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™
                            #search: docker-compose run
                    docker network inspect ã‚’ä½¿ã†å ´åˆ:
                        ã‚³ãƒãƒ³ãƒ‰: docker network inspect  __Project___default
                        å‡ºåŠ›ã®ã†ã¡ç¢ºèªã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: Containers ã®ä¸­ã®å¯¾è±¡ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã“ã¨
                    docker-compose config ã‚’ä½¿ã†å ´åˆ:  #// éæ¨å¥¨
                        cd __FolderHasDockerComposeYaml__
                        docker-compose config --service  #// ã‚µãƒ¼ãƒ“ã‚¹åãŒä¸€è¦§ã•ã‚Œã‚‹ã®ã§ã€ãã®ä¸€è¦§ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã€‚
                            #// ãŸã ã— Exit ã«ãªã£ã¦ã„ã¦ã‚‚è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã„ã¾ã™
                æ¥ç¶šå…ˆã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒ DNS ã§åå‰è§£æ±ºã§ãã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™:
                    busybox ãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®å ´åˆ:
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            docker-compose run --rm  __ContainerName__  sh  ãªã©  #search: docker-compose run
                        nc ã‚³ãƒãƒ³ãƒ‰ã§ DNS ã«å•ã„åˆã‚ã›ã—ã¾ã™:
                            #search: Linux nc
        - #// ã™ãã«çµ‚äº†ã—ã¦ã—ã¾ã†  #keyword: Docker exited
            æ‰‹é †: docker run -d  --name __ContainerName__  __ImageName__
            ã‚¨ãƒ©ãƒ¼: |
                user1@pc01:~/docker_centos7 $ docker ps -a
                CONTAINER ID   IMAGE          COMMAND       CREATED         STATUS                     PORTS     NAMES
                7cebfcf9a0d7   centos7_only   "/bin/bash"   5 seconds ago   Exited (0) 5 seconds ago             centos7_only-1
            å¯¾å‡¦:
                OS ã‚¤ãƒ¡ãƒ¼ã‚¸ã ã‘ã®å ´åˆ:
                    ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã§ã‚·ã‚§ãƒ«ã‚’èµ·å‹•ã—ã¦ãã ã•ã„ã€‚ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ bash ã‚’èµ·å‹•ã¦ã‚‚ã™ãã«çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚
                    #search: Docker CentOS7
                ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®å ´åˆ:  #// ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã™ã‚‹å ´åˆ
                    sleep infinity
                    ã¾ãŸã¯ã€å¾…ã¡ãŒã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¦ãã ã•ã„
        - #// ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„  #keyword: no docker-compose logs
            æ‰‹é †: docker-compose logs -t | less
            ã‚¨ãƒ©ãƒ¼: |
                ï¼ˆãªã—ï¼‰
            å¯¾å‡¦A:
                ãƒ¡ãƒ¢ãƒªãƒ¼ä¸è¶³ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
                    #search: Exited (137)
            å¯¾å‡¦B:
                çµ‚äº†ã‚³ãƒ¼ãƒ‰ã§ã‚°ã‚°ã‚Šã¾ã™
                    docker ps -a
                        Exited (137)
        - #// Dockerfile ã®ãƒ‡ãƒãƒƒã‚°  #search: debug Dockerfile
        - ä»¥ä¸‹ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚‹ã‚‚ã®
        - #// Failed to pull 'docker login': denied
            æ‰‹é †: Dockerfile FROM ãªã©ã«æŒ‡å®šã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‡¦ç†ã™ã‚‹ã¨ã
            ãƒ­ã‚°: |
                Driver Failure: Failed to pull `service1:latest`: Error response from daemon: pull access denied for service1,
                repository does not exist or may require 'docker login': denied: requested access to the resource is denied
            å¯¾å‡¦:
                FROM ã«ãƒ›ã‚¹ãƒˆã‚’æŒ‡å®šã—ã¾ã™  #search: Dockerfile FROM
        - #// failed to solve: failed to compute cache key: failed to calculate checksum of ref failed to walk
            æ‰‹é †: docker build
            ãƒ­ã‚°: |
                ERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref __Hash1__::__Hash2__: failed to walk /var/lib/docker/tmp/buildkit-mount3575306905/home/user1/common-repo: lstat /var/lib/docker/tmp/buildkit-mount3575306905/home/user1/common-repo: no such file or directory
            å¯¾å‡¦:
                build context ã®å¤–å´ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“
                #search: Docker build context
        - #// docker: Error response from daemon: Conflict
            æ‰‹é †: docker run ã‚³ãƒãƒ³ãƒ‰
            ãƒ­ã‚°: |
                docker: Error response from daemon: Conflict. The container name "/__ContainerName__" is already in use by container "__ContainerID__". You have to remove (or rename) that container to be able to reuse that name.
            å¯¾å‡¦:
                åœæ­¢ä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠâ€•ã‚’çµ‚äº†ã•ã›ã‚‹ãªã©ã—ã¾ã™  #search: docker ps -a
        - #// docker: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock
            æ‰‹é †: docker ã‚³ãƒãƒ³ãƒ‰
            ãƒ­ã‚°: |
                docker: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Head "http://%2Fvar%2Frun%2Fdocker.sock/_ping": dial unix /var/run/docker.sock: connect: permission denied
            å¯¾å‡¦:
                root (sudo) æ¨©é™ãŒå¿…è¦ã§ã™  #search: sudo docker 
        - #// the input device is not a TTY
            æ‰‹é †: docker run -t ã¾ãŸã¯ docker exec -it
            ã‚¨ãƒ©ãƒ¼: |
                the input device is not a TTY
            å¯¾å‡¦:
                -t ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¤–ã—ã¦ãã ã•ã„  #search: docker t option
            åŸå› :
                docker ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚·ã‚§ãƒ«ãŒã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’æŒã£ã¦ã„ãªã„ãŸã‚
        - #// System has not been booted with systemd as init system (PID 1). Can't operate.  #keyword: Docker init system (PID 1)
            æ‰‹é †: Docker outside of Docker (DooD) ç’°å¢ƒã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã§ã€systemctl
            ãƒ­ã‚°: |
                System has not been booted with systemd as init system (PID 1). Can't operate.
                Failed to connect to bus: Host is down
            #â†“ systemd ã®ä»£ã‚ã‚Šã« Docker ã‚’ä½¿ã„ã¾ã™
            å¯¾å‡¦A:
                systemctl (systemd) ã® unit ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã‚ãªã„ã§ã€Dockefile ã«ç§»æ¤ã—ã¾ã™ã€‚
                RPM ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ã€Dockefile ã«æ›¸ãã¾ã™ã€‚
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ unit ãƒ•ã‚¡ã‚¤ãƒ«ãŒé…ç½®ã•ã‚Œã¾ã™ãŒä½¿ã„ã¾ã›ã‚“ã€‚
                unit ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚è€ƒã« Dockerfile ã«ç§»æ¤ã—ã¾ã™ã€‚
            å¯¾å‡¦B:  #// ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã™ã‚‹å ´åˆã‚„ã€systemctl ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ
                docker exec ã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™: |
                    ContainerID="$( docker ps | grep __Pattern__ | awk '{print $1}' )"
                    docker exec "${ContainerID}"  __Command__ __Parameters__
                å€™è£œ:
                    - docker exec  #// ãƒ­ã‚°ã¯è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“  #search: Docker exec background
                    - ã‚¸ãƒ§ãƒ–  #// ãƒ­ã‚°ã¯è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“ã€‚ç¾åœ¨ã®ã‚·ã‚§ãƒ«ã®ç’°å¢ƒå¤‰æ•°ã‚’å—ã‘ç¶™ã„ã§ã—ã¾ã„ã¾ã™  #search: Linux job log
                    - supervisord  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã§ã™
                    - runit
            å¯¾å‡¦C:  #// ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆ
                ä»–ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™  #search: Docker DooD localhost
            åŸå› :
                ã‚³ãƒ³ãƒ†ãƒŠã® PID 1 ãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦ systemd ãŒå‹•ã„ã¦ãŠã‚‰ãšã€D-Bus çµŒç”±ã§ systemd ã«æ¥ç¶šã§ããªã„ãŸã‚ã«èµ·ã“ã‚‹ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚
                Docker ã‚³ãƒ³ãƒ†ãƒŠã¯ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã™ã‚‹ç’°å¢ƒã€ã§ã‚ã‚Šã€VM ã®ã‚ˆã†ãªãƒ•ãƒ«ãƒ–ãƒ­ãƒ¼ãƒ³ã® init ã‚·ã‚¹ãƒ†ãƒ ã¯é€šå¸¸èµ·å‹•ã—ã¾ã›ã‚“
        - #// permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.44/containers/json?all=1&filters=%7B%22label%22%3A%7B%22com.docker.compose.config-hash%22%3Atrue%2C%22com.docker.compose.project%3Dproj%22%3Atrue%7D%7D": dial unix /var/run/docker.sock: connect: permission denied
            æ‰‹é †: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ docker ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.44/containers/json?all=1&filters=%7B%22label%22%3A%7B%22com.docker.compose.config-hash%22%3Atrue%2C%22com.docker.compose.project%3Dproj%22%3Atrue%7D%7D": dial unix /var/run/docker.sock: connect: permission denied
            å¯¾å‡¦:
                Docker ãƒ›ã‚¹ãƒˆã«ã‚‚ github-runner ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‚’ä½œã‚Šã¾ã™:
                    Dockerfile:
                        RUN  useradd  "github-runner"
                ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã§ docker ã‚³ãƒãƒ³ãƒ‰ ã‚’å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® UID ã¨ docker ã‚°ãƒ«ãƒ¼ãƒ—ã® GID ã‚’ãƒ›ã‚¹ãƒˆã¨åˆã‚ã›ã¾ã™:
                    Dockerfile:
                        RUN  useradd   "github-runner"  --uid __DockerHostUID__
                        RUN  groupadd  "docker"  --gid __DockerHostDockerGroupGID__
                docker ã‚³ãƒãƒ³ãƒ‰ ã‚’å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ docker ã‚°ãƒ«ãƒ¼ãƒ— ã«æ‰€å±ã•ã›ã¾ã™:
                    Dockerfile:
                        gpasswd --add "github-runner"  "docker"
                Docker ãƒ›ã‚¹ãƒˆã® /var/run/docker.sock ã® Permission ã‚’ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã§ docker ã‚³ãƒãƒ³ãƒ‰ ã‚’å®Ÿè¡Œã™ã‚‹ UID ã¨ GID ã«åˆã‚ã›ã¾ã™:
                    Docker ãƒ›ã‚¹ãƒˆ:
                        sudo chown github-runner:docker /var/run/docker.sock
        - #// GitHub runner: level=warning msg="The \"__EnvironmentVariable__\" variable is not set. Defaulting to a blank string."
            æ‰‹é †: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ docker-compose up ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                level=warning msg="The \"PWD\" variable is not set. Defaulting to a blank string."
            å¯¾å‡¦:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ sudo ã‚’ä»˜ã‘ãšã« docker-compose ã‚³ãƒãƒ³ãƒ‰ã‚„ docker ã‚³ãƒãƒ³ãƒ‰ ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™
                #search: sudo docker
        - #// docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.
            æ‰‹é †: docker run 
            ã‚¨ãƒ©ãƒ¼: |  #keyword: Is the docker daemon running?.
                docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.
            å¯¾å‡¦A:
                Docker ã‚µãƒ¼ãƒ“ã‚¹ ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    systemctl status docker
            å¯¾å‡¦B:
                Docker ãŒä½¿ãˆã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    #search: docker hello-world
            å¯¾å‡¦C:
                DooD ç’°å¢ƒã«ãªã‚‹ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã™:  #// ã“ã®è¨­å®šã‚’ã™ã‚‹ã¨ DooD ç’°å¢ƒ ã«ãªã‚Šã¾ã™
                    -v /var/run/docker.sock:/var/run/docker.sock
                    #// Nomad ã®å ´åˆ  #search: Nomad DooD
            å¯¾å‡¦D:
                Docker CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    #search: Docker for Linux
                    sudo yum install -y  docker-ce-cli
                ï¼ˆå¿…è¦ãªã‚‰ï¼‰docker-compose ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
            åŸå› :
                Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã«æ¥ç¶šã§ããªã„ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                ã“ã‚Œã¯ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã¸ã®æ¥ç¶šã‚’å¯èƒ½ã«ã™ã‚‹/var/run/docker.sockã‚½ã‚±ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã—ã¦ã„ãªã„ã‹ã€
                é©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã«ç™ºç”Ÿã™ã‚‹å…¸å‹çš„ãªã‚¨ãƒ©ãƒ¼ã§ã™ã€‚
        - #// Stderr: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
            æ‰‹é †: vagrant up --provider=docker
            ã‚¨ãƒ©ãƒ¼: |
                Command: ["docker", "version", {:notify=>[:stdout, :stderr]}]
                Stderr: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
            å¯¾å‡¦:
                Windows 10 ã®å ´åˆ: service-start 
        - #// docker run Error pulling image denied: access forbidden
            æ‰‹é †: docker run ã‚„ docker pull
            ã‚¨ãƒ©ãƒ¼: |
                Error pulling image __URL__/__ImaneName__:__Tag__ - 500 Server Error for http+docker://localhost/v1.43/images/create?tag=
                __Tag__&fromImage=__URL__%2F__Image__: Internal Server Error (\"Head \"https://__Host__/v2/__Path__/__ImageName__/manifests/__Tag__\": ^\")"}
            å¯¾å‡¦:
                ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç·©ã‚ã¾ã™:
                    Container registry ã‚’ Everyone With Access ã«ã—ã¾ã™  #search: GitLab Docker permissions
        - #// Error response from daemon: error while removing network: network proj_default id __Hash__ has active endpoints
            æ‰‹é †: docker network rm ã‚„ docker-compose down
            ã‚¨ãƒ©ãƒ¼: |
                Error response from daemon: error while removing network: network proj_default id __Hash__ has active endpoints
            å¯¾å‡¦:
                ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ã¤ã‹ã‚“ã§ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™ã€‚
                #search: delete all docker container
        - #// Failed to get D-Bus connection: Operation not permitted
            æ‰‹é †: systemctl start  mysqld.service
            ã‚¨ãƒ©ãƒ¼: |
                Failed to get D-Bus connection: Operation not permitted
            å¯¾å‡¦:
                systemd ã‚’ä½¿ã‚ãšã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Docker systemctl
        - #// bash: sudo: command not found
            æ‰‹é †: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã® bash ã§ sudo __Command__
            ã‚¨ãƒ©ãƒ¼: |
                bash: sudo: command not found
            å¯¾å‡¦:
                #search: Dockerfile sudo
        - #// æ¨™æº–å…¥åŠ›ã‚’ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ the input device is not a TTY
            æ‰‹é †: docker exec -it __Container__ __Command__ < __InputFilePath__
            ã‚¨ãƒ©ãƒ¼: |
                the input device is not a TTY
            å¯¾å‡¦:
                -it ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ä¿®æ­£ã—ã¾ã™  #search: docker t option
        - #// manifest unknown
            æ‰‹é †:
                docker image tag ubuntu localhost:5000/myfirstimage
                docker push localhost:5000/myfirstimage
            ã‚¨ãƒ©ãƒ¼: |
                ERRO[0107] response completed with error  err.code="manifest unknown" err.detail="unknown tag=latest" 
            å¯¾å‡¦:
                docker image tag ubuntu localhost:5000/myfirstimage:latest
                docker push localhost:5000/myfirstimage:latest
        - #// Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock:
            æ‰‹é †: docker ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock:
                Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/____": dial unix /var/run/docker.sock: connect: permission denied
            å¯¾å‡¦:
                sudo ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã¾ã™ã€‚
                sudo ã‚’ä»˜ã‘ãšã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯  #search: docker sudo
        - #// Error response from daemon: Get "https://____/v2/": Service Unavailable
            æ‰‹é †: docker ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                Error response from daemon: Get "https://____/v2/": Service Unavailable
            å¯¾å‡¦:
                ã‚µãƒ¼ãƒãƒ¼ã® URL ãŒæ­£ã—ã„ã“ã¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šã‚’ã—ã¾ã™:
        - #// EXIT(137)
            æ‰‹é †: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ä¸­ãªã©
            ã‚¨ãƒ©ãƒ¼: |
                EXIT(137)
            å¯¾å‡¦:
                ãƒ›ã‚¹ãƒˆã®ç©ºããƒ¡ãƒ¢ãƒªãƒ¼ã‚’å¢—ã‚„ã—ã¾ã™
        - #// C%!(EXTRA string=is not a valid Windows path)
            æ‰‹é †: docker run
            ã‚¨ãƒ©ãƒ¼: |
                docker: Error response from daemon: .\data;C%!(EXTRA string=is not a valid Windows path).
            å¯¾å‡¦:
                æ‰‹é †: -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®:ã‚ˆã‚Šå·¦å´ã‚’ãƒ•ãƒ«ãƒ‘ã‚¹ã§æŒ‡å®šã—ã¦ãã ã•ã„
                å¤‰æ›´å‰: -v ./data:/fluentd/log
                å¤‰æ›´å¾Œ: -v ${HOME}/Desktop/fluentd_docker/data:/fluentd/log
        - #// Error response from daemon: Container ____ is not running
            æ‰‹é †: docker exec
            ã‚¨ãƒ©ãƒ¼: |
                Error response from daemon: Container ____ is not running
            å¯¾å‡¦:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å†èµ·å‹•ã—ã¾ã™
            åŸå› :
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¯æ®‹ã£ã¦ã„ã¾ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®å®Ÿè¡ŒãŒçµ‚äº†ã—ã¦ã„ã‚‹ã®ã§ docker exec ã‚’å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚
        - #// mount destination \Program Files\Git\____ not absolute: unknown
            æ‰‹é †: docker run
            ã‚¨ãƒ©ãƒ¼: |
                docker: Error response from daemon: OCI runtime create failed: invalid mount 
                {Destination:\Program Files\Git\fluentd\log Type:bind Source:/run/desktop/mnt/host/c/Users/____/Desktop/fluentd_docker/data;
                C Options:[rbind rprivate]}: mount destination \Program Files\Git\fluentd\log not absolute: unknown.
            å¯¾å‡¦:
                PowerShell ã‚’ä½¿ã£ã¦ã¿ã¦ãã ã•ã„
        - #// Found orphan containers
            æ‰‹é †: docker-compose up
            ã‚¨ãƒ©ãƒ¼: |
                WARNING: Found orphan containers (__ContainerName__, __ContainerName__, ...) for this project.
                If you removed or renamed this service in your compose file,
                you can run this command with the --remove-orphans flag to clean it up.
            å¯¾å‡¦:
                docker-compose down --remove-orphans  #// å­¤ç«‹ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼ˆ__ContainerName__ï¼‰ã‚’å‰Šé™¤ï¼ˆçµ‚äº†ï¼‰ã—ã¾ã™
        - #// java.net.ConnectException: Connection refused  #keyword: Java Connection refused
            æ‰‹é †: ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
            ã‚¨ãƒ©ãƒ¼: |
                Exception in thread "main" java.net.ConnectException: Connection refused
            å¯¾å‡¦:
                docker-compose.yml :
                    environment:
                        - "ES_JAVA_OPTS=-Dhttp.proxyHost=____ -Dhttp.proxyPort=____ -Dhttps.proxyHost=____ -Dhttps.proxyPort=____"
                bash:
                    - docker-compose down
                    - docker-compose up -d
                ãã®ä»–ã®å¯¾ç­–:  #search: Connection refused
        - #// max virtual memory areas vm.max_map_count is too low  #keyword: vm.max_map_count
            æ‰‹é †: docker-compose up
            ã‚¨ãƒ©ãƒ¼: |
                max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]
            å¯¾å‡¦:
                Windows ã®å ´åˆ:  #// Windows ã§ docker-compose up ã‚’å®Ÿè¡Œã—ãŸå ´åˆ  #keyword: Docker for Windows sysctl vm.max_map_count
                    # ã‚·ã‚§ãƒ«
                    - wsl -d docker-desktop   #// Docker ã‚µãƒ¼ãƒ“ã‚¹ã® VM ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™
                    - sysctl -w vm.max_map_count=262144
                    - exit  #// Docker ã‚µãƒ¼ãƒ“ã‚¹ã® VM ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™
                Linux ã®å ´åˆ:  #// Linux ã§ docker-compose up ã‚’å®Ÿè¡Œã—ãŸå ´åˆ
                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        Rocky8: sudo dnf install -y  procps-ng
                    æ¬¡å›èµ·å‹•æ™‚ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™:
                        sudo nano  /etc/sysctl.conf : |
                            vm.max_map_count=262144
                    ç¾åœ¨ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™:  #// å³æ™‚åæ˜ ã•ã‚Œã¾ã™
                        sudo sysctl -w vm.max_map_count=262144
                    ç¾åœ¨ã®è¨­å®šå€¤ã‚’è¡¨ç¤ºã—ã¾ã™:
                        cat /proc/sys/vm/max_map_count
                    æ¬¡å›èµ·å‹•æ™‚ã®è¨­å®šå€¤ã‚’è¡¨ç¤ºã—ã¾ã™:
                        cat /etc/sysctl.conf
                WSL2 Linux + Docker ã®å ´åˆ:
                    ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã® vm.max_map_count ã‚‚ã€Docker ãƒ›ã‚¹ãƒˆã§ã‚ã‚‹ WSL2 Linux ã®è¨­å®šãŒå³æ™‚ã«æ¡ç”¨ã•ã‚Œã¾ã™
                é–¢é€£ >> WSL2 Linux + Docker ã®ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚º:
                    #search: Docker memory size
            å…¬å¼æƒ…å ±:
                #ref: https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#_set_vm_max_map_count_to_at_least_262144
Docker compose: #keyword: Docker-compose,  docker compose  #ref: ${programming}/OS/VMWare.svg#DockerCompose
    æ¦‚è¦:
        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å: #keyword: Docker container name,  container  #search: docker ps container name
            æ§‹é€ :
                version 2 ä»¥é™: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå - ã‚µãƒ¼ãƒ“ã‚¹å - æ•°å­—
                version 1 ä»¥å‰: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå _ ã‚µãƒ¼ãƒ“ã‚¹å _ æ•°å­—
        ã‚µãƒ¼ãƒ“ã‚¹å: #keyword: Docker service name  #// docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã® services ã‚­ãƒ¼ã®ç›´ä¸‹ã®ã‚­ãƒ¼
        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: #keyword: docker compose project name
            compose.yaml ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å
            ã¾ãŸã¯ COMPOSE_PROJECT_NAME ç’°å¢ƒå¤‰æ•°
            ã¾ãŸã¯ compose.yaml ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚ã‚‹ .env ãƒ•ã‚¡ã‚¤ãƒ«ã® COMPOSE_PROJECT_NAME ç’°å¢ƒå¤‰æ•°
            ç’°å¢ƒå¤‰æ•°ãŒå„ªå…ˆã•ã‚Œã¾ã™
    æ‰‹é †: #keyword: start Docker-compose  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
            CentOS:
                #ref: https://github.com/docker/compose/releases ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒªãƒ³ã‚¯å…ˆ URL ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®å‰ã® v ã®æœ‰ç„¡ã«æ³¨æ„
                sudo curl -L "https://github.com/docker/compose/releases/download/v2.24.7/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
                sudo chmod +x /usr/local/bin/docker-compose
                docker-compose --version
            Windows: Docker Desktop ã«å…¥ã£ã¦ã„ã¾ã™
        docker-compose ã‚’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã‚¢ãƒƒãƒ— ã—ã¾ã™:  #search: upgrade docker-compose
        ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·:  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·
            ã‚³ãƒãƒ³ãƒ‰: docker-compose --version
            bashlib: GetDockerComposeMajorVersion
        Docker compose ã®ã‚µãƒ³ãƒ—ãƒ«:  #// ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦ ElasticSearch ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™
            è¨­å®š: #settings:
                __ImageURL__: docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                __LocalAndHostPort__: 9200:9200
                __EnvNameAndValue__:  discovery.type=single-node
            Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                #search: Docker install
            ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:
            __Project__/docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:  #search: docker-compose.yml
                ã‚µãƒ³ãƒ—ãƒ«: |
                    version: '2.2'
                    services:
                        __HostName__:
                            image: docker.elastic.co/elasticsearch/elasticsearch:7.13.3  #template: __ImageURL__
                            environment:
                                -   discovery.type=single-node  #template: __EnvNameAndValue__
                            ports:
                                -   9200:9200  #template: __LocalAndHostPort__
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:  #copy: docker-compose up
                ã‚«ãƒ¬ãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã«ç§»å‹•ã—ã¾ã™:
                    - cd  __Project__  #// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã¯ docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§ã™
                ï¼ˆï¼’å›ç›®ä»¥é™ï¼‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™:
                    - docker-compose down   #// ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®å†èµ·å‹•ã«ã¯ãªã‚Šã¾ã™ã€‚ã‚‚ã—ä¸è¦ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã™
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:  #// å¯¾è±¡ã¯ docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼
                    - docker-compose up --build -d
                        #// --build ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã«ã—ãŸãŒã£ã¦æš—é»™çš„ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™
                        #// -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã§ã¯ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                å‚è€ƒ:  #search: docker-compose up
            ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™:  #// ElasticSearch ã® API ã‚’å‘¼ã³å‡ºã—ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:
                    curl -X GET "localhost:9200/_cat/nodes?v=true&pretty"
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆçµ‚äº†ã—ã¾ã™ï¼‰:  #search: docker-compose down
        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:  #search: docker-compose up
        ãƒ­ã‚°ã‚¤ãƒ³:  #keyword: docker-compose login
            #snip:   docker-compose run -it --rm  __DockerImageName__  bash
            é–¢é€£:  #search: Docker login
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®èµ·å‹•ã«æˆåŠŸã—ã¦ã„ã‚‹å ´åˆ:  #// docker-compose ã‚’ä½¿ã‚ãªã„æ–¹æ³•ã¨åŒã˜ã§ã™
                docker exec -it  __NewContainerName__  bash
            ã‚³ãƒ³ãƒ†ãƒŠâ€•ãŒèµ·å‹•ã—ã¦ã„ãªã„å ´åˆ:
                docker-compose run -it --rm  __DockerImageName__  bash
        ä¾å­˜é–¢ä¿‚:  #keyword: Docker-compose ä¾å­˜é–¢ä¿‚
            ä¸¦åˆ—ã—ã¦èµ·å‹•ã™ã‚‹å ´åˆ:
                depends_on: #keyword: Docker-compose  depends_on  #ref: https://docs.docker.com/compose/compose-file/compose-file-v3/#depends_on
                    #ref: https://github.com/docker/compose/issues/5007#issuecomment-335815508
                    compose.yaml: |
                        services:
                            __Service__:
                                depends_on:
                                    - __ComponentService__
            é †ç•ªã«èµ·å‹•ã™ã‚‹å ´åˆ:
                #search: wait-for-it.sh
        å¾…ã¡: #keyword: Docker-compose wait-for-it  #// ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã™ã‚‹ã¾ã§å¾…ã¡ã¾ã™
            èµ·å‹•å¾…ã¡:
                ãƒ•ã‚¡ã‚¤ãƒ« ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 3 ä»¥ä¸Š:
                    wait-for-it.sh:  #keyword:
                        æ¦‚è¦: ãƒãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ã©ã†ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã€ä½¿ç”¨å¯èƒ½ãªå ´åˆã¯ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:
                            vishnubob ç‰ˆ: #ref: https://github.com/vishnubob/wait-for-it
                            curlimage å¯¾å¿œç‰ˆ: #ref: ${GitHub}/Snippets/for-bash/wait-for-it/wait-for-it.sh
                                #ref: https://hub.docker.com/r/curlimages/curl
                                #// ãŸã ã—ã€124 è¡Œç›®ã® else ã¨ eval WAITFORIT_CLI=("$@") ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«:  #// docker-compose ã®ä¸­ã§ä½¿ã†å ´åˆ
                            ç·¨é›†å‰: |
                                depends_on:
                                    - "db"
                                command: ["python", "app.py"]
                            ç·¨é›†å¾Œ: |
                                depends_on:
                                    - "db"
                                entrypoint: "/scripts/wait-for-it.sh  elastic:9200 --"
                                command: ["python", "app.py"]
                        #ref: https://docs.docker.com/compose/startup-order/
                        é–¢é€£ >> nc:  #search: Linux nc
                    #ref: https://stackoverflow.com/questions/71060072/docker-compose-depends-on-with-condition-invalid-type-should-be-an-array
                ãƒ•ã‚¡ã‚¤ãƒ« ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2:  #// ãƒ•ã‚¡ã‚¤ãƒ« ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 3 æœªæº€
                    depends_on >> condition: #keyword: Docker-compose  depends_on  condition
                        ã‚µãƒ³ãƒ—ãƒ«:
                            version: '2.1'
                            depends_on:
                                db:
                                    condition: service_healthy  #// ãƒ•ã‚¡ã‚¤ãƒ« ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 3 ä»¥é™ã®å ´åˆã¯  #search: wait-for-it.sh
                                redis:
                                    condition: service_started
                    #ref: https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y
                é–¢é€£ >> Dockerfile ã® HEALTHCHECK:  #search: Dockerfile HEALTHCHECK
            çµ‚äº†å¾…ã¡:
                --exit-code-from,  --abort-on-container-exit:
                    docker-compose up  --exit-code-from flyway
                    docker-compose up  --exit-code-from flyway  --abort-on-container-exit
                        flyway (docker-compose.yml ã«æ›¸ã‹ã‚ŒãŸ service) ãŒçµ‚äº†ã™ã‚‹ã¾ã§å¾…ã¡ã€çµ‚äº†ã—ãŸã‚‰ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚‚çµ‚äº†ã—ã¾ã™ã€‚
    ç’°å¢ƒå¤‰æ•°: __Project__/.env  #ref: ${programming}/OS/VMWare.svg#DockerCompose-env
    æ§‹æˆ:
        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:  #keyword: Docker-compose project
            æ¦‚è¦:
                - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç•°ãªã‚‹ã¨:
                    - åˆ¥ã€…ã« docker-compose up/down ãŒã§ãã¾ã™ 
                    - åŒã˜ compose.yaml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦ã‚‚ã€åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒèµ·å‹•ã—ã¾ã™ã€‚ãƒœãƒªãƒ¥ãƒ¼ãƒ ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚‚åŒæ§˜ã§ã™
                - docker ã‚³ãƒãƒ³ãƒ‰ã«ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚å¿µã¯ã‚ã‚Šã¾ã›ã‚“
            æ‰‹é †:
                è¤‡æ•°ã® compose.yaml:  #// è¤‡æ•°ã® compose.yaml ã«æ›¸ã‹ã‚ŒãŸã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™
                    docker compose -f docker-compose.yaml -f docker-compose2.yaml up
                ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã™ã‚‹:
                    docker-compose up:
                        docker-compose -p myproject up
        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #search: docker-compose servers
    compose.yaml ãƒ•ã‚¡ã‚¤ãƒ«:  #keyword: compose.yaml,  docker-compose.yml
        å…¬å¼:
            #ref: https://docs.docker.jp/reference/compose-file/toc.html
            #ref: https://docs.docker.jp/compose/compose-file.html#compose-file-version-2
        è£œè¶³: ãƒ•ã‚¡ã‚¤ãƒ«å docker-compose.yml ã¯ã€docker-compose ã‚³ãƒãƒ³ãƒ‰ãŒå‚ç…§ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã™
        ã‚µãƒ³ãƒ—ãƒ«: |
            version: '2'
            services:
                web:  #// ã‚µãƒ¼ãƒ“ã‚¹å  #keyword: docker compose service name
                    build: .
                    ports:
                        - "5000:5000"
        ãƒ•ã‚¡ã‚¤ãƒ«åæŒ‡å®š:  #search: docker-compose -f
        ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰, docker-compose.override.yml:  #keyword: 
        ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: #keyword: Docker-compose fields  #// docker-compose.yml ã®è¨­å®š  #glossary: docker-compose.yml
            build:  #// docker build ã‚³ãƒãƒ³ãƒ‰ç›¸å½“
                ï¼ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åç„¡ã—ã®å ´åˆï¼‰: Dockerfile ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹
                context: Dockerfile ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹
                dockerfile: Dockerfile ã®ãƒ•ã‚¡ã‚¤ãƒ«å
                args:  #// docker build ã‚³ãƒãƒ³ãƒ‰ã® --build-arg ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç›¸å½“
                    ã‚µãƒ³ãƒ—ãƒ«:
                        ARG_NAME_1: value1
                        ARG_NAME_2: ${ENV_VAR_1}   #// docker-compose ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ç’°å¢ƒå¤‰æ•°ã®å€¤ãŒè¨­å®šã•ã‚Œã¾ã™
                    ã‚µãƒ³ãƒ—ãƒ«2:  #search: Docker proxy --build-arg
            command:
                ã‚µãƒ³ãƒ—ãƒ«:
                    command: >
                        bash -c '
                            pwd  &&
                            echo "end"
                        '
                å†…å®¹:
                    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’é–‹å§‹ã™ã‚‹ã¨ãã«å®Ÿè¡Œã™ã‚‹ã‚·ã‚§ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                    - command ã‚’æŒ‡å®šã™ã‚‹ã¨ã€Dockerfile ã® CMD ã¯å®Ÿè¡Œã—ãªããªã‚Šã¾ã™ã€‚
                        docker run ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã¯ CMD ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€
                        docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ command ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é€šå¸¸æŒ‡å®šã—ã¾ã›ã‚“ã€‚
                    - 1ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã« 1ã¤ã ã‘æŒ‡å®šã§ãã¾ã™ã€‚&& ã¯ã‚³ãƒãƒ³ãƒ‰ã®åŒºåˆ‡ã‚Šã«ãªã‚Šã¾ã›ã‚“
                    - è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã¯ bash -c 'command-1 && command-2' ã‚’ä½¿ã„ã¾ã™
            volumes:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒä½¿ã†ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
                æ³¨æ„:  #search: Docker volume connection attention
                ãƒ‘ã‚¹:  #// ãƒ›ã‚¹ãƒˆOS ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¨å…±æœ‰ã—ã¾ã™
                    docker-compose.yml/services/__VM__/volumes:  #keyword: docker-compose.yml volumes value
                        - __PathInHost__:__PathInContainer__  #// __PathInHost__ ã¯ / ã¾ãŸã¯ ./ ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚__PathInContainer__ ã¯ãƒ•ãƒ«ãƒ‘ã‚¹ã®ã¿æŒ‡å®šã§ãã¾ã™
                        #// ã¾ãŸã¯
                        - __VolumeName__:__PathInContainer__  #// __VolumeName__ ã¯ /volumes/__VolumeName__ ã‚’å‚ç…§ã—ã¾ã™
                        #ref: http://docs.docker.jp/engine/tutorials/dockervolumes.html#mount-a-host-directory-as-a-data-volume
                ãƒœãƒªãƒ¥ãƒ¼ãƒ :  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã§ä¿å­˜ã—ã‚ˆã†ã¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ãƒ›ã‚¹ãƒˆOS ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã©ã“ã‹ã«ä¿å­˜ã—ã¾ã™
                    docker-compose.yml/volumes/__VolumeName__:  #ref: https://docs.docker.jp/compose/compose-file.html#volume-configuration-reference
                        è¨­å®šä¾‹:
                            docker-compose.yml : |
                                volumes:
                                    volume1: {}
                            #// ãƒœãƒªãƒ¥ãƒ¼ãƒ åã¯ __ProjectName___volume1 ã«ãªã‚Šã¾ã™  #search: docker-compose project name
                        è¨­å®šä¾‹2 docker-compose.yml : |
                            volumes:
                                volume1:
                                    driver: local
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å®Ÿä½“:
                        driver:
                            local:
                                Linux: /var/lib/docker/volumes
                                Windows WSL2: \\wsl$\docker-desktop-data\version-pack-data\community\docker\volumes
                                    #// ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™
                                    #å‚è€ƒ: https://stackoverflow.com/questions/43181654/locating-data-volumes-in-docker-desktop-windows
                å‚è€ƒ >> Docker volume:  #search: Docker volume
            ports:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒä½¿ã†ãƒãƒ¼ãƒˆ  #keyword: docker-compose ports
                /services/__VM__/ports:
                    - __PortOfHost__:__PortOfContainer__
            healthcheck: #keyword; docker-compose healthcheck  #// ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹ã¾ã§å¾…ã¡ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:
                    version: "3.4"
                    services:
                        a:
                            image: ubuntu
                            command: sleep 100000
                            healthcheck:
                                test: ["CMD", "false"]
                                interval: "1s"
                                timeout: "1s"
                                retries: 0
                                start_period: "100s" # since docker-compose 3.4
                #ref: https://qiita.com/knjname/items/9c0a89af2d9e49749017
                #search: Docker-compose wait-for-it
            depends_on:  #// ä¾å­˜é–¢ä¿‚  #search: Docker-compose depends_on
            deploy: #keyword: Docker-compose deploy
                ã‚µãƒ³ãƒ—ãƒ«: |  #// WSL2 ã§ã¯ã“ã®æ–¹æ³•ã§ãƒ¡ãƒ¢ãƒªãƒ¼ã®ç©ºãå®¹é‡ã¯å¢—ãˆã¾ã›ã‚“ã€‚å¢—ã‚„ã™ã«ã¯  #search: WSL Docker memory size
                    version: '3.8'
                    services:
                        __Service__:
                            deploy:
                                resources:
                                    limits:
                                        memory: 4G
            mem_limit: #keyword: Docker-compose mem_limit,  Docker-compose memory
                ã‚µãƒ³ãƒ—ãƒ«: |  #// WSL2 ã§ã¯ã“ã®æ–¹æ³•ã§ãƒ¡ãƒ¢ãƒªãƒ¼ã®ç©ºãå®¹é‡ã¯å¢—ãˆã¾ã›ã‚“ã€‚å¢—ã‚„ã™ã«ã¯  #search: WSL Docker memory size
                    version: '2.4'
                    services:
                        __Service__:
                            mem_limit: 4G
        Dockerfile ã‚„ã‚³ãƒãƒ³ãƒ‰ã¨ã®ç½®ãæ›ãˆ:  #keyword: docker command to docker-compose.yml
            #// docker ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ Dockerfile ã«ç§»å‹•ã—ã¾ã™
            Dockerfile ã‹ã‚‰ docker-compose.yml ã«ç½®ãæ›ãˆã‚‹å ´åˆ:  #keyword: Dockerfile to docker-compose.yml
                é–¢é€£:
                    Docker-compose.yml:  #search: Docker-compose fields
                    Dockerfile:  #search: Dockerfile
                    Docker ã‚³ãƒãƒ³ãƒ‰:  #search: docker command
                docker-compose.yml ã¨ Dockerfile ã‚„ docker ã‚³ãƒãƒ³ãƒ‰ã®é–¢ä¿‚: #// å€¤ã¯å¯¾å¿œã™ã‚‹ Dockerfile ã®å‘½ä»¤åã§ã™
                    version: '2'
                    services:
                        __ServiceName__:  #// ã‚µãƒ¼ãƒ“ã‚¹å  #keyword: docker compose service name
                            image: "Dockerfile ã® FROM å‘½ä»¤"  #search: Dockerfile FROM
                            build: "docker build ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãƒ»Dockerfile ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹"
                            entrypoint: "Dockerfile ã® ENTRYPOINT å‘½ä»¤"  #search: Dockerfile ENTRYPOINT
                            command: "Dockerfile ã® CMD å‘½ä»¤,  docker run ã‚³ãƒãƒ³ãƒ‰"  #search: Dockerfile CMD
                            environment:
                                __Name__: "Dockerfile ã® ENVIRONMENT å‘½ä»¤,  ã‚·ã‚§ãƒ«ã®ç’°å¢ƒå¤‰æ•°"  #search: Dockerfile ENVIRONMENT
                            ports:
                                - "docker run ã‚³ãƒãƒ³ãƒ‰ -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³"  #search: docker run -p option
                                #// é–¢é€£ "Dockerfile ã® EXPOSE å‘½ä»¤"  #search: Dockerfile EXPOSE
                            volumes:
                                - "docker run ã‚³ãƒãƒ³ãƒ‰ -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³"  #search: docker run -v option
                                #// é–¢é€£ "Dockerfile ã® VOLUME å‘½ä»¤"  #search: Dockerfile VOLUME
            æ—¢å­˜ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ï¼‘ã¤ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ:  #// Dockerfile ã‚’ä½¿ã„ã¾ã›ã‚“ã€‚ image ã‚­ãƒ¼ã«æŒ‡å®šã—ã¾ã™
                è¨­å®š: #settings:
                    __ImageURL__: docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                    __LocalAndHostPort__: 9200:9200
                    __EnvNameAndValue__:  discovery.type=single-node
                docker ã‚³ãƒãƒ³ãƒ‰:
                    - docker pull  docker.elastic.co/elasticsearch/elasticsearch:7.13.3  #template: __ImageURL__
                    - docker run -p 9200:9200 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                        #template: -p __LocalAndHostPort__ -e "__EnvNameAndValue__" __ImageURL__
                docker-compose.yml ã¨ Dockerfile ã¨ docker-compose ã‚³ãƒãƒ³ãƒ‰:
                    __Project__/docker-compose.yml:
                        version: '2.2'
                        services:
                            __HostName__:
                                image: docker.elastic.co/elasticsearch/elasticsearch:7.13.3  #template: __ImageURL__
                                environment:
                                    -   discovery.type=single-node  #template: __EnvNameAndValue__
                                ports:
                                    -   9200:9200  #template: __LocalAndHostPort__
                    docker-compose ã‚³ãƒãƒ³ãƒ‰:
                        docker-compose up -d  #search: docker-compose up
            æ—¢å­˜ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ï¼’ã¤ä»¥ä¸Šã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ:  #// Dockerfile ã‚’ä½¿ã„ã¾ã™ã€‚ build ã‚­ãƒ¼ã«æŒ‡å®šã—ã¾ã™
                #// docker-compose.yml ã« Dockerfile ã® RUN ãŒä½¿ãˆãªã„ãŸã‚ã€Dockerfile ã‚’ä½¿ã„ã¾ã™ã€‚
                #// RUN ã«ã¤ã„ã¦â€¦  #ref: ${programming}/OS/VMWare.svg#Dockerfile_RUN 
                è¨­å®š: #settings:
                    __ImageURL__: docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                    __LocalAndHostPort__: 9200:9200
                    __EnvNameAndValue__:  discovery.type=single-node
                docker ã‚³ãƒãƒ³ãƒ‰:
                    - docker pull  docker.elastic.co/elasticsearch/elasticsearch:7.13.3  #template: __ImageURL__
                    - docker run -p 9200:9200 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                        #template: -p __LocalAndHostPort__ -e "__EnvNameAndValue__" __ImageURL__
                    - docker exec -it ç«‹ã¡ä¸Šã’ãŸã‚³ãƒ³ãƒ†ãƒŠID /bin/bash 
                docker-compose.yml ã¨ Dockerfile ã¨ docker-compose ã‚³ãƒãƒ³ãƒ‰:
                    __Project__/docker-compose.yml:
                        version: '2.2'
                        services:
                            __HostName__:
                                build: ./elasticsearch
                                environment:
                                    -   discovery.type=single-node  #template: __EnvNameAndValue__
                                ports:
                                    -   9200:9200  #template: __LocalAndHostPort__
                    __Project__/elasticsearch/Dockerfile:
                        FROM  docker.elastic.co/elasticsearch/elasticsearch:7.13.3
                    docker-compose ã‚³ãƒãƒ³ãƒ‰:
                        docker-compose up --build -d  #search: docker-compose up
    ã‚³ãƒãƒ³ãƒ‰: #glossary: docker-compose  #ref: https://docs.docker.jp/engine/reference/commandline/compose.html
        ï¼ˆåˆ†é¡ï¼‰:
            èµ·å‹•:
                å…¨éƒ¨:  #search: docker-compose up
                    cd  __FolderHasDockerComposeYaml__
                    docker-compose down
                    docker-compose up --build -d
                ï¼‘ã¤:  #search: docker-compose up one
                    cd __FolderHasDockerComposeYaml__
                    docker-compose up  __ServiceName__
            çµ‚äº†:
                å…¨éƒ¨:  #search: docker-compose down
                    cd  __FolderHasDockerComposeYaml__
                    docker-compose down
                ï¼‘ã¤:  #search: docker-compose rm
                    cd __FolderHasDockerComposeYaml__
                    docker-compose rm -fsv  __ServiceName__
            å†èµ·å‹•:
                ï¼‘ã¤:  #search: docker-compose restart
                    cd __FolderHasDockerComposeYaml__
                    docker-compose restart  __ServiceName__
        up:  #// ã™ã¹ã¦ã¾ãŸã¯ 1ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™  #keyword: docker-compose up
            åŸºæœ¬:  #// ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™  #copy: docker-compose up
                ã‚«ãƒ¬ãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã«ç§»å‹•ã—ã¾ã™:
                    - cd  __Project__  #// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã¯ docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§ã™
                ï¼ˆï¼’å›ç›®ä»¥é™ï¼‰ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™:
                    - docker-compose down   #// ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®å†èµ·å‹•ã«ã¯ãªã‚Šã¾ã™ã€‚ã‚‚ã—ä¸è¦ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã™
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:  #// å¯¾è±¡ã¯ docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼
                    - docker-compose up --build -d
                        #// --build ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã«ã—ãŸãŒã£ã¦æš—é»™çš„ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã™  #keyword: docker-compose build
                        #// -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã§ã¯ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™  #keyword: docker-compose up -d
                å‚è€ƒ:  #search: docker-compose up
            1ã¤èµ·å‹•: #keyword: docker-compose up one  #// ï¼‘ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™
                ã‚³ãƒãƒ³ãƒ‰:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                    åŸºæœ¬:
                        cd __FolderHasDockerComposeYaml__
                        docker-compose up -d  __ServiceName__
                    ã¾ãŸã¯:
                        docker-compose run -it --rm  __ServiceName__
                    -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™  #search: docker-compose up -d
                    ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ã‚Š:  #// --build -d ã®éƒ¨åˆ†ã¯å…¨éƒ¨èµ·å‹•ã™ã‚‹ã¨ãã«æŒ‡å®šã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„
                        cd __FolderHasDockerComposeYaml__
                        docker-compose up --build -d  __ServiceName__
                    replies ãŒ 0 ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã™ã‚‹å ´åˆ:  #search: docker-compose 0 replicas
                ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜:
                    __ServiceName__: docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã® services ã‚­ãƒ¼ã®ç›´ä¸‹ã®ã‚­ãƒ¼
            2ã¤èµ·å‹•:
                docker-compose up -d  __ServiceNameA__ __ServiceNameB__
            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯èµ·å‹•ã—ãªã„: #keyword: docker-compose 0 replicas  #// åŸºæœ¬ã¯ docker-compose up ã§ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™ãŒã€ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã¯èµ·å‹•ã—ãªã„ã‚ˆã†ã«ã—ã¾ã™
                compose.yaml: |
                    __ServiceName__:
                        deploy:
                            replicas: 0  #// 0 = Not start by default. To start: docker-compose up -d __Service__  --scale __Service__=1
                replies ãŒ 0 ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã™ã‚‹å ´åˆ:
                    docker-compose up -d  __Service__  --scale __Service__=1
            1ã¤ä»¥å¤–ã‚’èµ·å‹•:
                docker-compose up -d  --scale __ServiceName__=0
                #ref: https://stackoverflow.com/questions/50848797/docker-compose-exclude-service-by-default
            1ã¤å†èµ·å‹•: #keyword: docker-compose restart
                Dockerfile ãŒç„¡ã„å ´åˆ:
                    æ³¨æ„: ãƒ‡ãƒ¼ã‚¿ã¯ã‚¯ãƒªã‚¢ã•ã‚Œãªã„ã‚ˆã†ã§ã™ã€‚docker-compose down ã™ã‚‹ã¨ã‚¯ãƒªã‚¢ã•ã‚Œã¾ã™
                    ã‚³ãƒãƒ³ãƒ‰:
                        cd __FolderHasDockerComposeYaml__
                        docker-compose restart  __ServiceName__
                    ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜:
                        __ServiceName__: docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã® services ã‚­ãƒ¼ã®ç›´ä¸‹ã®ã‚­ãƒ¼
                            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã§ã¯ã‚ã‚Šã¾ã›ã‚“
                Dockerfile ãŒã‚ã‚‹å ´åˆ:  #// docker-compose.yml ãŒã‚ã‚‹å ´åˆã§ã¯ã‚ã‚Šã¾ã›ã‚“
                    ã‚³ãƒãƒ³ãƒ‰:
                        cd __FolderHasDockerComposeYaml__
                        docker-compose  rm -fsv  __ServiceName__
                        docker-compose  up --build  -d  __ServiceName__
            1ã¤çµ‚äº†:  #// ï¼‘ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™  #keyword: docker-compose rm
                down ã‚³ãƒãƒ³ãƒ‰:  #// ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™
                    cd __FolderHasDockerComposeYaml__
                    docker-compose down  __ServiceName__
                _:  #// èª¬æ˜
                    __ServiceName__: docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã® services ã‚­ãƒ¼ã®ç›´ä¸‹ã®ã‚­ãƒ¼
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã§ã¯ã‚ã‚Šã¾ã›ã‚“
                rm ã‚³ãƒãƒ³ãƒ‰:  #// å‰Šé™¤ã—ã¾ã™
                    -f: ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãªã—ã§å®Ÿè¡Œ
                        docker-compose rm -fsv  __ServiceName__
                    -s: åœæ­¢ã—ã¦ã‹ã‚‰å‰Šé™¤
                    -v: ã‚³ãƒ³ãƒ†ãƒŠã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸåŒ¿åãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‰Šé™¤
            -f, compose.yaml ã®æŒ‡å®š: #keyword: docker-compose -f  #// up ãªã©ã‚ˆã‚Šå·¦ã« -f ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ›¸ãã¾ã™
                -   docker compose up  #// compose.yaml ã¾ãŸã¯ docker-compose.yml 
                -   docker compose  -f docker-compose.yml  up
                -   docker compose  -f docker-compose.yml  -f docker-compose.admin.yml  up
            å­¤ç«‹ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼:
                docker-compose down --remove-orphans  #// å­¤ç«‹ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼ˆ__ContainerName__ï¼‰ã‚’å‰Šé™¤ï¼ˆçµ‚äº†ï¼‰ã—ã¾ã™
                #// å­¤ç«‹ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨ã¯ã€docker-compose.yml ã«æ›¸ã‹ã‚Œãªããªã£ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ã“ã¨ã§ã™
            ãƒ­ã‚°: #keyword: docker-compose up log  #// å‰å›èµ·å‹•ã—ãŸã¨ãã®æ¨™æº–å‡ºåŠ›ã‚’å†è¡¨ç¤ºã—ã¾ã™
                å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:
                    docker-compose logs -t | less
                    #// ãƒ­ã‚°ãŒå‡ºãªã„å ´åˆ  #search: no docker-compose logs
                    #ref: https://docs.docker.jp/config/container/logging/index.html
                ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼:  #keyword: docker logs
                    ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’èª¿ã¹ã¾ã™:
                        docker ps -a --format "{{.Names}}"  #// ã§è¡¨ç¤ºã•ã‚ŒãŸå¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ __ContainerName__ ã¨ã—ã¾ã™
                    æœ€æ–°ã®ãƒ­ã‚°ã‚’è¦‹ã‚‹å ´åˆ:  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸç¬é–“ã®æœ€æ–°
                        docker logs -t  __ContainerName__  2>&1 | less +G
                    -t ã‚ªãƒ—ã‚·ãƒ§ãƒ³: ãƒ­ã‚°ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚‚è¡¨ç¤ºã—ã¾ã™
                    æœ€æ–°ã®ãƒ­ã‚°ã‚’è¦‹ç¶šã‘ã‚‹å ´åˆ:  #keyword: docker logs --follow
                        docker logs -t  __ContainerName__  --follow
                        ï¼ˆCtrl + C ã§çµ‚äº†ã—ã¾ã™ï¼‰
                    ãƒ­ã‚°å…¨ä½“ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹å ´åˆ:
                        docker logs -t __ContainerName__ > ~/_tmp/__ContainerName__.log
                å‰Šé™¤: #keyword: delete docker-compose up log  #// ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ãƒ­ã‚°ã‚’å‰Šé™¤ã—ã¾ã™
                    - docker ps --format "{{.Names}}"  #// ã§ä¸€è¦§ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ã†ã¡ã€å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼åã‚’ __ContainerName__ ã¨ã—ã¾ã™
                    - sudo truncate -s 0 $(docker inspect --format='{{.LogPath}}' __ContainerName__)
                    #// å‚è€ƒ: https://stackoverflow.com/questions/42510002/docker-how-to-clear-the-logs-properly-for-a-docker-container
            ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®èµ·å‹•ã«é–¢ã—ã¦è©³ç´°è¡¨ç¤ºã—ãªãŒã‚‰èµ·å‹•ã—ã¾ã™:  #// æ¨™æº–å‡ºåŠ›ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
                docker-compose --verbose up -d 
            ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå, -p, --project-name: #keyword: docker-compose -p --project-name
                ã‚³ãƒãƒ³ãƒ‰:
                    docker-compose  --project-name proj2  up  -d 
                    docker-compose  --project-name proj2  down
                èª¬æ˜:
                    èµ·å‹•ãƒ»çµ‚äº†ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠåã¯ã€__ProjectName_____ServiceName___1 ã«ãªã‚Šã¾ã™ã€‚
                __ProjectName__: --project-name ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™
                __ServiceName__: docker-compose.yml ã® service ã®å­è¦ç´ ã«æŒ‡å®šã—ã¾ã™ #search: docker compose service name
                å‚è€ƒ: #ref: https://stackoverflow.com/questions/50947938/docker-compose-orphan-containers-warning
        down:  #// ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’çµ‚äº†ã—ã¾ã™  #keyword: docker-compose down
            å…¨ã¦çµ‚äº†: |
                cd  __FolderHasDockerComposeYaml__
                docker-compose down
            ï¼‘ã¤çµ‚äº†:  #// ï¼‘ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™  #search: docker-compose rm
        stop:  #// ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’çµ‚äº†ã—ã¾ã™ã€‚ãŸã ã—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯å‰Šé™¤ã—ã¾ã›ã‚“ã€‚
            ç”¨é€”: 2ã¤ã® docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ãã«å…±æœ‰ã™ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å‰Šé™¤ã—ãªã„ã¨ãã«ä½¿ã„ã¾ã™
        rm:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™
            ï¼‘ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™:  #search: docker-compose rm
            ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã¾ã™:  #search: delete all docker container
        run:  #// ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¾ãŸã¯ã€ãã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã§æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
            èµ·å‹•ã®ã¿:  #// CMD ã‚’å®Ÿè¡Œã—ã¾ã™  #search: Dockerfile CMD
                cd  __FolderHasDockerComposeYaml__
                docker-compose run --rm  __ServiceName__

                docker-compose run -it   mysql
            èµ·å‹•ã—ã¦ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ:
                cd  __FolderHasDockerComposeYaml__
                docker-compose run --rm  __ServiceName__  __CommandAndParameters__
        ps:  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®çŠ¶æ…‹ã‚’ä¸€è¦§ã—ã¾ã™
            ä¸€è¦§: docker-compose ps -a  #// -a ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯çµ‚äº†ã—ãŸã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚‚è¡¨ç¤ºã—ã¾ã™
            ï¼‘ã¤: #search: docker ps status
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(Docker):  #search: Docker troubleshooting
Docker Hub: #keyword: Docker Hub,  Docker image catalog  #ref: https://hub.docker.com/
    æ¢ã—ã¾ã™: å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã®å…¬å¼ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’æ¢ã—ã¾ã™ã€‚
        Docker Hub ã®æ¤œç´¢ã§ã¯é‡è‰¯ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‹ãŸã‚ã‚ã¾ã‚Šã‚ˆãã‚ã‚Šã¾ã›ã‚“ã€‚
    ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ¢ã—ã¾ã™:
        ç‰¹å®šã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒšãƒ¼ã‚¸ ï¼ˆä¾‹ https://hub.docker.com/_/centos ï¼‰>> tags ã‚¿ãƒ– >> docker pullï¼ˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§æ¤œç´¢ï¼‰
    ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã¾ã™: #keyword: Docker Hub Dockerfile
        ãƒ¡ãƒ‹ãƒ¥ãƒ¼:
            ç‰¹å®šã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒšãƒ¼ã‚¸ ï¼ˆä¾‹ https://hub.docker.com/_/centos ï¼‰>>
            Tags >>ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰>>ï¼ˆè¡Œï¼‰  #// è¡Œã®å…¨ä½“ã¯å³åŠåˆ†ã«è¡¨ç¤ºã•ã‚Œã¾ã™
        æ³¨æ„:
            - Dockerfile ã® FROM ã‚„ RUN ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“  #search: Docker ADD file
            - ãã®ãŸã‚ã€ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“
    ãƒ¬ãƒ¼ãƒˆåˆ¶é™:  #ref: https://www.docker.com/increase-rate-limit
        æ¦‚è¦: docker pull ãŒå¤šã™ãã‚‹ã¨å®Ÿè¡Œã§ããªã„åˆ¶é™ãŒã‹ã‹ã‚Šã¾ã™ã€‚
        åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼: 1 IPã‚¢ãƒ‰ãƒ¬ã‚¹ 6æ™‚é–“ã‚ãŸã‚Š 100 pulls
        ç„¡æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼: 1 IPã‚¢ãƒ‰ãƒ¬ã‚¹ 6æ™‚é–“ã‚ãŸã‚Š 200 pulls
        æœ‰æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼: 1 IPã‚¢ãƒ‰ãƒ¬ã‚¹ 1æ—¥ã‚ãŸã‚Š 5000 pulls
        å‚è€ƒ:
            #ref: https://dev.classmethod.jp/articles/codebuild-has-to-use-dockerhub-login-to-avoid-ip-gacha/
            #ref: https://stackoverflow.com/questions/71217339/you-have-reached-your-pull-request-limit-docker#answer-71220346
        ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ãƒˆ:  #ref: https://www.docker.com/blog/checking-your-current-docker-pull-rate-limits-and-status/
            WSL2 Ubuntu 20.04: |
                sudo yum install -y  jq
                curl "https://auth.docker.io/token?service=registry.docker.io&scope=repository:ratelimitpreview/test:pull" | jq -r .token
                å‡ºåŠ›ã‚’ https://jwt.ms/ ã«è²¼ã‚Šä»˜ã‘
                    "parameters": {
                        "pull_limit": "100",
                        "pull_limit_interval": "21600"
    ãƒŸãƒ©ãƒ¼, ã‚­ãƒ£ãƒƒã‚·ãƒ¥: #keyword: Docker registry mirror,  Docker cache registry
        ã‚­ãƒ£ãƒƒã‚·ãƒ¥:  #search: Docker image
            ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã—ãŸ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã§ã™
        ãƒŸãƒ©ãƒ¼ ã‚µãƒ¼ãƒãƒ¼ ã‚’æ§‹ç¯‰ã—ã¾ã™:
            WSL2 Ubuntu 20.04:  #// åŠ¹æœã¯æœªç¢ºèª
                å‚è€ƒ:
                    #ref: https://blog.jp.square-enix.com/iteng-blog/posts/00029-easy-private-container-cache-registry/
                    #ref: https://docs.docker.com/registry/
                    #ref: https://docs.docker.com/registry/recipes/mirror/
                Ubuntu VM ã‚’ä½œã‚Šã¾ã™:  #search: WSL2 restore  #search: install Docker for WSL2
                    (PowerShell):
                        wsl --unregister "Ubuntu-20.04-docker-registry"
                        wsl --import  "Ubuntu-20.04-docker-registry" `
                            "${HOME}\WSL_VMs\Ubuntu-20.04-docker-registry" `
                            "${HOME}\WSL_back_up\Ubuntu-20.04-docker.tar"
                        wsl -d "Ubuntu-20.04-docker-registry"
                    (bash):
                        cd ~
                        ~/bin/service-start
                        code "."
                ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒ—ãƒ­ã‚­ã‚·ã‚’è¨­å®šã—ã¾ã™:
                    code  ~/.docker/config.json  #search: Docker proxy Linux
                    #// å¿…è¦ãªç’°å¢ƒã§è¨­å®šã—ãªã‹ã£ãŸå ´åˆã®ã‚¨ãƒ©ãƒ¼:
                    #//     panic: Get "https://registry-1.docker.io/v2/": dial tcp 3.216.34.172:443: i/o timeout  (30ç§’å¾Œ)
                    #search: Docker proxy
                docker ã‚³ãƒãƒ³ãƒ‰ãŒå‚ç…§ã™ã‚‹ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚’ ãƒŸãƒ©ãƒ¼ ã‚µãƒ¼ãƒãƒ¼ ã«å¤‰æ›´ã—ã¾ã™:
                    /etc/docker/daemon.json: |
                        {
                            "registry-mirrors": ["http://localhost:5000"]
                        }
                    Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’å†èµ·å‹•ã—ã¾ã™:
                        sudo service docker restart
                ãƒŸãƒ©ãƒ¼ ã‚µãƒ¼ãƒãƒ¼ ã‚’èµ·å‹•ã—ã¾ã™:
                    è¨­å®š:
                        code  ~/config.yml: |  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰ proxy: ã‚’è¿½åŠ ã—ãŸã‚‚ã®ã§ã™
                            version: 0.1
                            log:
                                fields:
                                    service: registry
                            storage:
                                cache:
                                    blobdescriptor: inmemory
                                filesystem:
                                    rootdirectory: /var/lib/registry
                            http:
                                addr: :5000
                                headers:
                                    X-Content-Type-Options: [nosniff]
                            health:
                                storagedriver:
                                    enabled: true
                                    interval: 10s
                                    threshold: 3                
                            proxy:
                                remoteurl: https://registry-1.docker.io
                                username: user1
                                password: user1
                    ã‚³ãƒãƒ³ãƒ‰: |
                        mkdir -p ~/registry
                        docker run -it --rm  -p 5000:5000  -v ~/config.yml:/etc/docker/registry/config.yml  -v ~/registry:/var/lib/registry   --name registry  registry:2
                ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰ç„¡ã‚’è¡¨ç¤ºã—ã¾ã™:
                    curl http://localhost:5000/v2/_catalog
                        {"repositories":[]}
                ubuntu ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç¢ºèª:  #// å¤±æ•—ã—ã¾ã™  #ref: https://docs.docker.com/registry/
                    Pull (or build) some image from the hub:
                        docker pull ubuntu:12.04
                    Tag the image so that it points to your registry:
                        docker image tag ubuntu:12.04 localhost:5000/myfirstimage:latest
                    Push it:  #// å¤±æ•—ã—ã¾ã™
                        docker push localhost:5000/myfirstimage:latest
                    ã‚¨ãƒ©ãƒ¼:
                        ãƒŸãƒ©ãƒ¼: |
                            err.message="The operation is unsupported."
                        docker: |
                            level=error msg="Upload failed, retrying: unsupported"
            å‚è€ƒ:
                #ref: https://zenn.dev/kou64yama/articles/powerful-docker-build-cache
                #ref: https://docs.docker.com/build/cache/
                #ref: https://docs.docker.com/build/cache/backends/
Kubernetes (k8s): #keyword:  #// ã‚¯ãƒ¼ã¹ãƒãƒ†ã‚£ã‚¹ ã€Œã‚¯ã€ã«ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ â†’ #ref: https://www.youtube.com/watch?v=uMA7qqXIXBk >> 0:58 ã€Œkubeï¼ˆã‚¯ãƒ¼ãƒ™ï¼‰ã€ã€ŒK8s (ã‚±ãƒ¼ã‚¨ã‚¤ãƒ„)ã€
    #// è¤‡æ•°ãƒ›ã‚¹ãƒˆã§ã‚³ãƒ³ãƒ†ãƒŠã‚’é‹ç”¨ã—ãŸã„å ´åˆãªã©ã®ç®¡ç†
    helm:  #// Kubernetes ã® ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
    ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãª Kubernetes:
        k3s: #keyword:  #ref: https://qiita.com/ynott/items/89941c36c606a8384028
        MicroK8s: #keyword:
Podman: #keywor:  #// ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ¬ã‚¹ã® Docker ç›¸å½“ã€‚Docker ã¨æ’ä»–
    #ref: https://qiita.com/arinko_arintyu/items/10465fa0765f70e77b12
    Docker ã¯éæ¨å¥¨ã‹:
        _: â€œRockyLinux ãŒ Docker ã‚’éæ¨å¥¨ã¨ã—ã¦ã„ã‚‹â€ã¨æ–­è¨€ã§ãã‚‹â€œå…¬å¼ãªâ€ä¸€æ¬¡è³‡æ–™ã¯ã€èª¿æŸ»ã§ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
        #chat: RockyLinux ãŒDockerã‚’éæ¨å¥¨ã¨ã—ã¦ã„ã‚‹æƒ…å ±æºã¯
VirtualBox:  #keyword: VirtualBox  #// ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã® 1ã¤
    æ³¨æ„: VirtualBox ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã‚‹ã¨ Vagrant ã‹ã‚‰ä½œã£ãŸ VM ã¯ãƒªã‚¹ãƒˆã‚¢ã§ããªããªã‚Šã¾ã™ã€‚
        ãŸã ã—ã€6.1.34 â‡’ 6.1.36 ã¯ãƒªã‚¹ãƒˆã‚¢ã§ããŸã€‚
        ãƒªã‚¹ãƒˆã‚¢  #search: Vagrant VirtualBox restore
    æ‰‹é †:
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
            Vagrant ã‚’ä½¿ã†å ´åˆ:  #search: Vagrant
            VirtualBox + CentOS ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(Windows):  #keyword: install VirtualBox+CentOS
                CentOS8:  #// CentOS 8 ã‚’ VirtualBox ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                    è¨­å®š: #settings:
                        __VM_UserName__: user1  #// SSH ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨åˆã‚ã›ã‚‹ã¨ SSH ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’çœç•¥ã§ãã¾ã™
                    å‚è€ƒ: https://qiita.com/yasushi-jp/items/01b4829a36272954719f
                    #// ä»¥ä¸‹ã¯ GUI ãŒä½¿ãˆã‚‹ç’°å¢ƒã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã™
                    VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        - https://www.virtualbox.org/ >> Windows hosts
                        - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šVirtualBox-6.1.18-142142-Win.exeï¼‰ã‚’é–‹ãã¾ã™
                        - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                        - ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                        - æ—¥æœ¬èªè¡¨ç¤ºã«ã—ã¾ã™  VirtualBox >> File >> Preferenes >> Language >> æ—¥æœ¬èªï¼ˆæœ€ä¸‹è¿‘ãï¼‰
                    CentOS ã® .iso ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                        #// ã‚µã‚¤ã‚ºã¯ç´„9.0GB
                        - https://www.centos.org/ >> Download >> ISO åˆ— >> x86_64
                        - ä¾‹ CentOS-8.3.2011-x86_64-dvd1.iso
                    ä»®æƒ³ãƒã‚·ãƒ³ã‚’æ–°è¦ä½œæˆã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> æ–°è¦ï¼ˆå³ä¸Šï¼‰
                        åå‰: CentOS-8.3.2011  #// ä¾‹
                        ãƒã‚·ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: ï¼ˆå¤‰æ›´ã—ãªã„ï¼‰
                        ã‚¿ã‚¤ãƒ—: Linux  #// å¤‰æ›´ã—ãªã„
                        ãƒãƒ¼ã‚¸ãƒ§ãƒ³: Red Hat (64-bit)   #// å¤‰æ›´ã—ãªã„
                        ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚º: 2048MB
                        ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã‚’ä½œæˆã™ã‚‹:
                        ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—: VDI
                        å¯å¤‰ã‚µã‚¤ã‚º:
                        ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€: C:\Users\____\VirtualBox VMs\____ ï¼ˆå¤‰æ›´ã—ãªã„ï¼‰
                        ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ã‚µã‚¤ã‚º: 16GB
                    CentOS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        VM ã®å‘¨è¾ºã®è¨­å®š:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> è¨­å®šï¼ˆå³ä¸Šï¼‰
                            å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆ.iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’è¨­å®šã—ã¾ã™:
                                è¨­å®š >> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>> å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®è¿½åŠ ï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ IDEã®å³ï¼‰ >>
                                    è¿½åŠ ï¼ˆå·¦ä¸Šï¼‰>> ï¼ˆä¾‹ï¼‰ CentOS-8.3.2011-x86_64-dvd1.iso >> é¸æŠ
                            ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¨­å®šã—ã¾ã™:
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: è¨­å®š >> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆå·¦ï¼‰
                                å‰²ã‚Šå½“ã¦: NAT  #// å‚è€ƒ: snote >> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ (VMware Player)
                            OK ãƒœã‚¿ãƒ³:
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã—ã¦OSã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> èµ·å‹•ï¼ˆå³ä¸Šï¼‰>> Install CentOS Linux 8ï¼ˆã‚«ãƒ¼ã‚½ãƒ«ã‚­ãƒ¼ã§é¸æŠã—ã¦Enterã‚­ãƒ¼ï¼‰
                            ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ ãƒœã‚¿ãƒ³:  #// ä»®æƒ³ãƒã‚·ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                                #// ãƒã‚¦ã‚¹çµ±åˆæ©Ÿèƒ½ãŒã‚ªãƒ•ã®ã¨ãï¼ˆOSã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰ï¼‰ã«ä»®æƒ³ãƒã‚·ãƒ³ã§ãƒã‚¦ã‚¹ãŒæ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                            ï¼ˆå³å´ã®ï¼‰Ctrlã‚­ãƒ¼: #// ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã‚’çµ‚äº†ã—ã¾ã™ã€‚Ctrlã‚­ãƒ¼ã§ã‚ã‚‹ã“ã¨ã¯ VirtualBoxã®å³ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™
                            Language: Japanese >> æ—¥æœ¬èª >> ç¶šè¡Œ
                            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¦‚è¦:
                                ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰: æ—¥æœ¬èª
                                è¨€èªã‚µãƒãƒ¼ãƒˆ: æ—¥æœ¬èª
                                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆ:
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:
                                    ï¼ˆæ¥ç¶šï¼‰ï¼ˆå³ä¸Šï¼‰: ã‚ªãƒ³
                                    ãƒ›ã‚¹ãƒˆåï¼ˆå·¦ä¸‹ï¼‰: CentOS
                                    é©ç”¨ ãƒœã‚¿ãƒ³ï¼ˆä¸‹ï¼‰:
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                æ™‚åˆ»ã¨æ—¥ä»˜:  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¨­å®šã—ãŸå¾Œã§è¨­å®šã—ã¾ã™
                                    åœ°åŸŸ: ã‚¢ã‚¸ã‚¢/æ±äº¬  #// åœ°å›³ä¸Šã‚’ã‚¯ãƒªãƒƒã‚¯
                                    æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå³ä¸Šï¼‰:
                                        - ntp1.jst.mfeed.ad.jp, ãƒ—ãƒ¼ãƒ«ï¼ˆã«ãƒã‚§ãƒƒã‚¯ï¼‰, ä½¿ç”¨ï¼ˆã«ãƒã‚§ãƒƒã‚¯ï¼‰
                                    ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ™‚åˆ»ï¼ˆå³ä¸Šï¼‰: ã‚ªãƒ³
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                root ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: root
                                ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ:
                                    ãƒ•ãƒ«ãƒãƒ¼ãƒ : user1  #template: __VM_UserName__
                                    ãƒ¦ãƒ¼ã‚¶ãƒ¼å: user1  #template: __VM_UserName__
                                    ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: user1  #template: __VM_UserName__
                                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®é–‹å§‹ ãƒœã‚¿ãƒ³:  #// ç´„10åˆ†å¾…ã¤
                            ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹• ãƒœã‚¿ãƒ³:
                            é›»æºã‚ªãƒ•:
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã—ã¦OSã‚’èµ·å‹•ã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> è¨­å®šï¼ˆå³ä¸Šï¼‰
                            å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆ.iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’å–ã‚Šé™¤ãã¾ã™:
                                è¨­å®š >> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>> .iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> å‰²ã‚Šå½“ã¦ã‚’é™¤å»
                                    #// è‡ªå‹•çš„ã«é™¤å»ã•ã‚Œã¦ã„ã‚‹ã¨ãã¯æ“ä½œä¸è¦ã§ã™
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼(2): VirtualBox >> èµ·å‹•ï¼ˆå³ä¸Šï¼‰
                            License Information:
                                ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„ã«åŒæ„ã—ã¾ã™: ãƒã‚§ãƒƒã‚¯
                                å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                è¨­å®šã®å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                            ã‚µã‚¤ãƒ³ã‚¤ãƒ³:
                            ã‚ˆã†ã“ãç”»é¢:
                                Welcome: æ—¥æœ¬èª
                                å…¥åŠ›: æ—¥æœ¬èª
                                ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼:
                                    ä½ç½®æƒ…å ±ã‚µãƒ¼ãƒ“ã‚¹: ã‚ªãƒ•
                                ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ã‚¹ã‚­ãƒƒãƒ—
                                CentOS Linux ã‚’ä½¿ã„å§‹ã‚ã‚‹ ãƒœã‚¿ãƒ³:
                            åˆã‚ã¦ä½¿ã†æ–¹ã¸:
                                Ã— ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰:
                    Guest Additions ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å…±æœ‰ãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                        å‚è€ƒ: https://qiita.com/kichise/items/cd486ae6ea88efd88c20
                        å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: CentOS >> ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ï¼ˆå·¦ä¸Šï¼‰>> ç«¯æœ«
                            bash:
                                - su -
                                - sudo dnf group install -y "Development Tools"  #// ç´„5åˆ†
                                - sudo dnf install -y  elfutils-libelf-devel
                        OSã‚’æœ€æ–°ã«æ›´æ–°ã—ã¾ã™:  #keyword: dnf upgrade
                            - sudo dnf clean all
                            - sudo dnf check-update
                            - sudo dnf -y upgrade  #// ç´„10åˆ†
                        å†èµ·å‹•ã—ã¾ã™:
                            - sudo shutdown -r now  #// å†èµ·å‹•ã«ç´„3åˆ†
                        ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                        CDã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ¿å…¥ã—ã¾ã™:
                            VirtualBox >> ãƒ‡ãƒã‚¤ã‚¹ >> Guest Additions CD ã‚¤ãƒ¡ãƒ¼ã‚¸ã®æŒ¿å…¥  #// ç´„10ç§’å¾…ã¤
                        è‡ªå‹•èµ·å‹•ã—ãªã„ã¨ã:
                            CentOS >> ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ >> ãƒ•ã‚¡ã‚¤ãƒ« >> VBox_GAs____ >> ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®å®Ÿè¡Œï¼ˆå³ä¸Šï¼‰
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            - è‡ªå‹•èµ·å‹•ã—ãŸã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ >> å®Ÿè¡Œã™ã‚‹ï¼ˆå³ä¸‹ï¼‰
                            - ç®¡ç†è€…ï¼ˆrootï¼‰ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›  #// ç´„3åˆ†
                            - Press Return to close this window ã¨è¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€Enter ã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™
                            - CentOS >> â–¼ï¼ˆå³ä¸Šï¼‰>> é›»æº ãƒœã‚¿ãƒ³ >> å†èµ·å‹•  #// ç´„1åˆ†
                        ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™(2):
                        ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚’å…±æœ‰ã—ã¾ã™:
                            VirtualBox >> ãƒ‡ãƒã‚¤ã‚¹ >> ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å…±æœ‰ >> åŒæ–¹å‘  #// æ•°ç§’å¾…ã¤(?)
                        VirtualBox ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚µã‚¤ã‚ºã‚’é©åº¦ãªå¤§ãã•ã«å¤‰æ›´ã—ã¾ã™:
                            #// CentOS ã®ç”»é¢ã‚µã‚¤ã‚ºãŒ VirtualBox ã® ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ ã‚µã‚¤ã‚º ã«è¿½å¾“ã—ã¾ã™
                    ä¸‹è¨˜ã€Œsudo ãŒä½¿ãˆã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€:
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ä¸‹è¨˜ã€Œå…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€:
                CentOS7:  #// CentOS 7 ã‚’ VirtualBox ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ Docker ãªã©ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚‚ã‚ã‚Šã¾ã™
                    è¨­å®š: #settings:
                        __VM_UserName__: user1  #// SSH ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨åˆã‚ã›ã‚‹ã¨ SSH ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’çœç•¥ã§ãã¾ã™
                        __VM_MemorySize__: 2048MB
                        __VM_HDD_Size__: 32GB
                        __SharedName__: share  #// å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è­˜åˆ¥å
                    VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        - https://www.virtualbox.org/ >> Download VirtualBox X.X >> Windows hosts
                        - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šVirtualBox-6.1.18-142142-Win.exeï¼‰ã‚’é–‹ãã¾ã™
                        - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                        - ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                        - æ—¥æœ¬èªè¡¨ç¤ºã«ã—ã¾ã™  VirtualBox >> File >> Preferenes >> Language >> æ—¥æœ¬èªï¼ˆæœ€ä¸‹è¿‘ãï¼‰
                    CentOS ã® .iso ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                        #// ã‚µã‚¤ã‚ºã¯ç´„4.5GB
                        - https://www.centos.org/ >> CentOS Linux >> 7 (2009) >> ISO åˆ— >> x86_64
                        - The following mirrors in your region should have the ISO images available ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                        - ä¾‹ CentOS-7-x86_64-DVD-2009.iso
                    ä»®æƒ³ãƒã‚·ãƒ³ã‚’æ–°è¦ä½œæˆã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> æ–°è¦ï¼ˆå³ä¸Šï¼‰
                        åå‰: CentOS-7  #// ä¾‹
                        ãƒã‚·ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: ï¼ˆå¤‰æ›´ã—ãªã„ï¼‰
                        ã‚¿ã‚¤ãƒ—: Linux  #// å¤‰æ›´ã—ãªã„
                        ãƒãƒ¼ã‚¸ãƒ§ãƒ³: Red Hat (64-bit)   #// å¤‰æ›´ã—ãªã„
                        ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚º: 2048MB  #template: __VM_MemorySize__
                        ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã‚’ä½œæˆã™ã‚‹:
                        ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—: VDI
                        ãƒã‚§ãƒƒã‚¯ã™ã‚‹: å›ºå®šã‚µã‚¤ã‚º
                        ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€: C:\Users\____\VirtualBox VMs\____ ï¼ˆå¤‰æ›´ã—ãªã„ï¼‰
                        ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ã‚µã‚¤ã‚º: 32GB  #template: __VM_HDD_Size__
                    CentOS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        VM ã®å‘¨è¾ºã®è¨­å®š:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> è¨­å®šï¼ˆå³ä¸Šï¼‰
                            å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆ.iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’è¨­å®šã—ã¾ã™:
                                è¨­å®š >> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>> å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®è¿½åŠ ï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ IDEã®å³ï¼‰ >>
                                    è¿½åŠ ï¼ˆå·¦ä¸Šï¼‰>> ï¼ˆä¾‹ï¼‰ CentOS-7-x86_64-DVD-2009.iso >> é¸æŠ
                            OK ãƒœã‚¿ãƒ³:
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã—ã¦OSã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> èµ·å‹•ï¼ˆå³ä¸Šï¼‰>> Install CentOS Linux 7ï¼ˆã‚«ãƒ¼ã‚½ãƒ«ã‚­ãƒ¼ã§é¸æŠã—ã¦Enterã‚­ãƒ¼ï¼‰
                            ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ ãƒœã‚¿ãƒ³:  #// ä»®æƒ³ãƒã‚·ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                                #// ãƒã‚¦ã‚¹çµ±åˆæ©Ÿèƒ½ãŒã‚ªãƒ•ã®ã¨ãï¼ˆOSã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰ï¼‰ã«ä»®æƒ³ãƒã‚·ãƒ³ã§ãƒã‚¦ã‚¹ãŒæ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                            ï¼ˆå³å´ã®ï¼‰Ctrlã‚­ãƒ¼: #// ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã‚’çµ‚äº†ã—ã¾ã™ã€‚Ctrlã‚­ãƒ¼ã§ã‚ã‚‹ã“ã¨ã¯ VirtualBoxã®å³ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™
                            Language: Japanese >> æ—¥æœ¬èª >> ç¶šè¡Œ
                            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¦‚è¦:
                                ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰: æ—¥æœ¬èª
                                è¨€èªã‚µãƒãƒ¼ãƒˆ: æ—¥æœ¬èª
                                ç¶šè¡Œ ãƒœã‚¿ãƒ³:
                                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆ:
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ãƒ›ã‚¹ãƒˆå:
                                    ï¼ˆæ¥ç¶šï¼‰ï¼ˆå³ä¸Šï¼‰: ã‚ªãƒ³
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                æ™‚åˆ»ã¨æ—¥ä»˜:  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¨­å®šã—ãŸå¾Œã§è¨­å®šã—ã¾ã™
                                    åœ°åŸŸ: ã‚¢ã‚¸ã‚¢/æ±äº¬  #// åœ°å›³ä¸Šã‚’ã‚¯ãƒªãƒƒã‚¯
                                    ï¼ˆã—ãªãã¦ã‚‚ã‚ˆã„ï¼‰æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå³ä¸Šï¼‰:
                                        - ntp1.jst.mfeed.ad.jp, ä½¿ç”¨ï¼ˆã«ãƒã‚§ãƒƒã‚¯ï¼‰
                                        - ãã®ä»–, ä½¿ç”¨ï¼ˆã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™ï¼‰
                                    ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ™‚åˆ»ï¼ˆå³ä¸Šï¼‰: ã‚ªãƒ³
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®é¸æŠ:
                                    ãƒ™ãƒ¼ã‚¹ç’°å¢ƒ: ã‚µãƒ¼ãƒãƒ¼(GUI ä½¿ç”¨)
                                    é¸æŠã—ãŸç’°å¢ƒã®ã‚¢ãƒ‰ã‚ªãƒ³: ï¼ˆãƒã‚§ãƒƒã‚¯ãªã—ï¼‰
                                    å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®é–‹å§‹ ãƒœã‚¿ãƒ³:
                                    root ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: root
                                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ:  #// SSH ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«åˆã‚ã›ã‚‹ã¨ SSH ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’çœç•¥ã§ãã¾ã™
                                        ãƒ•ãƒ«ãƒãƒ¼ãƒ : user1  #template: __VM_UserName__
                                        ãƒ¦ãƒ¼ã‚¶ãƒ¼å: user1  #template: __VM_UserName__
                                        ãƒã‚§ãƒƒã‚¯: ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç®¡ç†è€…ã«ã™ã‚‹
                                        ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: user1  #template: __VM_UserName__
                                    #// ç´„10åˆ†å¾…ã¤
                            å†èµ·å‹• ãƒœã‚¿ãƒ³:
                        VMï¼ˆä»®æƒ³ãƒã‚·ãƒ³ï¼‰ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¾ã™:  #// èµ·å‹•ã™ã‚‹OSã‚’é¸æŠã™ã‚‹ç”»é¢ã«ãªã£ã¦ã‹ã‚‰
                            ï¼ˆVMã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹ï¼‰ >> ä»®æƒ³ãƒã‚·ãƒ³ã®é›»æºã‚ªãƒ• >> OK
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã—ã¦OSã‚’èµ·å‹•ã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> è¨­å®šï¼ˆä¸Šï¼‰
                            å…‰å­¦ãƒ‰ãƒ©ã‚¤ãƒ–ã®ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆ.iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’å–ã‚Šé™¤ãã¾ã™:
                                è¨­å®š >> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>> .iso ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> å‰²ã‚Šå½“ã¦ã‚’é™¤å»
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼(2): VirtualBox >> èµ·å‹•ï¼ˆä¸Šï¼‰
                            License Information:
                                ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„ã«åŒæ„ã—ã¾ã™: ãƒã‚§ãƒƒã‚¯
                                å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰:
                                è¨­å®šã®å®Œäº† ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    user1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #template: __VM_UserName__
                    ã‚ˆã†ã“ãç”»é¢ã«å…¥åŠ›ã—ã¾ã™:
                        ã‚ˆã†ã“ãç”»é¢:
                            Welcome: æ—¥æœ¬èª
                            å…¥åŠ›: æ—¥æœ¬èª
                            ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼:
                                ä½ç½®æƒ…å ±ã‚µãƒ¼ãƒ“ã‚¹: ã‚ªãƒ•
                            ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ã‚¹ã‚­ãƒƒãƒ—
                            CentOS Linux ã‚’ä½¿ã„å§‹ã‚ã‚‹ ãƒœã‚¿ãƒ³:
                        åˆã‚ã¦ä½¿ã†æ–¹ã¸:
                            Ã— ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰:
                    ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ ã‚»ãƒ¼ãƒãƒ¼ã‚’ç„¡åŠ¹ã«ã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: CentOS >> ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ >> ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ« >> è¨­å®š >> é›»æºç®¡ç†
                        ãƒ–ãƒ©ãƒ³ã‚¯ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³: ã—ãªã„
                    sudo ãŒä½¿ãˆã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: CentOS >> ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ >> ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ« >> ç«¯æœ«
                        shell: sudo pwd
                            #// sudo ã§ããªã„ã¨ã€Œsudoers ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«ã‚ã‚Šã¾ã›ã‚“ã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã« sudo ãŒã§ãã‚‹æ¨©é™ã‚’ä¸ãˆã¾ã™:
                            - su -   #// å·¦è¨˜å®Ÿè¡Œå¾Œã€root ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™
                            - sudo visudo :
                                é–‹ã„ãŸ vi ã§æœ€ã‚‚ä¸‹ã«ç§»å‹•ã—ã¾ã™: Ctrl+n, Ctrl+p, ix, Esc ZZ
                                ä¸‹è¨˜ %wheel ã®ã‚’æ¢ã—ã¾ã™: |
                                    %wheel  ALL=(ALL)  ALL
                                è¦‹ã¤ã‹ã£ãŸè¡Œã®ä¸‹ã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚ __UserName__ ã¯ç½®ãæ›ãˆã¦ãã ã•ã„:
                                    __UserName__  ALL=(ALL)  ALL
                            - exit  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’çµ‚äº†ã—ã¾ã™
                    ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒä½¿ãˆã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå·¦ä¸Šï¼‰ >> FireFox
                        VMï¼ˆGuest OSï¼‰ã‹ã‚‰ã®ã¿æ¥ç¶šã§ããªã„ã¨ãï¼ˆHost OS ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒè¦‹ãˆã‚‹ã¨ãï¼‰ã¯ proxy ã®è¨­å®šã‚’ã—ã¾ã™:
                            CentOS7 ã« proxy ã‚’è¨­å®šã—ã¾ã™:  #keyword: CentOS7 Linux proxy, CentOS7 bash proxy
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: CentOS >> ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ >> ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ« >> ç«¯æœ«
                                sudo nano /etc/profile : | # æœ€çµ‚è¡Œã«ä¸‹è¨˜ã‚’è¿½åŠ ã€‚å†èµ·å‹•æ™‚ã«æœ‰åŠ¹ã«ãªã‚‹ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã„ã‚‹ã ã‘ã§ã™
                                    #iidabashi
                                    MY_PROXY_URL="http://___.___.___.___:____/"
                                    HTTP_PROXY=$MY_PROXY_URL
                                    HTTPS_PROXY=$MY_PROXY_URL
                                    FTP_PROXY=$MY_PROXY_URL
                                    NO_PROXY=127.0.0.1, localhost, 192.168.___.___
                                    http_proxy=$MY_PROXY_URL
                                    https_proxy=$MY_PROXY_URL
                                    ftp_proxy=$MY_PROXY_URL
                                    no_proxy=127.0.0.1, localhost, 192.168.___.___

                                    export HTTP_PROXY HTTPS_PROXY FTP_PROXY NO_PROXY http_proxy https_proxy ftp_proxy no_proxy
                                no_proxy:  #keyword: CentOS7 no_proxy
                                    #search: no_proxy
                                    CSV å½¢å¼:
                                        ã‚µãƒ³ãƒ—ãƒ«:
                                            - no_proxy=127.0.0.1, localhost, 192.168.___.___
                                    ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰:  #// * ã¯å¤šãã®å ´åˆç„¡åŠ¹ã§ã™
                                        å‚è€ƒ: https://access.redhat.com/documentation/ja-jp/openshift_container_platform/3.9/html/installation_and_configuration/install-config-http-proxies
                                        ã‚µãƒ³ãƒ—ãƒ«:
                                            - no_proxy=192.168.*  #// * ã¯ï¼‘ã¤ã ã‘æŒ‡å®šã§ãã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€å¤šãã®å ´åˆç„¡åŠ¹ã§ã™
                                    ç¾åœ¨ã®ã‚·ã‚§ãƒ«:
                                        export no_proxy="127.0.0.1, localhost, 192.168.___.___"
                                shell:
                                    - source /etc/profile
                                    - echo $http_proxy  #// ãƒ—ãƒ­ã‚­ã‚·ã® URL ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨
                                    - wget http://google.com/
                                    - cat index.html  #// ä½•ã‹è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨
                                    - rm index.html
                                    - reboot
                                åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                    CentOS ã‚’æœ€æ–°ã«ã—ã¾ã™ï¼ˆyum updateï¼‰:  #keyword: yum update
                        ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå·¦ä¸Šï¼‰ >> ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ« >> ç«¯æœ«:
                            - sudo rm /var/run/yum.pid
                            - yum clean all
                            - sudo yum update  #// ã™ã¹ã¦ y ã‚’é¸ã³ã¾ã™
                        ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                            - ã‚±ãƒ¼ã‚¹:
                                ã‚¨ãƒ©ãƒ¼: |
                                    "Failed to connect to 2001:____:___::_:__: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å±Šãã¾ã›ã‚“"
                                        :
                                    Cannot find a valid baseurl for repo: base/7/x86_64
                                å¯¾å‡¦:
                                    yum ãŒä½¿ã† proxy ã‚’è¨­å®šã—ã¾ã™: #keyword: yum proxy  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»¥å¤–ã§ sudo ã™ã‚‹ã¨ãã«å¿…è¦ï¼Ÿ
                                        sudo vi /etc/yum.conf : | # æœ€çµ‚è¡Œã«ä¸‹è¨˜ã‚’è¿½åŠ 
                                            proxy=http://___.___.___.___:____/
                                    yum lock ã‚’è§£é™¤ã—ã¾ã™:
                                        bash: sudo rm /var/run/yum.pid
                            - ãƒ¡ãƒ¢:
                                ã‚¨ãƒ©ãƒ¼: "Failed to connect to ____:____:___::_:__: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å±Šãã¾ã›ã‚“"
                                åŸå› : ____:____:___::_:__ ã¯ IPv6 ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™ã€‚ IPv6ã‚’ç„¡åŠ¹ã«ã—ã¦ãã ã•ã„
                                å¯¾å‡¦:
                                    IPv6 ã‚’ç„¡åŠ¹ã«ã—ã¾ã™:
                                        - sudo nano /etc/sysctl.conf : |  #// æœ€çµ‚è¡Œã«ä¸‹è¨˜ã‚’è¿½åŠ 
                                            net.ipv6.conf.all.disable_ipv6 = 1
                                            net.ipv6.conf.default.disable_ipv6 = 1
                                        - shell: |
                                            sudo sysctl -p
                                            ifconfig | grep inet  #// inet6 ãŒãªã„ã“ã©
                                            sudo yum clean all
                                            reboot
                                    ã¾ãŸã¯:
                                        - echo "ip_resolve=4" >> sudo tee /etc/yum.conf
                                            #// echo "timeout=120"  >> sudo tee /etc/yum.conf
                                        - reboot  #// å¿…è¦ï¼Ÿ
                    Guest Additions ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å…±æœ‰ãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™  #keyword: Guest Additions
                        å‚è€ƒ: https://qiita.com/hiroseabook/items/dc7a9c9ce9e49f15ed45
                        shell:
                            sudo rm /var/run/yum.pid
                            sudo yum install -y bzip2 gcc make kernel kernel-devel kernel-headers dkms gcc-c++  #// ç´„2åˆ†
                        CDã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ¿å…¥ã—ã¾ã™:
                            VirtualBox ã® VM ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ >> ãƒ‡ãƒã‚¤ã‚¹ >> Guest Additions CD ã‚¤ãƒ¡ãƒ¼ã‚¸ã®æŒ¿å…¥  #// è‡ªå‹•å®Ÿè¡Œã—ãªã„
                        shell(2):
                            - sudo mkdir -p /mnt/cdrom/
                            - sudo mount -r /dev/cdrom/ /mnt/cdrom/
                            - sudo sh /mnt/cdrom/VBoxLinuxAdditions.run
                            - reboot  #// èµ·å‹•ã«ç´„2åˆ†ã‹ã‹ã‚Šã¾ã™
                            - åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                        VirtualBox ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚µã‚¤ã‚ºã‚’é©åº¦ãªå¤§ãã•ã«å¤‰æ›´ã—ã¾ã™:
                            #// CentOS ã®ç”»é¢ã‚µã‚¤ã‚ºãŒ VirtualBox ã® ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ ã‚µã‚¤ã‚º ã«è¿½å¾“ã—ã¾ã™
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚’å…±æœ‰ã—ã¾ã™:
                            #// ãƒ›ã‚¹ãƒˆOS ã‹ã‚‰ã‚²ã‚¹ãƒˆOS ã« SSH æ¥ç¶šã™ã‚‹ã¨ãã¯ä¸è¦ã§ã—ã‚‡ã†
                            VirtualBox ã® VM ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ >> ãƒ‡ãƒã‚¤ã‚¹ >> ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å…±æœ‰ >> åŒæ–¹å‘  #// æ•°ç§’å¾…ã¤(?)
                            #// Windows ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ãŒä½¿ãˆãªããªã£ãŸã‚‰ã€VM ã‚’å†èµ·å‹•ã—ã¦ã€
                            #// åŒæ–¹å‘ã®ä»£ã‚ã‚Šã«ã€ãƒ›ã‚¹ãƒˆOSã‹ã‚‰ã‚²ã‚¹ãƒˆOSã¸ ã¨ ã‚²ã‚¹ãƒˆOSã‹ã‚‰ãƒ›ã‚¹ãƒˆOSã¸ ã«é©å®œåˆ‡ã‚Šæ›¿ãˆã¾ã™
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™:  #// Windows ã® C:\Users\____\share ã¨ Linux ã® ~/share ã‚’å…±æœ‰ã™ã‚‹å ´åˆ
                        #keyword: VirtualBox shared folder
                        å‚è€ƒ: https://jade.alt-area.jp/archives/769
                        ãƒ›ã‚¹ãƒˆOSå´ã®è¨­å®š:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> VM >> è¨­å®šï¼ˆä¸Šï¼‰ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆå·¦ä¸‹ï¼‰>> æ–°è¦å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ï¼ˆé’ã„ãƒœã‚¿ãƒ³ï¼‰
                            ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹: C:\Users\____\share  #// ãƒ›ã‚¹ãƒˆOSã«æ‰‹å‹•ã§ä½œã£ã¦ãã ã•ã„
                            ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å: share  #template: __SharedName__
                            #// ãƒã‚§ãƒƒã‚¯ã¯å…¥ã‚Œãªã„
                            OK ãƒœã‚¿ãƒ³:
                        ã‚²ã‚¹ãƒˆOSå´ã®è¨­å®š:
                            #// Guest Additions ãŒã¾ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã‹ã£ãŸã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: Guest Additions
                            ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ vboxsf ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™:
                                - su -
                                - gpasswd --add user1 vboxsf  #template: __VM_UserName__
                                - exit
                                - ï¼ˆLinux ã‚’ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆï¼‰
                                - ï¼ˆLinux ã«ã‚µã‚¤ãƒ³ã‚¤ãƒ³ï¼‰
                            å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™:
                                - mkdir -p  ~/share
                                - id user1  #// uid, gid ã‚’è¡¨ç¤ºã—ã¾ã™  #template: __VM_UserName__
                                - sudo nano /etc/fstab : |
                                        share  /home/user1/share  vboxsf  defaults,uid=__UID__,gid=__GID__  0  0
                                    #template-at(-1): __SharedName__  /home/__VM_UserName__/share
                                - sudo mount -a
                            å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                                - ls  ~/share
                            ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                                - #// å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„
                                    æ‰‹é †: ls /vagrant
                                        ï¼ˆå‡ºåŠ›ãªã—ï¼‰
                                    å¯¾å‡¦:
                                        sudo mount -a
                                        #// sudo mount -a ã¯å†ªç­‰æ€§ã‚ã‚Šã€‚VM ã‚’å†èµ·å‹•ã—ã¦ã‚‚å•é¡Œãªã—ï¼ˆä½•ã‚‚ã—ãªãã¦ã‚‚ãƒã‚¦ãƒ³ãƒˆæ¸ˆã¿ï¼‰
                                - #// /sbin/mount.vboxsf: mounting failed with the error: No such device
                                    æ‰‹é †: Linux èµ·å‹•æ™‚
                                    ã‚¨ãƒ©ãƒ¼:
                                        emergency ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚Šã€ãƒ­ã‚°ã‚’è¦‹ã‚‹ã¨ã€: |
                                            /sbin/mount.vboxsf: mounting failed with the error: No such device
                                    å¯¾å‡¦:
                                        ä¸Šè¨˜ /etc/fstab ã‹ã‚‰ share ã®è¡Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¾ã™
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚’å…±æœ‰ã—ã¾ã™: #search: Guest Additions
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰VM ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:
                        - VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™
                        - VirtualBox >> VMï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¯ãƒ­ãƒ¼ãƒ³
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        å‚è€ƒ: https://docs.docker.com/engine/install/centos/
                        Docker æœ¬ä½“ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            - sudo yum remove  docker  docker-client  docker-client-latest \
                                docker-common  docker-latest \
                                docker-latest-logrotate  docker-logrotate \
                                docker-engine  #// åˆã‚ã¦å®Ÿè¡Œã™ã‚‹ã¨ãã¯ä½•ã‚‚å‰Šé™¤ã•ã‚Œã¾ã›ã‚“
                            - sudo yum install -y yum-utils
                            - sudo yum-config-manager  --add-repo \
                                https://download.docker.com/linux/centos/docker-ce.repo
                            - sudo yum install docker-ce docker-ce-cli containerd.io  #// ã™ã¹ã¦ y ã‚’é¸ã³ã¾ã™
                        ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ LAN ã®å ´åˆ:
                            - sudo systemctl edit docker : |
                                [Service]
                                Environment = 'http_proxy=http://___.___.___.___:____' 'https_proxy=http://___.___.___.___:____'
                            - mkdir ~/.docker
                            - nano ~/.docker/config.json : |  #search: Docker proxy Linux
                                {
                                    "proxies": {
                                        "default": {
                                        "httpProxy": "http://___.___.___.___:____",
                                        "httpsProxy": "http://___.___.___.___:____"
                                        }
                                    }
                                }
                        é€šå¸¸ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                            - sudo usermod -aG docker $USER
                            - newgrp docker
                        Docker ã‚’èµ·å‹•ã—ã¾ã™:
                            - sudo systemctl start docker
                            - sudo systemctl enable docker
                            - service docker status  #// active (running) ã¨ç·‘è‰²ã§è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨
                            - docker run hello-world
                                #// æ­£å¸¸çµ‚äº†ã—ãŸã‚‰ã€è¡¨ç¤ºå†…å®¹ã®ä¸€éƒ¨ã«ä¸‹è¨˜ãŒå«ã¾ã‚Œã¾ã™ã€‚
                                #// Hello from Docker!
                                #// This message shows that your installation appears to be working correctly.
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰Docker Compose ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        - curl -L https://github.com/docker/compose/releases/download/1.24.0/docker-compose-`uname -s`-`uname -m` > docker-compose
                        - sudo mv docker-compose /usr/local/bin/docker-compose
                        - sudo chmod +x /usr/local/bin/docker-compose
                        - docker-compose --version
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚‚ã†ï¼‘ã¤è¿½åŠ ã—ã¾ã™(CentOS7):
                        å‚è€ƒ: https://qiita.com/Zen-GoTo-May/items/3aab7b6c76e8a857e717
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™: sudo useradd user2
                        ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™: sudo passwd user2
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰sudo æ¨©é™ã‚’è¨­å®šã—ã¾ã™: ä¸Šè¨˜ã€Œsudo ãŒä½¿ãˆã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§: sudo cat /etc/passwd
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™: sudo userdel -r user2  #// -r ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ /home/user2 ã‚‚å‰Šé™¤ã•ã‚Œã¾ã™
                    ï¼ˆå¿…è¦ã«ãªã£ãŸã‚‰ï¼‰ãƒ¡ãƒ¢ãƒªãƒ¼ã®å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™(VirtualBox + CentOS7):  #keyword: VirtualBox memory size
                        VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> (å¯¾è±¡ã® VM) >> è¨­å®šï¼ˆä¸Šï¼‰>> ã‚·ã‚¹ãƒ†ãƒ  >> ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ¼
                        #// Linux OS å´ã®è¨­å®šã¯ã‚ã‚Šã¾ã›ã‚“
                    ï¼ˆå¿…è¦ã«ãªã£ãŸã‚‰ï¼‰ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™(VirtualBox + CentOS7):  #search: VirtualBox VHDD size
                        å‚è€ƒ: #ref: https://cream-worker.blog.jp/archives/1077340749.html
                        SSH ã§ VM ã«æ¥ç¶šã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™ (2):
                        ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ç‰©ç†å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:  #keyword: increase VirtualBox VHDD size
                            .vdi ã®å ´åˆ:  #// ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®æ‹¡å¼µå­ãŒ .vdi ã®å ´åˆ
                                â—æ³¨æ„: .vmdk ã«å¯¾ã—ã¦ä»¥é™ã®æ“ä½œã‚’è¡Œã†ã¨ãƒ‡ã‚£ã‚¹ã‚¯ãŒä½¿ãˆãªããªã‚Šã¾ã™
                                ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚Šã¾ã™:
                                ãƒ‡ã‚£ã‚¹ã‚¯ã®ã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã—ã¾ã™:
                                    VirtualBox >> ãƒ•ã‚¡ã‚¤ãƒ« >> ãƒ„ãƒ¼ãƒ« >> ä»®æƒ³ãƒ¡ãƒ‡ã‚£ã‚¢ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ï¼ˆå¯¾è±¡ã® .vdi ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰>>
                                        å±æ€§ ã‚¿ãƒ–ï¼ˆä¸‹ï¼‰ >> ã‚µã‚¤ã‚º >> é©ç”¨ï¼ˆå³ä¸‹ï¼‰
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                            .vmdk ã®å ´åˆ:  #// ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®æ‹¡å¼µå­ãŒ .vmdk ã®å ´åˆ
                                ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚Šã¾ã™:
                                ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ãƒ•ã‚¡ã‚¤ãƒ« ã®å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:
                                    .vdi å½¢å¼ã«å¤‰æ›ã—ã¦å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:  #// .vmdk â†’ .vdi  â†’ resized .vdi â†’ resized .vmdk
                                        Git bash:  #focus: __Name__, __Name__-2, 102400  #// 61440=100*1024=60GB  #template: __OldHddName__, __NewHddName__,
                                            ï¼ˆVM ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ï¼‰>>
                                            (Git bash) cd  "$HOME/VirtualBox VMs/____"
                                            export PATH="/c/Program Files/Oracle/VirtualBox:$PATH"
                                            ï¼ˆ2å›ç›®ä»¥é™ï¼‰
                                                VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰ã‹ã‚‰ "__Name__.vdi" ãŒã‚ã‚Œã°å‰Šé™¤
                                                VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰ã‹ã‚‰ "__Name__-2.vmdk" ã‚’å‰Šé™¤
                                            VBoxManage clonemedium  "__Name__.vmdk"  "__Name__.vdi"  --format vdi
                                            VBoxManage modifymedium "__Name__.vdi"  --resize 102400
                                            VBoxManage clonemedium  "__Name__.vdi"  "__Name__-2.vmdk"  --format vmdk
                                        #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                                            #// æ›¸ãã‹ã‘
                                            #template-at(-3): "__OldHddName__.vdi"  "__NewHddName__.vmdk"
                                    .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™:  #keyword: switch VirtualBox VHDD
                                        #// ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒã‚ã‚‹ã“ã¨
                                        VirtualBox: |
                                            VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰>> 
                                                "__Name__.vmdk"ï¼ˆ__Name__-2.vmdk ã§ã¯ãªã„ï¼‰>> è§£æ”¾ï¼ˆä¸Šï¼‰>> è§£æ”¾ >>
                                            ï¼ˆVMï¼‰ï¼ˆå·¦ï¼‰>> è¨­å®šï¼ˆä¸Šï¼‰>> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>>ï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼:IDE ã®å³ï¼‰ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®è¿½åŠ  ãƒœã‚¿ãƒ³ >>
                                                "__Name__-2.vmdk"ï¼ˆã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ï¼‰>> OK
                                        #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                                            #// æ›¸ãã‹ã‘
                                            #template-at(-3): "__NewHddName__.vmdk"
                                    å¤ã„ .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™: #keyword: delete VirtualBox VHDD
                                        #// ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒã‚ã‚‹ã“ã¨
                                        VirtualBox: |
                                            VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰>> 
                                                "__Name__.vdi" >> é™¤å»ï¼ˆä¸Šï¼‰ >> é™¤å» >> å‰Šé™¤ >>
                                    æ–‡æ›¸è¨­å®š: #settings:
                                        __OldHddName__: __Name__
                                        __NewHddName__: __Name__-2
                                    #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                ï¼ˆ2å›ç›®ä»¥é™ã€ã‚„ã‚Šç›´ã™å ´åˆï¼‰.vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ã—ã¾ã™:  #// ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰ã§ã®æ“ä½œã¯ä¸è¦ã‹ã‚‚ï¼Ÿ
                                    VM ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ >>
                                    VirtualBox >> ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆ.vmdk ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰>> è§£æ”¾ï¼ˆä¸Šï¼‰>> é™¤å»ï¼ˆä¸Šï¼‰>>
                                    .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚³ãƒ”ãƒ¼ >>
                                    VirtualBox >>ï¼ˆVMï¼‰>> è¨­å®šï¼ˆä¸Šï¼‰>> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆå·¦ï¼‰>> ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®è¿½åŠ  ãƒœã‚¿ãƒ³ï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼:IDEï¼ˆä¸Šï¼‰ã®å³ï¼‰>>
                                    è¿½åŠ ï¼ˆä¸Šï¼‰>>ï¼ˆ.vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ï¼‰>>ï¼ˆ.vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ï¼‰>> OK >>
                                    VM èµ·å‹•
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                            VM ã‚’èµ·å‹•ã—ã¾ã™:
                                VirtualBox ã® UI æ“ä½œã§èµ·å‹•ã€ã¾ãŸã¯ vagrant up
                            ã™ã§ã« OS ã«èªè­˜ã•ã‚Œã¦ã„ã‚‹ã‹èª¿ã¹ã¾ã™:
                                df  #// ä½¿ç”¨ç‡ãŒæ¸›ã£ã¦ã„ãŸã‚‰ã€ã™ã§ã« OS ã«èªè­˜ã•ã‚Œã¦ã„ã¾ã™
                            ï¼ˆå¿…è¦ãªã‚‰ï¼‰sda2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:  #// sda2 ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ãŸãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹å ´åˆã¯å‰Šé™¤ã§ãã¾ã™
                                â—æ³¨æ„: sda2 ã®å†…å®¹ã¯æ¶ˆãˆã¾ã™ã€‚è‡ªåˆ†ã§ sda2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸã¨ãã ã‘å®Ÿè¡Œã§ãã¾ã™ã€‚
                                sda2 ãŒã‚ã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¾ã™: |  #// ä¸‹è¨˜ã¯ sda2 ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ sda2 ã‚ã‚Š
                                    sudo fdisk /dev/sda
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): p
                                            Device Boot      Start         End      Blocks   Id  System
                                        /dev/sda1   *        2048    83886079    41942016   83  Linux
                                        /dev/sda2        83886080   125829119    20971520   8e  Linux LVM
                                    Ctrl + C
                                sda2 ã‚’ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™: |  #// /sda2 ã«ãƒã‚¦ãƒ³ãƒˆã—ã¦ã‚ã£ãŸå ´åˆ
                                    sudo vi /etc/fstab  #// ä¸‹è¨˜ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
                                        /dev/sda2 /sda2 xfs defaults 0 0
                                    sudo umount /dev/sda2
                                    sudo reboot
                                sda2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ ã‚’å‰Šé™¤ã—ã¾ã™: |
                                    su -
                                    fdisk /dev/sda
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): d                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†å‰Šé™¤ã—ã¾ã™
                                        ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç•ªå· (1,2, default 2): 2  #// è«–ç†å‰Šé™¤ã™ã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³
                                        Command (m for help): w
                                    reboot
                            Rocky Linux 9 ext4 ã®å ´åˆ: #keyword: increase Rocky Linux 9 ext4 VHDD size
                                ãƒ‡ã‚£ã‚¹ã‚¯ã®ä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™: |
                                    $ df -h    #focus: 100%
                                        Filesystem      Size  Used Avail Use% Mounted on
                                        devtmpfs        4.0M     0  4.0M   0% /dev
                                        tmpfs           3.8G     0  3.8G   0% /dev/shm
                                        tmpfs           1.6G   17M  1.5G   2% /run
                                        /dev/sda4       9.2G  8.8G     0 100% /
                                        /dev/sda3       469M  324M  116M  74% /boot
                                        /dev/sda2        63M  7.1M   56M  12% /boot/efi
                                        tmpfs           769M     0  769M   0% /run/user/1999
                                ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æ‹¡å¼µã—ã¾ã™:  #// /dev/sda4 ã‚’æ‹¡å¼µã™ã‚‹å ´åˆ
                                    $ sudo growpart /dev/sda 4  #search: growpart
                                ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ç¨®é¡ã‚’è¡¨ç¤ºã—ã¾ã™:
                                    $ mount | grep sda4
                                        /dev/sda4 on / type ext4 (rw,relatime)
                                type ext4 ã®å ´åˆã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ä¸Šã§ã®å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:
                                    $ sudo resize2fs /dev/sda4
                                çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™: |
                                    $ df -h    #focus: 5%
                                        Filesystem      Size  Used Avail Use% Mounted on
                                        devtmpfs        4.0M     0  4.0M   0% /dev
                                        tmpfs           3.8G     0  3.8G   0% /dev/shm
                                        tmpfs           1.6G   17M  1.5G   2% /run
                                        /dev/sda4       188G  8.8G  172G   5% /
                                        /dev/sda3       469M  324M  116M  74% /boot
                                        /dev/sda2        63M  7.1M   56M  12% /boot/efi
                                        tmpfs           769M     0  769M   0% /run/user/1999
                                    $ lsblk
                                        NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
                                        sda      8:0    0 191.1G  0 disk
                                        â”œâ”€sda1   8:1    0     2M  0 part
                                        â”œâ”€sda2   8:2    0    64M  0 part /boot/efi
                                        â”œâ”€sda3   8:3    0   511M  0 part /boot
                                        â””â”€sda4   8:4    0 190.5G  0 part /
                                    $ sudo fdisk -l
                                        Disk /dev/sda: 191.1 GiB, 205194919936 bytes, 400771328 sectors
                                        Disk model: VBOX HARDDISK
                                        Units: sectors of 1 * 512 = 512 bytes
                                        Sector size (logical/physical): 512 bytes / 512 bytes
                                        I/O size (minimum/optimal): 512 bytes / 512 bytes
                                        Disklabel type: gpt
                                        Disk identifier: F1F1F40B-2A76-42D7-AA4C-38ED8227DBD6

                                        Device       Start       End   Sectors   Size Type
                                        /dev/sda1       37      4095      4059     2M BIOS boot
                                        /dev/sda2     4096    135167    131072    64M EFI System
                                        /dev/sda3   135168   1181695   1046528   511M Linux filesystem
                                        /dev/sda4  1183754 400771294 399587541 190.5G Linux filesystem
                            LVM ã‚’ä½¿ã‚ãªã„å ´åˆ:  #// VM ã‚’æ–°è¦ä½œæˆã—ãŸã¨ãã« sda2 ãŒç„¡ã‹ã£ãŸå ´åˆ
                                sda1 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æ‹¡å¼µã—ã¾ã™: |
                                    su -
                                    fdisk /dev/sda
                                        Command (m for help): d                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†å‰Šé™¤ã—ã¾ã™
                                        Selected partition 1
                                        Partition 1 is deleted
                                        Command (m for help): n
                                        Partition type:
                                        p   primary (2 primary, 0 extended, 2 free)
                                        e   extended
                                        Select (default p): p
                                        Partition number (1-4, default 1):      #// Enter ã§ã‚ˆã„
                                        First sector (2048-209715199, default 2048): 
                                        Using default value 2048
                                        Last sector, +sectors or +size{K,M,G} (2048-209715199, default 209715199): 
                                        Using default value 209715199
                                        Partition 1 of type Linux and of size 100 GiB is set
                                        Command (m for help): a                #// Boot ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã¾ã™
                                        Selected partition 1
                                        Command (m for help): w
                                        The partition table has been altered!
                                        Calling ioctl() to re-read partition table.
                                        WARNING: Re-reading the partition table failed with error 16: Device or resource busy.
                                        The kernel still uses the old table. The new table will be used at
                                        the next reboot or after you run partprobe(8) or kpartx(8)
                                        Syncing disks.
                                    reboot
                                ãƒ•ã‚¡ã‚¤ãƒ« ã‚·ã‚¹ãƒ†ãƒ  ã®ã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã—ã¾ã™:  #// OS ãŒèªè­˜ã™ã‚‹ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã‚’ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ ã‚µã‚¤ã‚º ã«åˆã‚ã›ã¾ã™
                                    sudo xfs_growfs /dev/sda1
                                    df
                                #// ä»¥ä¸Š
                            LVM ã‚’ä½¿ã†å ´åˆ:  #// æœªç¢ºèª
                                OS ã«èªè­˜ã•ã›ã¾ã™:
                                    ï¼ˆå‚è€ƒï¼‰:
                                        ãƒ‡ã‚£ã‚¹ã‚¯ã®æ§‹é€ : #search: Linux storage partitions
                                        ã‚³ãƒãƒ³ãƒ‰:  #search: Linux file system commands
                                    çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™:
                                        sda2 ã« LVM ãŒã‚ã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¾ã™:
                                            pvs
                                                #// sda2 ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ LVM ã‚ã‚Š
                                    sda2 ãŒç„¡ã„å ´åˆ:
                                        sda2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æ–°è¦ä½œæˆã—ã¾ã™: |  #// é€”ä¸­ã§çµ‚äº†ã™ã‚‹ã¨ãã¯ Ctrl+C
                                            $ su -
                                            # fdisk /dev/sda
                                            ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): n
                                            Partition type:
                                            p   primary (2 primary, 0 extended, 2 free)
                                            e   extended
                                            Select (default p): p
                                            Partition number (2-4, default 2):      #// Enter ã§ã‚ˆã„
                                            First sector (83886080-125829119, default 83886080):       #// Enter ã§ã‚ˆã„
                                            Using default value 83886080
                                            Last sector, +sectors or +size{K,M,G} (83886080-125829119, default 125829119):       #// Enter ã§ã‚ˆã„
                                            Using default value 125829119
                                            Partition 2 of type Linux and of size 20 GiB is set

                                            Command (m for help): t
                                            Partition number (1,2, default 2):       #// Enter ã§ã‚ˆã„
                                            Hex code (type L to list all codes): 8e
                                            Changed type of partition 'Linux' to 'Linux LVM'

                                            ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): w                #// ä¿å­˜ã—ã¦çµ‚äº†
                                            # reboot  #// å†èµ·å‹•ã—ã¾ã™
                                        LVM ã®ç‰©ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¨è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä½œã‚Šã¾ã™:
                                            sudo yum install -y  lvm2
                                            su -
                                            pvcreate /dev/sda2
                                            vgcreate centos /dev/sda2
                                            lvcreate -l 100%FREE  -n roots  centos
                                        è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ xfs ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™:
                                            mkfs.xfs /dev/centos/roots
                                        ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™: |
                                            mkdir /sda2
                                            mount -t xfs  /dev/centos/roots  /sda2
                                            df -T
                                                Filesystem                Type     1K-blocks     Used Available Use% Mounted on
                                                ...
                                                /dev/mapper/centos/roots  xfs       20957184    32992  20924192   1% /sda2
                                            exit   #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™
                                        è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆã‚’è¨­å®šã—ã¾ã™:  #// OS ã‚’å†èµ·å‹•ã—ãŸã¨ãã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                                            bash: |
                                                sudo vi /etc/fstab  #// #VAGRANT-BEGIN ã®ä¸Šã€ã¾ãŸã¯æœ€çµ‚è¡Œã«ã€ä¸‹è¨˜ã‚’è¿½åŠ 
                                                    /dev/mapper/centos/roots /sda2 xfs defaults 0 0
                                        #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                    sda2 ãŒã‚ã‚‹å ´åˆ:  #// LVM ã‚ã‚Šãªã—ä¸¡æ–¹
                                        #// fdisk /dev/sda ã®ç¶šã
                                        sda2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æ‹¡å¼µã—ã¾ã™: |  #// é€”ä¸­ã§çµ‚äº†ã™ã‚‹ã¨ãã¯ Ctrl+C
                                            ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): d                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†å‰Šé™¤ã—ã¾ã™
                                            ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç•ªå· (1,2, default 2): 2  #// å‰Šé™¤ã™ã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³
                                            ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): n                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†ä½œæˆã—ã¾ã™
                                            Select (default p): p                   #// ãƒ—ãƒ©ã‚¤ãƒãƒª
                                            ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç•ªå· (2-4, default 2): 2  #// ä¸Šè¨˜ã¨åŒã˜
                                            åˆæœŸ sector .... :                      #// Enter
                                            Last sector .... :                      #// Enter  #// ã“ã“ãŒå¢—ãˆã¦ã„ãªã„ã¨ãã¯ VirtualBox ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„
                                            ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): w                #// ä¿å­˜ã—ã¦çµ‚äº†
                                            # reboot  #// å†èµ·å‹•ã—ã¾ã™
                                        #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                    sda2 ãŒã‚ã‚Šã€sda2 ã« LVM ãŒã‚ã‚‹å ´åˆ:
                                        OS ã«ãƒ‡ã‚£ã‚¹ã‚¯ã‚µã‚¤ã‚ºã®å¤‰æ›´ã‚’è¨­å®šã—ã¾ã™:  #// /dev/sda2 ãŒå¢—ãˆãŸåˆ† /dev/centos/root ã‚‚å¢—ã‚„ã—ã¾ã™
                                            SSH ã§ VM ã«æ¥ç¶šã—ã¾ã™: #// VM ã‚’å†èµ·å‹•ã™ã‚‹ã¨ GUI ã¯è¡¨ç¤ºã•ã‚Œãªã„ãŸã‚
                                                #// SSH æ¥ç¶šã§ããªã„ã¨ãã¯ã€ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ãªã©ã—ã¦å¤‰æ›´å‰ã®ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™ã€‚
                                            SSH: |
                                                $ sudo yum install -y  lvm2  #// pvresize ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹å ´åˆã¯ä¸è¦
                                                $ su -
                                                # pvresize /dev/sda2
                                                # lvextend -l +100%FREE /dev/centos/root
                                                # xfs_growfs /dev/centos/root
                                                # reboot
                                            ï¼ˆã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆï¼‰lvextend ã‚³ãƒãƒ³ãƒ‰ã§ "centos" not found ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¨ã:
                                        #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                    sda2 ãŒã‚ã‚Šã€sda2 ã« LVM ãŒç„¡ã„å ´åˆ:
                                        #// æœªç¢ºèª
                                        #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                sda2 ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:
                                    bash: |
                                        $ sudo mkdir -p  /sda2/vagrant
                                        $ sudo chown  vagrant:vagrant  /sda2/vagrant
                                ï¼ˆå¿…è¦ãªã‚‰ï¼‰sda2 ã®ä¸­ã¸ git clone ã—ã¾ã™: #keyword: mkdir sda2,  ln sda2  #snippet-depth: 2  #// ãƒ›ãƒ¼ãƒ ã«ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã‚‚å¿œç”¨ã§ãã¾ã™
                                    bash: |
                                        $ cd  /sda2/vagrant
                                        $ git clone __URL__
                                        $ ln -sf  /sda2/vagrant/__Project__  ~/__Project__
                                        $ cd  ~/__Project__
                                æ–°ã—ã„ .vmdk ã‚’ä½œã£ãŸå ´åˆ:
                                    å¤ã„ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆ.vdiï¼‰ã‚’å‰Šé™¤ã—ã¾ã™:
                                        VirtualBox >> ãƒ•ã‚¡ã‚¤ãƒ« >> ãƒ„ãƒ¼ãƒ« >> ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¿ãƒ– >>
                                            ï¼ˆå¯¾è±¡ã® .vdi ã¾ãŸã¯ .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>>
                                            é™¤å»
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                                ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®å®¹é‡ãŒå¢—ãˆãŸ VM ã®å‹•ä½œç¢ºèªã‚’ã—ã¾ã™:
                                    ä¾‹ï¼‰ GUI ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                            æ—§ï¼‰ .vdi ã®å ´åˆ:  #// ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®æ‹¡å¼µå­ãŒ .vdi ã®å ´åˆ
                                â—æ³¨æ„: .vmdk ã«å¯¾ã—ã¦ä»¥é™ã®æ“ä½œã‚’è¡Œã†ã¨ãƒ‡ã‚£ã‚¹ã‚¯ãŒä½¿ãˆãªããªã‚Šã¾ã™
                                ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚Šã¾ã™:
                                ãƒ‡ã‚£ã‚¹ã‚¯ã®ã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã—ã¾ã™:
                                    VirtualBox >> ãƒ•ã‚¡ã‚¤ãƒ« >> ãƒ„ãƒ¼ãƒ« >> ä»®æƒ³ãƒ¡ãƒ‡ã‚£ã‚¢ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ï¼ˆå¯¾è±¡ã® .vdi ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰>>
                                        å±æ€§ ã‚¿ãƒ–ï¼ˆä¸‹ï¼‰ >> ã‚µã‚¤ã‚º >> é©ç”¨ï¼ˆå³ä¸‹ï¼‰
                                ãƒ‡ã‚£ã‚¹ã‚¯ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’å¢—ã‚„ã—ã¾ã™:  #// /dev/sda2 ã®ã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã—ã¾ã™
                                    VM èµ·å‹• >> ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³: |
                                        $ su -
                                        # fdisk /dev/sda
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): p  #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã—ã¾ã™
                                        ãƒ‡ãƒã‚¤ã‚¹ ãƒ–ãƒ¼ãƒˆ      å§‹ç‚¹        çµ‚ç‚¹     ãƒ–ãƒ­ãƒƒã‚¯   Id  ã‚·ã‚¹ãƒ†ãƒ 
                                        /dev/sda1   *        2048     2099199     1048576   83  Linux
                                        /dev/sda2         2099200    32108863    32504832   83  Linux VM
                                        #// é€”ä¸­ã§çµ‚äº†ã™ã‚‹ã¨ãã¯ Ctrl+C
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): d                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†å‰Šé™¤ã—ã¾ã™
                                        ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç•ªå· (1,2, default 2): 2  #// ã‚µã‚¤ã‚ºå¤‰æ›´ã™ã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): n                #// ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’è«–ç†ä½œæˆã—ã¾ã™
                                        Select (default p): p                   #// ãƒ—ãƒ©ã‚¤ãƒãƒª
                                        ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç•ªå· (2-4, default 2): 2  #// ä¸Šè¨˜ã¨åŒã˜
                                        åˆæœŸ sector .... :                      #// Enter
                                        Last sector .... :                      #// Enter  #// ã“ã“ãŒå¢—ãˆã¦ã„ãªã„ã¨ãã¯ VirtualBox ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„
                                        ã‚³ãƒãƒ³ãƒ‰ (m ã§ãƒ˜ãƒ«ãƒ—): w                #// ä¿å­˜ã—ã¦çµ‚äº†
                                        # reboot
                                OS ã«ãƒ‡ã‚£ã‚¹ã‚¯ã‚µã‚¤ã‚ºã®å¤‰æ›´ã‚’è¨­å®šã—ã¾ã™:  #// /dev/sda2 ãŒå¢—ãˆãŸåˆ† /dev/centos/root ã‚‚å¢—ã‚„ã—ã¾ã™
                                    SSH ã§ VM ã«æ¥ç¶šã—ã¾ã™: #// VM ã‚’å†èµ·å‹•ã™ã‚‹ã¨ GUI ã¯è¡¨ç¤ºã•ã‚Œãªã„ãŸã‚
                                        #// SSH æ¥ç¶šã§ããªã„ã¨ãã¯ã€ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ãªã©ã—ã¦å¤‰æ›´å‰ã®ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™ã€‚
                                    SSH: |
                                        $ su -
                                        # pvresize /dev/sda2
                                        # lvextend -l +100%FREE /dev/centos/root
                                        # xfs_growfs /dev/centos/root
                                        # reboot
                                    ï¼ˆã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆï¼‰lvextend ã‚³ãƒãƒ³ãƒ‰ã§ "centos" not found ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¨ã:
                                        å¯¾å‡¦: centos ã¯ ls /dev ã§è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã«åˆã‚ã›ã¾ã™ã€‚ä¾‹ centos_10
                                        å‚è€ƒ >> ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚°ãƒ«ãƒ¼ãƒ—: #ref: https://atmarkit.itmedia.co.jp/ait/articles/1910/04/news021.html
                                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                            ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                                ã‚¨ãƒ©ãƒ¼: Resizing to new size ____ is not yet supported for medium
                                å¯¾å‡¦æ³•:
                                    å¯å¤‰ã‚µã‚¤ã‚ºã® VDI ã‚’æ–°è¦ä½œæˆã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                                        ä»®æƒ³ãƒ¡ãƒ‡ã‚£ã‚¢ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ï¼ˆå¯¾è±¡ã® .vdi ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰>> ã‚³ãƒ”ãƒ¼ï¼ˆä¸Šï¼‰>>
                                        ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¬ã‚¤ãƒ‰ä»˜ããƒ¢ãƒ¼ãƒ‰ã®ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰>>
                                        VDI >> å¯å¤‰ã‚µã‚¤ã‚º >> ã‚³ãƒ”ãƒ¼ ãƒœã‚¿ãƒ³
                                    ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯(.vdi)ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™:
                                        VirtualBox >>ï¼ˆVMï¼‰>> è¨­å®šï¼ˆä¸Šï¼‰>> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ >>
                                        ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®è¿½åŠ ï¼ˆSATA ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹å³å´ã®ãƒœã‚¿ãƒ³ï¼‰>>
                                        ï¼ˆæ–°ã—ã„ .vdiï¼‰>> é¸æŠ >>ï¼ˆå¤ã„ .vdi ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> å‰²ã‚Šå½“ã¦ã‚’é™¤å» >> OK
                                ï¼ˆä¸è¦ï¼‰.vdi ã‚’ä½¿ã†ã‚ˆã†ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™: #keyword: switch VirtualBox storage
                                    VirtualBox >>ï¼ˆVMï¼‰>> è¨­å®šï¼ˆä¸Šï¼‰>> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ >>ï¼ˆãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯å .vmdkï¼šä¸­å¤®ï¼‰>>
                                    ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ï¼ˆå³ä¸Šï¼‰ã®å³ç«¯ï¼‰>>
                                    ãƒ‡ã‚£ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ >> ____.vdi
                            é–¢é€£ >> :  #search: reduce VirtualBox VHDD file size
                CentOS6: #keyword:
                    Docker ã‚’ä½¿ã†å ´åˆ:  #// ç¢ºèªæ¸ˆã¿ CentOS7 (2024-03-12)
                        å…±é€šéƒ¨åˆ†: |
                            mkdir ~/centos6
                            cd    ~/centos6
                            code  Dockerfile
                                FROM centos:centos6

                                #// Change to archive repository
                                RUN  sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-Base.repo
                                RUN  sed -i 's|#baseurl=http://mirror.centos.org/centos/$releasever|baseurl=http://vault.centos.org/6.9|g' /etc/yum.repos.d/CentOS-Base.repo
                                RUN  yum clean all

                                RUN  yum install -y initscripts
                            docker build  --tag my/centos6  "."  --progress=plain
                        #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                        ãƒ•ã‚©ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã®å ´åˆ:
                            docker run -it --rm  my/centos6  /bin/bash
                        ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®å ´åˆ:
                            docker run -d  --name centos6  my/centos6  sleep infinity
                            docker exec -it  centos6  bash
                    VirtualBox ã‚’ä½¿ã†å ´åˆ: #// æœªç¢ºèª
                        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: CentOS-6.9-x86_64-bin-DVD1.iso  #// ç†ç ” â†’ #ref: https://ftp.riken.jp/Linux/centos-vault/6.9/isos/x86_64/
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >> ä»®æƒ³ãƒã‚·ãƒ³ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ >> æ–°è¦
                        Virtual machine Name and Operating System:
                            åå‰: centos6
                            ISO image: ï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ï¼‰
                            æ¬¡ã¸ ãƒœã‚¿ãƒ³:
                        Unattached Guest OS Install Setup:
                            Username: user1  #// ã‚µãƒ³ãƒ—ãƒ«
                            Password: user1  #// ã‚µãƒ³ãƒ—ãƒ«
                            æ¬¡ã¸ ãƒœã‚¿ãƒ³ x3:
                            å®Œäº† ãƒœã‚¿ãƒ³:
                        #// ãƒ­ã‚°ã‚¤ãƒ³ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ ãŒå‡ºã‚‹ã¾ã§ã—ã°ã‚‰ãå¾…ã¡ã¾ã™
                        VM ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:
                            #search: VirtualBox back up VM
                        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã« ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’è¿½åŠ ã—ã¾ã™:
                            #search: VirtualBox host-only networking
                        ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            VirutalBox >>ï¼ˆæ–°ã—ã„ VM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> è¡¨ç¤º >>ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼‰>>ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
                        VBoxGuestAdditions ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// æœªç¢ºèª
                            sudo mkdir -p /mnt/cdrom
                            sudo mount /dev/cdrom /mnt/cdrom
                            cd /mnt/cdrom
                            sudo sh ./VBoxLinuxAdditions.run
                            sudo reboot
                        SSH ã‚µãƒ¼ãƒãƒ¼ ã‚’é–‹å§‹ã—ã¾ã™: |  #// æœªç¢ºèª
                            su -
                            setenforce 0
                            service sshd start
                            vi /etc/ssh/sshd_config
                                PasswordAuthentication yes
                            service sshd restart
                            chkconfig sshd on
                            iptables -I INPUT -p tcp --dport 22 -j ACCEPT
                            service iptables save
                            service iptables restart
                            # vi /etc/sysconfig/network-scripts/ifcfg-eth0
                            #     å€¤ã®å¤‰æ›´
                            #         BOOTPROTO=static
                            #         ONBOOT=yes
                            #     è¿½åŠ 
                            #         IPADDR=192.168.34.6     #// Windows Git bash ã® ipconfig ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã€34 ã‚’ä¿®æ­£
                            #         NETMASK=255.255.255.0
                            #         GATEWAY=192.168.1.1
                            vi /etc/sysconfig/network-scripts/ifcfg-eth1
                                DEVICE=eth1
                                BOOTPROTO=static
                                ONBOOT=yes
                                IPADDR=192.168.148.6
                                NETMASK=255.255.255.0
                                GATEWAY=192.168.148.1
                            ip address add 192.168.148.6/24 dev eth1    #// VM ã® ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã¨ ipconfig /all ã§ç¢ºèª
                            service network restart
                            ifconfig eth0
                            setenforce 0
                            vi /etc/sysconfig/selinux
                                SELINUX=disabled
                            reboot
                            ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ >> ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼2 ã‚¿ãƒ– >> ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ 
                        SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã‹ã‚‰æ¥ç¶šã—ã¾ã™:
                            ssh user1@192.168.36.21
                            ã¤ãªãŒã‚‰ãªã„
            VirtualBox mac M1:
                2021-02ç¾åœ¨æœªå¯¾å¿œ  https://dacekinger.net/m1macminivirtualbox/?
            é–¢é€£ >> Docker:  #search: Docker install
        VBoxManage:  #keyword: VBoxManage  #// ã‚·ã‚§ãƒ«ã‹ã‚‰ VirtualBox ã‚’æ“ä½œã—ã¾ã™
            é–¢é€£: #search: Ansible
            æ¦‚è¦: ãƒ›ã‚¹ãƒˆOSã®ã‚·ã‚§ãƒ«ã‹ã‚‰ VirtualBox ã‚’æ“ä½œã—ã¾ã™ã€‚ VirtualBox ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã§ãã‚‹ã“ã¨ã¨åŒã˜ã“ã¨ãŒã§ãã¾ã™ã€‚
            æ‰‹é †:
                VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                VBoxManage ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã« PATH ã‚’è¨­å®šã—ã¾ã™:
                    (Git bash):
                        export PATH="/c/Program Files/Oracle/VirtualBox:$PATH"
                        VBoxManage  #// ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
                    (PowerShell):
                        $env:PATH = "C:\Program Files\Oracle\VirtualBox;$env:PATH"
                        VBoxManage  #// ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
                VM ã«å¯¾ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰:  #search: VBoxManage list  #// ãªã©
                VM å:  #// VBoxManage ã‚³ãƒãƒ³ãƒ‰ ã«æŒ‡å®šã™ã‚‹ VM å
                    ~/VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã®ä¸­ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å
    ã‚³ãƒãƒ³ãƒ‰:  #search: VBoxManage
    æ¦‚å¿µ:
        ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦, ä»®æƒ³ç”»é¢:  #// ãƒ›ã‚¹ãƒˆå´ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
            æ—¥æœ¬èªè¡¨ç¤ºã«ã—ã¾ã™:
                VirtualBox >> File >> Preferenes >> Language >> æ—¥æœ¬èªï¼ˆæœ€ä¸‹è¿‘ãï¼‰
            ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã‚’è§£é™¤ã™ã‚‹ã‚­ãƒ¼ã‚’å¤‰æ›´ã—ã¾ã™:  #keyword: VirtualBox exit capture hot key
                VirtualBox >> File >> ç’°å¢ƒè¨­å®š >> å…¥åŠ› >> ä»®æƒ³ãƒã‚·ãƒ³ >> ãƒ›ã‚¹ãƒˆã‚­ãƒ¼ã®çµ„ã¿åˆã‚ã› >>ï¼ˆè§£é™¤ã™ã‚‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã‚­ãƒ¼ï¼‰
        VM:  #// ä»®æƒ³ãƒã‚·ãƒ³, ãƒ¡ãƒ¢ãƒªãƒ¼, ãƒãƒ¼ãƒ‰ ãƒ‡ã‚£ã‚¹ã‚¯
            ä¸€è¦§: |  #keyword: VBoxManage list
                VBoxManage list vms
                    "__VmName__" {__VmGUID__}
                VBoxManage list runningvms
                    "__VmName__" {__VmGUID__}
            æƒ…å ±è¡¨ç¤º:
                ã‚³ãƒãƒ³ãƒ‰: VBoxManage showvminfo "__VmName__" --machinereadable
                çµ‚äº†ã‚³ãƒ¼ãƒ‰:  #search: PowerShell çµ‚äº†ã‚³ãƒ¼ãƒ‰
                    æˆåŠŸ: $? == 0
                    æŒ‡å®šã—ãŸ VM ãŒç„¡ã„:  $? == 1
            VM ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™:  #// VMï¼ˆä»®æƒ³ãƒã‚·ãƒ³ï¼‰ã‚’è¤‡è£½ã—ã¾ã™  #keyword: VirtualBox clone
                ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™: #keyword: VirtualBox back up VM  #// VirtualBox ã®ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½ã¯ä½¿ã„ã¾ã›ã‚“
                    â—æ³¨æ„: Vagrant ã‹ã‚‰ä½œã£ãŸ VM ã®å ´åˆ  #search: Vagrant VirtualBox back up VM
                    ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™:
                        #search: VirtualBox shutdown
                    VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                        - VirtualBox ã® VM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã«è¡¨ç¤º
                        - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆï¼‘ã¤ä»¥ä¸Šï¼‰ã‚’
                            ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¸ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                    VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:
                        #search: VirtualBox VM start
                åˆ¥ã® PC ã« VM ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                    VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                        VirtualBox >> ï¼ˆVM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã«è¡¨ç¤º
                            #// C:\Users\__User__\VirtualBox VMs\__VM_Name__ ãŒé–‹ãã¾ã™
                    .vdi ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ 512MB ã”ã¨ã«åˆ†å‰²ã—ã¾ã™:  #// 512MB ã§ãªãã¦ã‚‚æ§‹ã„ã¾ã›ã‚“  #search: ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã€çµåˆ
                    VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                        RDP æ¥ç¶šã—ã¦ã„ã‚‹å ´åˆ:  #search: TSClient
                    VirtualBox ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ã‚³ãƒ”ãƒ¼ã—ãŸ VM ã‚’è¡¨ç¤ºã•ã›ã¾ã™: 
                        VirtualBox >> ä»®æƒ³ãƒã‚·ãƒ³ >> è¿½åŠ  >>ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’æŒ‡å®šï¼‰
                åŒã˜ PC ã®ä¸­ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™: #copy: VirtualBox clone from back up
                    æ³¨æ„â—: ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸ VM ã¯ SSH æ¥ç¶šã§ãã¾ã›ã‚“ã€‚å¯¾å‡¦æ³•ã¯æœªæ¤œè¨ã€‚
                        VSCode ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³å…ƒã«æ¥ç¶šã§ããªããªã£ãŸã‚‰ã€VSCode >> Remote Explorerï¼ˆå·¦ï¼‰ã‹ã‚‰é–‹ã„ã¦ãã ã•ã„
                    æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                    æ—¢å­˜ã® VM ã®åå‰ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMï¼‰>> åå‰ï¼ˆä¸­å¤®ä¸Šï¼‰>> Ctrl + A, Ctrl + C >> ãƒ¡ãƒ¢ã«å¼µã‚Šä»˜ã‘
                    æ—¢å­˜ã® VM ã‚’å‰Šé™¤ï¼ˆé™¤å»ï¼‰ã—ã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                    VM ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã‚¯ãƒ­ãƒ¼ãƒ³ï¼‰ã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VitrualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰ ã‚¯ãƒ­ãƒ¼ãƒ³ >>
                        åå‰: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—___Name__ (ä¾‹)
                        #// ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ç‰¹ã«ã“ã ã‚ã‚ŠãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹ã„ã¾ã›ã‚“
                        VM ã®é †ç•ªã‚’æ•´ç†ã—ã¾ã™:
                            ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ VM ã®é †ç•ªã‚’å¤‰æ›´ã§ãã¾ã™
                é–¢é€£:
                    vSphere: #search:
                    snapshot: #keyword: Linux snapshot
                        Btrfs ã‚„ ZFS ãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®å ´åˆ:
                            btrfs subvolume snapshot /source /destination
                        è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆLVMï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ:
                            lvcreate --size 1G --snapshot --name snapshot_name /dev/vg_name/lv_name
            VM ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦å¾©å¸°ã—ã¾ã™:  #// VirtualBox ã®ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½ã¯ä½¿ã„ã¾ã›ã‚“
                â—æ³¨æ„: Vagrant ã‹ã‚‰ä½œã£ãŸ VM ã®å ´åˆ  #search: Vagrant VirtualBox restore
                ï¼ˆå¿…è¦ãªã‚‰ï¼‰æ—¢å­˜ã® VM ã‚’å‰Šé™¤ã—ã¾ã™:  #copy: VirtualBox delete VM
                    æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                    VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰ VM ã‚’å‰Šé™¤ã—ã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >>
                            ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                    - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆï¼‘ã¤ä»¥ä¸Šï¼‰ã‚’
                        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã« VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’èªè­˜ã•ã›ã¾ã™:
                    ä»®æƒ³ãƒã‚·ãƒ³ã‚’ VirtualBox ã«è¿½åŠ ã—ã¾ã™:
                        - VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ä»®æƒ³ãƒã‚·ãƒ³ >> è¿½åŠ ï¼ˆï¼‘ã¤ä»¥ä¸Šã‚‚å¯èƒ½ï¼‰
                            #// *.vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸ã³ã¾ã™  #keyword: *.vmdk
            VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™: #keyword: VirtualBox VM start
                èµ·å‹•ã—ã¾ã™, ä¿å­˜çŠ¶æ…‹ã®VMã‹ã‚‰å¾©å¸°ã—ã¾ã™:
                    VirtualBox >>ï¼ˆVM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> èµ·å‹• >> ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹èµ·å‹•ï¼ˆãªã©ï¼‰
                VM ãŒä¿å­˜çŠ¶æ…‹ã¨è¡¨ç¤ºã•ã‚Œã‚Œã„ãªã‘ã‚Œã° VM ã‚’è¿½åŠ ã—ãªãŠã—ã¾ã™:
                    - VirtualBox >>ï¼ˆVM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å»
                    - VirtualBox >> ä»®æƒ³ãƒã‚·ãƒ³ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰>> è¿½åŠ 
                #// ã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã§å¾©å¸°ã—ã¾ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹•ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚
                #// VSCode ãªã©ã‹ã‚‰æ¥ç¶šã—ã¦ã„ãŸ SSH ã‚·ã‚§ãƒ«ã‚’é–‰ã˜ã¦ã„ãŸã‚‰ã€ç’°å¢ƒå¤‰æ•°ãªã©ã‚’å†è¨­å®šã—ã¦ãã ã•ã„ã€‚
            VM ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™: #keyword: VirtualBox shutdown
                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> ACPI ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³
            VM ã‚’å‰Šé™¤ã—ã¾ã™: #keyword: VirtualBox delete VM
                Window:
                    æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¾ã™:
                        VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                    VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                        - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆï¼‘ã¤ä»¥ä¸Šã‚‚å¯èƒ½ï¼‰ã‚’
                            å‰Šé™¤ã—ã¾ã™  #// ã‚·ãƒ•ãƒˆ ã‚­ãƒ¼ ã‚’æŠ¼ã—ãªãŒã‚‰å‰Šé™¤ã™ã‚‹ã¨ã”ã¿ç®±ã«å…¥ã‚‰ãšã«å‰Šé™¤ã—ã¾ã™
                CLI:
                    VBoxManage unregistervm __VmFullName__ --delete
                        #// ã™ã§ã«ç„¡ã‹ã£ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
            ä¿å­˜çŠ¶æ…‹: #keyword: VirtualBox ä¿å­˜çŠ¶æ…‹
                â—æ³¨æ„: date ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã•ã‚Œã‚‹æ—¥æ™‚ãŒä¿å­˜ã—ãŸã¨ãã®æ—¥æ™‚ã®ã¾ã¾ã«ãªã‚Šã¾ã™
            ãƒ¡ãƒ¢ãƒªãƒ¼ã‚„ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:  #keyword: VirtualBox size
                ãƒ¡ãƒ¢ãƒªãƒ¼:  #search: VirtualBox memory size
                ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯:  #search: Linux df
        VirtualBox Guest Additions: #keyword: Vagrant VirtualBox Guest Additions
            ä½¿ã‚ãªã„ã‚ˆã†ã«ã™ã‚‹:
                Vagrant.configure("2") do |config|
                    config.vm.provider "virtualbox" do |vb|
                        vb.check_guest_additions = false
                        vb.functional_vboxsf = false
                    end
                    if Vagrant.has_plugin?("vagrant-vbguest") then
                        config.vbguest.auto_update = false
                    end
        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #keyword: VirtualBox network
            IP ã‚¢ãƒ‰ãƒ¬ã‚¹:  #// 192.168.___.___ ã‚„ 172.___.___.___ ãªã©
                #search: IP address
                ï¼ˆæ“ä½œ, è¡¨ç¤ºï¼‰:
                    ãƒ›ã‚¹ãƒˆ OS (Windows) ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                        (PowerShell): |
                            ipconfig
                        å‡ºåŠ›ä¾‹:  #// è©²å½“ã™ã‚‹ã‚µãƒ–ãƒãƒƒãƒˆã‚’å‚ç…§ã—ã¾ã™
                            ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ VirtualBox Host-Only Network:
                                IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹ . . . . . . . . . . . .: 192.168.56.1
                    ãƒã‚¤ãƒ³ãƒ‰: #keyword: bind IP address,  bind  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™ã€‚è‡ªãƒ›ã‚¹ãƒˆãŒå¿œç­”ã‚’å—ã‘ã¤ã‘ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç¯„å›²ã®è¨­å®š
                        ï¼ˆæ³¨æ„ï¼‰: ãƒã‚¤ãƒ³ãƒ‰ã§ãã‚‹ã®ã¯ ãƒ­ãƒ¼ã‚«ãƒ« ãƒ›ã‚¹ãƒˆ ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã«é™å®šã•ã‚Œã¾ã™
                        0.0.0.0: #keyword:  #search: bind IP address  #// IPv4 ã®å…¨ã¦ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
                        ([::]): #keyword: [::]  #// IPv6 ã®å…¨ã¦ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
                        127.0.0.1:  #// ãƒ­ãƒ¼ã‚«ãƒ« ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰æ¥ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã ã‘å¿œç­”ã—ã¾ã™
                        ([fe80::1]): #keyword: [fe80::1]  #// ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«
                        __NetworkInterfaceIPAddress__:  #// æŒ‡å®šã—ãŸ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™ã€‚LAN å†…ã‹ã‚‰æ¥ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã ã‘å¿œç­”ã—ã¾ã™
                        __MyHostName__:  #// ãƒ­ãƒ¼ã‚«ãƒ« ãƒ›ã‚¹ãƒˆ ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã«ã¤ã‘ã‚‰ã‚ŒãŸ DNS å  #search: DNS å
                ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ ã‚¢ãƒ‰ãƒ¬ã‚¹: #keyword: IP private address
                    ã‚¯ãƒ©ã‚¹C: 192.168.0.0/16,  192.168.x.x    #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š.svg#ip192_168  #keyword:
                    ã‚¯ãƒ©ã‚¹B: 172.16.0.0/12,   172.16.x.xï½172.20.x.x
                    ã‚¯ãƒ©ã‚¹A: 10.0.0.0/8,      10.x.x.x    #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š.svg#ip_10  #keyword:
                    #// è©³ç´°ã¯ä¸‹è¨˜
                VirtualBox ã®ãƒ›ã‚¹ãƒˆ: #keyword: VirtualBox host IP address
                    VM ãŒã©ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ã«ã‚ˆã‚Šã¾ã™:
                        èª¿ã¹æ–¹:  #search: VirtualBox network adapter window
                    VM ãŒ ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆ: |  #search: set VirtualBox host-only adapter
                        VirtualBox >> ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰>> ãƒ›ã‚¹ãƒˆã‚ªãƒ³ãƒªãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¿ãƒ– >>
                        VirtualBox Host-Only Ethernet Adapter #2 ï¼ˆãªã©ï¼‰>>
                        IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹
                192.168.___.___: #keyword:  #// ã‚¯ãƒ©ã‚¹ C ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                    ã‚µãƒ³ãƒ—ãƒ«: 192.168.34.47/24
                    192.168.x.x ã«ãªã£ãŸç†ç”±:  #ref: https://gigazine.net/news/20250909-private-ip-address-192-168/
                    #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š.svg#ip192_168
                    #search: CIDR
                127.0.0.1: #keyword: 127.0.0.1, localhost, ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ ã‚¢ãƒ‰ãƒ¬ã‚¹
                    - ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è‡ªåˆ†ã®ãƒã‚·ãƒ³ã«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã—ã¾ã™ã€‚
                    - ãƒãƒ¼ãƒˆç•ªå·ãŒç•°ãªã‚Œã°ã€åˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒå¿œç­”ã—ã¾ã™ã€‚
                    - 127.0.0.1 ã¨ localhost ã¯åŒã˜ãƒ›ã‚¹ãƒˆã‚’æŒ‡ã—ã¾ã™ã€‚
                    #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š.svg#localhost
                172.___.___.___: #keyword:  #// 172.16.0.0 ã‹ã‚‰ 172.31.255.255  #// ã‚¯ãƒ©ã‚¹ B ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                    ç¯„å›²: 172.16.0.0 ï½ 172.31.255.255
                    ã‚µãƒ³ãƒ—ãƒ«: 172.31.255.15/24  #// ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã®ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯ã¯ VirtualBox ã§ä½¿ãˆã‚‹ç¯„å›²ã‚ˆã‚Šç‹­ããªã£ã¦ã„ã¾ã™
                172.17.0.1, host.docker.internal:
                    Docker å†…éƒ¨ã® ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤
                    Docker ã® ãƒ›ã‚¹ãƒˆ OS
                10.0.2.2:
                    VM ç’°å¢ƒå†…éƒ¨ã® ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤
                    VirtualBox ãªã©ã® ãƒ›ã‚¹ãƒˆ OS
                10.___.___.___:  #// ã‚¯ãƒ©ã‚¹ A ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                0.0.0.0:  #// IPv4 ã®å…¨ã¦ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹  #search: bind IP address
                ([::]): #// IPv6 ã®å…¨ã¦ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹  #search: [::]
                ([fe80::1]):  #// ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«  #search: [fe80::1]
                224.0.0.1: å…¨ã¦ã®ãƒ›ã‚¹ãƒˆå‘ã‘ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆ
                224.0.0.2: å…¨ãƒ«ãƒ¼ã‚¿å‘ã‘ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆ
            ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼: #keyword: VirtualBox network adapter  #// VM ã«åˆºã•ã£ã¦ã„ã‚‹ä»®æƒ³çš„ãª NIC  #search: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
                è¡¨ç¤º: VirtualBox >>ï¼ˆVMï¼šå·¦åŠåˆ†ã®ã©ã‚Œã‹ï¼‰>> è¨­å®šï¼ˆä¸Šï¼‰>> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆå·¦ï¼‰  #keyword: VirtualBox network adapter window
                é€šå¸¸ã®æ§‹æˆ: #// NAT + ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
                    ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼1: NAT                         #search: VirtualBox NAT
                    ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼2: ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼  #search: VirtualBox host-only adapter
                ç¨®é¡, å‰²ã‚Šå½“ã¦ã®ç¨®é¡:  #// NAT, ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
                    NAT: #keyword: VirtualBox NAT  #// ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ NAT ã«å‰²ã‚Šå½“ã¦ãŸå ´åˆ
                        ã“ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã«è¨­å®šã•ã‚ŒãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã‚µãƒ–ãƒãƒƒãƒˆã«å¯¾ã™ã‚‹é€šä¿¡ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆç­‰ã«æ¥ç¶šã—ã¾ã™
                    ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼: #keyword: VirtualBox host-only adapter
                        #// ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã«å‰²ã‚Šå½“ã¦ãŸå ´åˆ  #keyword: VirtualBox host-only networking
                        _: é€šå¸¸ã€NAT ã¨ ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã® 2ã¤ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ 1ã¤ã® VM ã«æŒ¿ã—ã¾ã™  #search: default NAT NAT network
                        é€šä¿¡å¯èƒ½: ãƒ›ã‚¹ãƒˆOS, ä»–ã®VM
                        é€šä¿¡ç¦æ­¢: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚„å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                            #// ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆç­‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€ã¾ãš NAT ã«å¯¾ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™  #search: VirtualBox NAT
                        è¨­å®š:  #search: set VirtualBox host-only adapter
                        VirtualBox ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ã >> ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆ: ä¸€åº¦åˆ¥ã®è¨­å®šã‚’ã—ã¦ã‹ã‚‰ã€å†è¨­å®šã—ã¦ãã ã•ã„
                    NAT ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯: #keyword: VirtualBox NAT network  #// ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ NAT ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã«å‰²ã‚Šå½“ã¦ãŸå ´åˆ
                        _: é€šå¸¸ä½¿ã„ã¾ã›ã‚“  #search: default NAT NAT network
                        ã‚³ãƒãƒ³ãƒ‰:
                            ä¸€è¦§: #keyword: VBoxManage list natnets
                                VBoxManage list natnets
                            ä½œæˆ: #keyword: VBoxManage natnetwork add
                                ã‚³ãƒãƒ³ãƒ‰: VBoxManage natnetwork add --netname NatNetwork --network "10.0.2.0/24" --enable
                                --network ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                                    é€šå¸¸ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ç¯„å›²ã§ã‚ã‚‹ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š
                                        10.0.0.0/8ï¼ˆ10.0.0.0 ã‹ã‚‰ 10.255.255.255ï¼‰
                                        172.16.0.0/12ï¼ˆ172.16.0.0 ã‹ã‚‰ 172.31.255.255ï¼‰
                                        192.168.0.0/16ï¼ˆ192.168.0.0 ã‹ã‚‰ 192.168.255.255ï¼‰
                                    ã“ã‚Œã‚‰ã®ç¯„å›²ã‹ã‚‰ã€ä»–ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨é‡è¤‡ã—ãªã„ã‚µãƒ–ãƒãƒƒãƒˆã‚’é¸æŠã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚
                                    VirtualBoxã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆNATãƒ¢ãƒ¼ãƒ‰ã§è¨­å®šã•ã‚ŒãŸã¨æ€ã‚ã‚Œã‚‹ VM ã®æ—¢å­˜ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«
                                    --network ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã‚’åˆã‚ã›ã‚‹ã®ãŒè‰¯ã„ã®ã§ã—ã‚‡ã†ã‹
                                    10.0.0.0/8 ã¯ç¤¾å†…LANã€172.31.255.0/24 ã¨ 192.168.34.0/24 ã¯æ—¢å­˜ã® VirtualBox ãŒä½¿ã£ã¦ã„ã¾ã™ã€‚
                                    --network ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã« 192.168.34.0/24 ã‚’è¨­å®šã—ã¦ã‚ˆã„ã§ã—ã‚‡ã†ã‹
                    ï¼ˆç¨®é¡ã®æ¯”è¼ƒï¼‰:
                        NAT + ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã®æ§‹æˆã¨ã®é•ã„: #keyword: default NAT NAT network   #focus: NAT_HostOnly, NAT_Network
                            ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®æ•°:
                                NAT_HostOnly: 2
                                NAT_Network: 1
                            é€šä¿¡ã®æµã‚Œ:
                                NAT_HostOnly: VM å†…ã§åˆ†å²
                                NAT_Network: NATãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§åˆ†å²
                            #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: default NAT network
                é¸æŠ:
                    NAT ã‚’ä½¿ã†ã‹ ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ä½¿ã†ã‹:
                        æ¥ç¶šå…ˆã¨ã—ã¦æŒ‡å®šã—ãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚ˆã£ã¦ã€ã©ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ä½¿ã†ã‹ãŒè‡ªå‹•çš„ã«é¸æŠã•ã‚Œã¾ã™
                    ã©ã® ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ä½¿ã†ã‹: #keyword: set VirtualBox host-only adapter
                        #// æ‰‹å‹•ã§é¸æŠã—ã¾ã™
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox >>ï¼ˆVMï¼šå·¦ï¼‰>> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆä¸­å¤®ï¼‰>> ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ 2ï¼ˆå‰²ã‚Šå½“ã¦ï¼ãƒ›ã‚¹ãƒˆã‚ªãƒ³ãƒªãƒ¼ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒé¸ã°ã‚Œã¦ã„ã‚‹ã‚‚ã®ï¼‰
                        åå‰ã®ã‚µãƒ³ãƒ—ãƒ«:
                            - VirtualBox Host-Only Ethernet Adapter
                            - VirtualBox Host-Only Ethernet Adapter #2
                            - ...
                        ã©ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ä½¿ã†ã‹:
                            VM ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã¾ã™: |
                                ip addr
                                    192.168.___.___
                            Windows ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã¾ã™: |
                                ipconfig /all
                                    ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆ 3:
                                        èª¬æ˜. . . . . . . . . . . . . . . . .: VirtualBox Host-Only Ethernet Adapter
                                        IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹ . . . . . . . . . . . .: 192.168.56.1(å„ªå…ˆ)
                                        ...
                                    ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆ 4:
                                        èª¬æ˜. . . . . . . . . . . . . . . . .: VirtualBox Host-Only Ethernet Adapter #2
                                        IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹ . . . . . . . . . . . .: 192.168.34.1(å„ªå…ˆ)
                                        ...
                            åŒã˜ã‚µãƒ–ãƒãƒƒãƒˆã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’é¸ã³ã¾ã™:  #// ä»Šã¾ã§é¸ã‚“ã§ã„ãŸåå‰ã‹ã‚‰å¤‰ãˆã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆã‚ã›ã¾ã™
                                OK ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™:
                                ã“ã‚Œã¾ã§ã®æ¥ç¶š: ã™ãã«åˆ‡æ–­ã•ã‚Œã¾ã™
                                æ–°ã—ã„æ¥ç¶š: 20ç§’è¿‘ããŸã£ã¦ã‹ã‚‰æ¥ç¶šã§ãã¾ã™
                            ï¼ˆæœªç¢ºèªï¼‰å¯¾å¿œã™ã‚‹ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒ Windows ã«ç„¡ã„å ´åˆ:
                                ä½œæˆ: VirtualBox >> ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰>> ãƒ›ã‚¹ãƒˆã‚ªãƒ³ãƒªãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¿ãƒ– >> ä½œæˆï¼ˆä¸Šï¼‰
                                è¨­å®šå¤‰æ›´: ï¼ˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’é¸ã¶ï¼‰>> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆä¸Šï¼‰>> IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆã‚’ç·¨é›†ï¼‰
            DHCPã‚µãƒ¼ãƒãƒ¼: #keyword: VirtualBox DHCP
                dig å¯¾å¿œ: #keyword: VirtualBox dig  #// ä¸å¯
                    - DHCP ã‚µãƒ¼ãƒãƒ¼ã®æ¨™æº–æ©Ÿèƒ½ãŒ DNS ã®ä¸€éƒ¨ã®æ©Ÿèƒ½ã«è©²å½“ã—ã¾ã™ãŒã€dig ã‚³ãƒãƒ³ãƒ‰ã«ã¯å¿œç­”ã§ãã¾ã›ã‚“ã€‚
                    - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®å…ˆã®æ¥ç¶šå…ˆã«å¯¾ã—ã¦ã¯ dig ã‚³ãƒãƒ³ãƒ‰ã¯ä½¿ãˆã¾ã™ã€‚
                æ¢ã—ã¾ã™:
                    PowerShell:
                        VBoxManage list hostonlyifs  #search: VBoxManage
                    DHCP ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
                        IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å ´åˆ: DHCP ã‚µãƒ¼ãƒãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹  #// æœªç¢ºèª
                        ã™ã¹ã¦ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã§ Disabled ã®å ´åˆ: DHCP ã‚µãƒ¼ãƒãƒ¼ã¯ã‚ã‚Šã¾ã›ã‚“
            å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:  #search: VirtualBox shared folder 
            (VMWare ã®è³‡æ–™):  #ref: ${programming}/OS/VMWare.svg#vmware_net
        ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸:  #// ã€Œãƒ‡ã‚£ã‚¹ã‚¯ ã‚¤ãƒ¡ãƒ¼ã‚¸ ãƒ•ã‚¡ã‚¤ãƒ«ã€
            æ‰‹é †:
                ä½¿ç”¨é‡ã‚’æ¸›ã‚‰ã—ã¾ã™:  #keyword: reduce VirtualBox VHDD file size
                    VM å†…:  #// Linux ã® df ã‚³ãƒãƒ³ãƒ‰ ã«ã‚ˆã‚‹ä½¿ç”¨é‡ã‚’æ¸›ã‚‰ã—ã¾ã™
                        #search: Linux å®¹é‡ä¸è¶³
                    ãƒ›ã‚¹ãƒˆ:  #// ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¤ãƒ¡ãƒ¼ã‚¸ ãƒ•ã‚¡ã‚¤ãƒ« ã®ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã—ã¾ã™
                        VM å†…ã®å¤§ãã„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                            bash in VM:
                                rm -rf ____
                                df
                                #search: Linux å®¹é‡ä¸è¶³
                        ä»®æƒ³ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãã‚»ã‚¯ã‚¿ãƒ¼ã‚’ã‚¼ãƒ­ã§åŸ‹ã‚ã¾ã™:
                            bash in VM: |
                                date
                                sudo dd if=/dev/zero of=/tmp/zero.fill bs=1M
                                    dd: error writing â€˜/tmp/zero.fillâ€™: No space left on device
                                    83251+0 records in
                                    83250+0 records out
                                    87294017536 bytes (87 GB) copied, 616.272 s, 142 MB/s
                                date    #// dd ã®æ¬¡ã«å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãŠãã¾ã™
                                    ï¼ˆ+10åˆ†ï¼‰
                                sudo rm -f /tmp/zero.fill
                                date
                                    ï¼ˆ+1ç§’ï¼‰
                        .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°ã•ãã—ã¾ã™:
                            VM ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³:
                            Git bash: |
                                cd  __VM__  #// .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´æ‰€
                                export PATH="/c/Program Files/Oracle/VirtualBox:$PATH"
                                ï¼ˆ2å›ç›®ä»¥é™ï¼‰
                                    VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰ã‹ã‚‰ "centos-7-1-1.x86_64-3.vdi" ã‚’å‰Šé™¤
                                    VirtualBox ã®ãƒ„ãƒ¼ãƒ«ï¼ˆå·¦ä¸Šï¼‰ã‹ã‚‰ "centos-7-1-1.x86_64-4.vmdk" ã‚’å‰Šé™¤
                                date
                                VBoxManage clonemedium  "centos-7-1-1.x86_64-3.vmdk"  "centos-7-1-1.x86_64-3.vdi"  --format vdi
                                date
                                VBoxManage modifymedium "centos-7-1-1.x86_64-3.vdi"  --compact
                                date  #// 2åˆ†
                                VBoxManage clonemedium  "centos-7-1-1.x86_64-3.vdi"  "centos-7-1-1.x86_64-4.vmdk"  --format vmdk
                                date
                        .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™:
                            #search: switch VirtualBox VHDD
                        å¤ã„ .vmdk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:
                            #search: delete VirtualBox VHDD
                å®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:  #search: increase VirtualBox VHDD size
                åˆ‡ã‚Šæ›¿ãˆã¾ã™:  #search: switch VirtualBox VHDD  #// VM ãŒä½¿ã† ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¤ãƒ¡ãƒ¼ã‚¸ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™
            ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®é¡:
                VDI, .vdi: #keyword:  #// Virtual Disk Imageã€‚VirtualBox ã®æ¨™æº–
                VMDK, .vmdk: #keyword:  #// VDI ã‚ˆã‚Šé«˜é€Ÿã€‚ã‚µã‚¤ã‚ºå¤‰æ›´ã§ããªã„ï¼ˆVDI çµŒç”±ãªã‚‰ã§ãã‚‹ï¼‰ã€‚VMWare ã®æ¨™æº–
                    #ref: https://www.parallels.com/blogs/ras/vdi-vs-vhd-vs-vmdk/
                ï¼ˆé–¢é€£ï¼‰:
                    WSL2:  #search: VHDX ãƒ•ã‚¡ã‚¤ãƒ«
    ãƒ•ã‚¡ã‚¤ãƒ«:
        OVA ãƒ•ã‚¡ã‚¤ãƒ« (.ova):  #// Open Virtualization Format (OVF)ã€‚ VirtualBox ãªã©ã®ä»®æƒ³ãƒã‚·ãƒ³ã®æ§‹æˆã‚„çŠ¶æ…‹ãŒä¸¸ã”ã¨å…¥ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«
            å¯¾å¿œä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼:
                Oracle VirtualBox
                VMware Workstation, VMware Fusion, VMware vSphere/ESXi
            å¤‰æ›ã«ã‚ˆã£ã¦å¯¾å¿œã§ãã‚‹ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼:
                QEMU/KVM
                Microsoft Hyper-V
            é–¢é€£: #search: .qcow2 ãƒ•ã‚¡ã‚¤ãƒ«  #search: .box ãƒ•ã‚¡ã‚¤ãƒ«
    ã‚³ãƒ¼ãƒ‰:
        bash: #glossary: VirtualBox bash
            ShutdownVM:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/install.sh#function  ShutdownVM
            BackUpVM:    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/install.sh#function  BackUpVM
            RestoreVM:   #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/install.sh#function  RestoreVM
            DestroyVM:   #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/install.sh#function  DestroyVM
            HaltVM:      #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/install.sh#function  HaltVM
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
        - VirtualBox ã«å¯¾ã™ã‚‹ Ansible ã®å®Ÿè¡Œã§æ­¢ã¾ã‚‹:  #search: knock-ssh.sh
        - Windows ã‹ã‚‰ SSH ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç¹°ã‚Šè¿”ã—ã¦ã—ã¦ã¿ã‚‹: #keyword: knock-ssh.sh
            ã‚³ãƒãƒ³ãƒ‰:
                ./knock-ssh.sh  &  #// Prevent VirtualBox CPU stuck
            ã‚³ãƒ¼ãƒ‰: |
                #!/bin/bash
                for i in {1..60}; do 
                    ssh vm-local_server-1  hostname
                    sleep  30s
                    ssh vm-local_server-2  hostname
                    sleep  30s
                done
        - IRQ ä¾‹å¤–:
            L [___.067007], R[____.178072]
            R ã§ä¾‹å¤–ç™ºç”Ÿå¾Œã€è¡¨ç¤ºã—ã¦ã„ãŸ R ã®ç”»é¢ã‚’é–‰ã˜ãŸã‚‰å‹•ãå‡ºã—ãŸ
            SSH ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ç¶šãã‚’å®Ÿè¡Œã§ããã†  #search: knock-ssh.sh
        - #// VERR_INTNET_FLT_IF_NOT_FOUND
            æ‰‹é †: vagrant up
            ãƒ­ã‚°: |  #focus: Failed to open/create the internal network,  Host-Only Ethernet Adapter
                Stderr: VBoxManage.exe: error: Failed to open/create the internal network 'HostInterfaceNetworking-VirtualBox Host-Only Ethernet Adapter #4' (VERR_INTNET_FLT_IF_NOT_FOUND).
                VBoxManage.exe: error: Failed to attach the network LUN (VERR_INTNET_FLT_IF_NOT_FOUND)
                VBoxManage.exe: error: Details: code E_FAIL (0x80004005), component ConsoleWrap, interface IConsole
            å¯¾å‡¦: #keyword: VirtualBox Windows IPv6
                Windows ã® ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã® IPv6 ã‚’ç„¡åŠ¹ã«ã—ã¦ã€
                ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’ ç„¡åŠ¹ ã«ã—ã¦ æœ‰åŠ¹ ã«ã—ã¾ã™ã€‚
                #search: Windows IPv6
        - #// VSCode ã‹ã‚‰ VM ã« SSH æ¥ç¶šã§ããªã„  #search: VSCode SSH trouble
        - #// Windows ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãªã©ã‹ã‚‰ VM ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ #keyword: VirtualBox network trouble Windows and VM 
            ãƒ›ã‚¹ãƒˆ ã‚ªãƒ³ãƒªãƒ¼ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ ã‚’æ­£ã—ãè¨­å®šã—ã¾ã™: #search: set VirtualBox host-only adapter
            iptables: #search:
        - #// ç‘æƒ³ä¸­ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ï¼‰
            æ‰‹é †: VirtualBox ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ä¸­ã® VM ä¸€è¦§ã®ä¸­ã® VM ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
            ã‚¨ãƒ©ãƒ¼: |
                ç‘æƒ³ä¸­ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ï¼‰
            å¯¾å‡¦:
                æ›¸å¼: VBoxManage.exe controlvm  __VMFolderName__  poweroff
                __VMName__: ~/VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã®ä¸­ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å
            ã‚µãƒ³ãƒ—ãƒ« (PowerShell):
                $env:PATH = "C:\Program Files\Oracle\VirtualBox;$env:PATH"
                VBoxManage.exe controlvm  project_name_1685936563514_93307  poweroff
        - #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¨­å®šãŒã§ããªã„
            æ‰‹é †: VirtualBox >> è¨­å®š >> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
            çŠ¶æ³: ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆ
            å¯¾å‡¦: VM ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¦ãã ã•ã„
        - #// VERR_NEM_INIT_FAILED
            æ‰‹é †: VM ã‚’èµ·å‹•ã—ãŸã¨ã
            ã‚¨ãƒ©ãƒ¼: |
                ä»®æƒ³ãƒã‚·ãƒ³"____"ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹ã‘ã¾ã›ã‚“ã§ã—ãŸã€‚
                Call to NEMR0InitVMPart2 failed: VERR_NEM_INIT_FAILED (VERR_NEM_VM_CREATE_FAILED).
                çµ‚äº†ã‚³ãƒ¼ãƒ‰ : E_FAIL (0x80004005)
                ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: ConsoleWrap
                ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: IConsole {________-____-____-____-____________}
            å¯¾å‡¦A:
                VirtualBox 6.1.28 ã®å ´åˆ: VirtualBox 6.1.26 ã«æˆ»ã—ã¾ã™
            å¯¾å‡¦B:
                Hyper-V ã‚’ã‚ªãƒ•ã«ã—ã¾ã™ï¼ˆå‰¯ä½œç”¨ã‚ã‚Šï¼‰  #search: Hyper-V
    é–¢é€£:  #search: Vagrant
VMware:
    vSphere: #keyword:  #// ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼å…¨ä½“ã‚’ä»®æƒ³åŒ–ã—ã€ä»®æƒ³ãƒã‚·ãƒ³ï¼ˆVMï¼‰ã®ä½œæˆã€ç®¡ç†ã€ç›£è¦–ã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¹ã‚¤ãƒ¼ãƒˆ
        æ§‹æˆ:
            vCenter Server:
                vSphereç’°å¢ƒã®ä¸­å¿ƒã¨ãªã‚‹ç®¡ç†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã€è¤‡æ•°ã®ESXiãƒ›ã‚¹ãƒˆã¨ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä¸€å…ƒçš„ã«ç®¡ç†ã—ã¾ã™ã€‚vCenter Serverã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒªã‚½ãƒ¼ã‚¹ã®å‰²ã‚Šå½“ã¦ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ç›£è¦–ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç®¡ç†ãªã©ãŒå¯èƒ½ã§ã™ã€‚
            ESXiãƒ›ã‚¹ãƒˆ:
                vSphereç’°å¢ƒã®ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚Šã€ç‰©ç†ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ç›´æ¥å‹•ä½œã—ã¾ã™ã€‚ESXiãƒ›ã‚¹ãƒˆã¯ä»®æƒ³ãƒã‚·ãƒ³ã®ä½œæˆã¨å®Ÿè¡Œã‚’ã‚µãƒãƒ¼ãƒˆã—ã€ç‰©ç†ãƒªã‚½ãƒ¼ã‚¹ã‚’ä»®æƒ³ãƒã‚·ãƒ³ã«å‰²ã‚Šå½“ã¦ã¾ã™ã€‚
            vSphere Client:
                ç®¡ç†è€…ãŒvSphereç’°å¢ƒã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€æ“ä½œã‚’è¡Œã†ãŸã‚ã®GUIãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚Webãƒ™ãƒ¼ã‚¹ã®vSphere Web Clientã‚„ã€æ—§æ¥ã®Windowsç”¨vSphere ClientãŒå«ã¾ã‚Œã¾ã™ã€‚
            vSphere HA (High Availability):
                ä»®æƒ³ãƒã‚·ãƒ³ã®å¯ç”¨æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã€ESXiãƒ›ã‚¹ãƒˆã«éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã«è‡ªå‹•çš„ã«ä»®æƒ³ãƒã‚·ãƒ³ã‚’åˆ¥ã®ãƒ›ã‚¹ãƒˆã«å†èµ·å‹•ã—ã¾ã™ã€‚
            vSphere DRS (Distributed Resource Scheduler):
                ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’åŠ¹ç‡çš„ã«åˆ†æ•£ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã€è² è·åˆ†æ•£ã‚’è¡Œã„ã€ãƒªã‚½ãƒ¼ã‚¹ã®åˆ©ç”¨åŠ¹ç‡ã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚DRSã¯ã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’è‡ªå‹•çš„ã«æœ€é©ãªãƒ›ã‚¹ãƒˆã«ç§»å‹•ã•ã›ã¾ã™ã€‚
            vSphere vMotion:
                ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã§ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä¸€ã¤ã®ESXiãƒ›ã‚¹ãƒˆã‹ã‚‰åˆ¥ã®ãƒ›ã‚¹ãƒˆã«ç§»å‹•ã•ã›ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚„è² è·åˆ†æ•£ã®éš›ã«åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚
            vSphere Storage vMotion:
                ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã§ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒ‡ã‚£ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‹ã‚‰åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç§»å‹•ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚
            vSphere Replication:
                ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ¥ã®å ´æ‰€ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã—ã€ç½å®³å¾©æ—§ã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ä¿è­·ã‚’æä¾›ã—ã¾ã™ã€‚
        é–¢é€£: #search: VirtualBox back up VM
åå‰ç©ºé–“æ©Ÿèƒ½: #keyword: Linux name space
    æ¦‚è¦:
        åå‰ç©ºé–“ã¯ã€ç‰¹å®šã®ãƒ—ãƒ­ã‚»ã‚¹ã¨é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚åå‰ç©ºé–“å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ä»–ã®åå‰ç©ºé–“ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚
        ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã™ã‚‹ã¨ã€ãã®åå‰ç©ºé–“ã‚‚å‰Šé™¤ã•ã‚Œã¾ã™ï¼ˆãŸã ã—ã€ä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒåå‰ç©ºé–“ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã«é™ã‚Šã¾ã™ï¼‰ã€‚
    æ§‹æˆ:
        UTS åå‰ç©ºé–“: ãƒ›ã‚¹ãƒˆåã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’åˆ†é›¢ã€‚
        PID åå‰ç©ºé–“: ãƒ—ãƒ­ã‚»ã‚¹ ID ã‚’åˆ†é›¢ã€‚
        Mount åå‰ç©ºé–“: ãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆã‚’åˆ†é›¢ã€‚
        IPC åå‰ç©ºé–“: ã‚·ã‚¹ãƒ†ãƒ  V IPC ã‚„ POSIX ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã‚’åˆ†é›¢ã€‚
        User åå‰ç©ºé–“: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ã‚°ãƒ«ãƒ¼ãƒ— ID ã‚’åˆ†é›¢ã€‚
        Network åå‰ç©ºé–“: #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã€ãƒãƒ¼ãƒˆãªã©ï¼‰ã‚’åˆ†é›¢
            æ§‹æˆ:
                ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä»®æƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚å«ã‚€ï¼‰
                IP ã‚¢ãƒ‰ãƒ¬ã‚¹
                ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«
                ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ï¼ˆiptablesï¼‰
                ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ãƒ‰
            åå‰ç©ºé–“é–“ã§é€šä¿¡: ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆvethï¼‰ã‚„ãƒ–ãƒªãƒƒã‚¸ã‚’è¨­å®šã—ã¾ã™
            WSL2 ã® localhost ã¯åå‰ç©ºé–“ã§åˆ†ã‹ã‚Œã¾ã›ã‚“:  #search: WSL2 automatic port forwarding
WSL, Windows Subsystem for Linux:  #keyword: WSL, WSL2
    å‚è€ƒ:  #ref: ${programming}/OS/VMWare.svg#WSL
    æ‰‹é †:
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«, ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #keyword: install WSL2  #// ã“ã“ã¯ã€åˆã‚ã¦ WSL ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™
            #ref: https://qiita.com/Takakiri/items/41d0d1ed67e9505598a1
            Ubuntu-24.04.1 LTS: #keyword: install WSL2 Ubuntu VSCode  #// WSL2 Ubuntu
                ã‚¹ãƒˆã‚¢ç‰ˆ:
                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼:
                            Windows11 Start >> Microsoft Store >> wslï¼ˆã‚’æ¤œç´¢ï¼‰>> Ubuntu 24.04.1 >> ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã‚Šã¾ã™:  #ref: https://learn.microsoft.com/ja-jp/windows/wsl/setup/environment#set-up-your-linux-username-and-password
                            Enter new UNIX username: __UserName__  #// Linux ã‹ã‚‰ SSH ã™ã‚‹ã¨ãã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ãªã‚Šã¾ã™ï¼ˆæœªç¢ºèªï¼‰
                            New password: __Password__
                            Retype New password: __Password__
                    VSCode ã§é–‹ãã¾ã™:
                        VSCode ã« WSL æ‹¡å¼µæ©Ÿèƒ½ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€
                        code ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™
                    å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: #keyword: reinstall Ubuntu-24.04  #// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å†å…¥åŠ›ã‚’ã—ã¾ã™
                        Windows 11 è¨­å®š >> ã‚¢ãƒ—ãƒª >> ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒª >>
                        Ubuntu-24.04.1 LTS >> ...ï¼ˆå³ï¼‰>> è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ >> ãƒªã‚»ãƒƒãƒˆ >> ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« >>
                        PowerShell >> wsl -l >>  wsl --unregister Ubuntu-24.04 >>
                        Windows11 Start >> Microsoft Store >> wslï¼ˆã‚’æ¤œç´¢ï¼‰>> Ubuntu 24.04.1 >> ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
            Ubuntu-20.04:
                ã‚¹ãƒˆã‚¢ç‰ˆ:
                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #focus: wsl.exe --update
                        å‚¬ä¿ƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: |  #// WSL ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã« WSL ã‚’èµ·å‹•ã—ãŸã¨ã
                            PS C:\Users\user1> wsl -d Ubuntu-20.04-docker
                            Linux ç”¨ Windows ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ãŒ Microsoft Store ã§å…¥æ‰‹å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚
                            'wsl.exe --update' ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã€https://aka.ms/wslstorepage ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã§ãã¾ã™
                            Microsoft Store ã‹ã‚‰ WSL ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€æœ€æ–°ã® WSL æ›´æ–°ãŒã‚ˆã‚Šé€Ÿãæä¾›ã•ã‚Œã¾ã™ã€‚
                            è©³ç´°ã«ã¤ã„ã¦ã¯ã€https://aka.ms/wslstoreinfo
                            ã‚’ã”è¦§ãã ã•ã„ã€‚
                        æ›´æ–°: |
                            user1@pc01:/mnt/c/Users/user1 $ wsl.exe --update
                            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­: Linux ç”¨ Windows ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ 
                            Linux ç”¨ Windows ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ   ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸã€‚
                            user1@pc01:/mnt/c/Users/user1 $
                Windows 10 21H1:  #// 2022-10.  Windows 11 22H2 ã¯æœªç¢ºèª,  Ubuntu-20.04
                    å‚è€ƒ:
                        Microsoft:
                            #ref: https://learn.microsoft.com/ja-jp/windows/wsl/install
                            #ref: https://learn.microsoft.com/ja-jp/windows/wsl/tutorials/wsl-vscode
                            #ref: https://learn.microsoft.com/ja-jp/windows/wsl/setup/environment#set-up-your-linux-username-and-password
                        Ubuntu:  #ref: https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10
                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #// WSL2 ã¨ Ubuntu 20.04 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                        #ref: ${typrm_files}/Qiitaä¸‹æ›¸ã/15_BashDebug/15_BashDebug.md  #ref: https://qiita.com/Takakiri/items/41d0d1ed67e9505598a1
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼:
                            PowerShellï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ç®¡ç†è€…ã¨ã—ã¦å®Ÿè¡Œã™ã‚‹
                        wsl --install ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆ:
                            (PowerShell in Windows Terminal):
                                - wsl --list --online  #// ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã—ã¾ã™
                                - wsl --install -d "Ubuntu-20.04"  #template: -d "__DistributionName__"  #// FRIENDLY NAME ã§ã¯ãªã„ã»ã†ã€‚ distro name ã¨ã‚‚ã„ã†
                                    #// Ubuntu-20.04 ã®å ´åˆã€1åˆ†åŠå¾…ã¡ã¾ã™
                                #// wsl --install (-d ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—) ã§ã¯ã€Linux ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œãš WSL ã ã‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã§ã™
                        å†èµ·å‹•ã‚’è¦æ±‚ã•ã‚ŒãŸå ´åˆ:
                            ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:
                                è¦æ±‚ã•ã‚ŒãŸæ“ä½œã¯æ­£å¸¸ã«çµ‚äº†ã—ã¾ã—ãŸã€‚å¤‰æ›´ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                            Windows ã‚’å†èµ·å‹•ã—ã¾ã™:
                                #// wsl --install (-d ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—) ã‚’å®Ÿè¡Œã—ãŸã¨ãã¯ã€ã“ã“ã§å®Œäº†ã§ã™ã€‚
                    åˆæœŸè¨­å®š:  #// Ubuntu ã®åˆæœŸè¨­å®šã‚’ã—ã¾ã™
                        ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚Šã¾ã™:  #ref: https://learn.microsoft.com/ja-jp/windows/wsl/setup/environment#set-up-your-linux-username-and-password
                            Enter new UNIX username: __UserName__  #// Linux ã‹ã‚‰ SSH ã™ã‚‹ã¨ãã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ãªã‚Šã¾ã™ï¼ˆæœªç¢ºèªï¼‰
                            New password: __Password__
                            Retype New password: __Password__
                        ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã¾ã™:
                            ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ç’°å¢ƒã®å ´åˆ:
                                sudo ã—ãŸã¨ãã‚‚ãƒ—ãƒ­ã‚­ã‚·ã«é–¢ã™ã‚‹ç’°å¢ƒå¤‰æ•°ã‚’ç¶™æ‰¿ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™:  #keyword: Ubuntu env_keep
                                    ã‚³ãƒãƒ³ãƒ‰:
                                        (bash$):
                                            sudo visudo
                                    ç·¨é›†å‰:
                                        Defaults        env_reset
                                    ç·¨é›†å¾Œ:
                                        Defaults        env_reset
                                        Defaults        env_keep = "http_proxy ftp_proxy ftp_proxy DISPLAY XAUTHORITY"
                                    #// Ctrl + X ã‚­ãƒ¼ã¨ Y Enter ã§ä¿å­˜ã—ã¦çµ‚äº†ã—ã¾ã™
                                ãƒ—ãƒ­ã‚­ã‚·ã® URL ã‚’è¨­å®šã—ã¾ã™:
                                    sudo nano /etc/apt/apt.conf : |  #search: __Company__ Ubuntu
                                        Acquire::http::Proxy "http://____";
                                #ref: https://askubuntu.com/questions/7470/how-to-run-sudo-apt-get-update-through-proxy-in-commandline
                            (bash$): #keyword: apt update upgrade
                                sudo apt update -y && sudo apt upgrade -y
                                #// ç´„3åˆ†åŠå¾…ã¡ã¾ã™
                        Ubuntu ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¨ã€ç®¡ç†è€…ã® PowerShell ã‚’é–‰ã˜ã¾ã™:
                            é–‰ã˜ã‚‹ ãƒœã‚¿ãƒ³ 2ã¤
                            #// Ubuntu ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰ã«ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•ãŒè¦æ±‚ã•ã‚ŒãŸã¨ãã¯ã€ç®¡ç†è€…ã® PowerShell ã¯ã™ã§ã«é–‰ã˜ã‚‰ã‚Œã¦ã„ã¾ã™
                    ï¼ˆé€šå¸¸ä¸è¦ã€åˆå›ã®ã¿ï¼‰èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚Šã¾ã™: #keyword: WSL start script  #// ç‰¹å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚·ã‚§ãƒ«ã‚’é–‹ã PowerShell ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œã‚Šã¾ã™:
                        #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’èµ·å‹•ã™ã‚‹ã¨ãã¯ã€ã“ã®èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸è¦ã§ã™
                        Windows ã‚¹ã‚¿ãƒ¼ãƒˆ >> PowerShellï¼ˆã¨å…¥åŠ›ï¼‰:
                            ğŸ’¤ Ubuntu 16.04 ã®å ´åˆ:  #template-if: $settings.__WSL_StartScriptName__ == ubuntu16
                                (PowerShell>): |  #keyword: ubuntu16 command
                                    ${script} = "${HOME}\AppData\Local\Microsoft\WindowsApps\ubuntu16.ps1"
                                    echo  "wsl -d Ubuntu-16.04" > ${script}
                                    Set-ExecutionPolicy  RemoteSigned  -Scope CurrentUser  #// ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚è­¦å‘Šã•ã‚Œã¦ã‚‚ y ã‚’å…¥åŠ›ã—ã¾ã™
                            ğŸŒŸ Ubuntu 20.04 ã®å ´åˆ:  #template-if: $settings.__WSL_StartScriptName__ == ubuntu20
                                (PowerShell>): |  #keyword: ubuntu20 command
                                    ${script} = "${HOME}\AppData\Local\Microsoft\WindowsApps\ubuntu20.ps1"
                                    echo  "wsl -d Ubuntu-20.04" > ${script}
                                    Set-ExecutionPolicy  RemoteSigned  -Scope CurrentUser  #// ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚è­¦å‘Šã•ã‚Œã¦ã‚‚ y ã‚’å…¥åŠ›ã—ã¾ã™
                        PowerShell ã‚’é–‰ã˜ã¾ã™:
                            é–‰ã˜ã‚‹
                    WSL å†…ã® bash ã‚’èµ·å‹•ã—ã¾ã™:
                        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’èµ·å‹•ã™ã‚‹å ´åˆ:
                            æ–°ã—ã„ PowerShell> ã§:
                                wsl
                        æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’èµ·å‹•ã™ã‚‹å ´åˆ:
                            æ–°ã—ã„ PowerShell> ã§:
                                - ubuntu20  #template: __WSL_StartScriptName__
                                # ã¾ãŸã¯
                                - wsl -l
                                - wsl -d "Ubuntu-20.04"  #template: __DistributionName__
                                #search: WSL start script
                    ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®åˆæœŸè¨­å®šã‚’ã—ã¾ã™:
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒæš—ã„é’ã§è¦‹ã«ãã„å•é¡Œã‚’è§£æ¶ˆã—ã¾ã™: #keyword: Ubuntu terminal colors
                            ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: #search: Ubuntu prompt customize
                            ls ã‚³ãƒãƒ³ãƒ‰: #search: Ubuntu ls customize
                        bin ã« PATH ã‚’é€šã—ã¾ã™: #search: ~/bin
                    ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ç’°å¢ƒã®å ´åˆ:  #keyword: Ubuntu Linux proxy
                        ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™:
                            (bash$):
                                nano  ~/.bashrc  : |  #// æœ€ã‚‚ä¸‹ã¸è¿½è¨˜  #search: __Company__ Ubuntu
                                    export  http_proxy="http://____"
                                    export  https_proxy="http://____"
                                    export  no_proxy="127.0.0.1, localhost"
                                #ref: https://code.visualstudio.com/docs/setup/network
                        è¨­å®šã‚’ã™ãã«æœ‰åŠ¹ã«ã—ã¾ã™:
                            (bash$):
                                source ~/.bashrc
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª:  #// Ubuntu ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™: #keyword: Ubuntu version
                        (bash$):
                            lsb_release -a
                        å‡ºåŠ›ä¾‹: |
                            No LSB modules are available.
                            Distributor ID: Ubuntu
                            Description:    Ubuntu 20.04.6 LTS
                            Release:        20.04
                            Codename:       focal
                        è£œè¶³:
                            lsb_release -d ã¯ Description ã ã‘è¡¨ç¤ºã—ã¾ã™
                    Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: #keyword: WSL VSCode
                        ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ç’°å¢ƒã®å ´åˆ:
                            #search: Ubuntu Linux proxy  #// æ‰‹é †é€šã‚Šãªã‚‰è¨­å®šæ¸ˆã¿
                        æœ¬ä½“ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            Windows:
                                Windows ç‰ˆ Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                    #search: VSCode install
                                æ‹¡å¼µæ©Ÿèƒ½(Extensions)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                    - Remote Development  #// WSL æ‹¡å¼µæ©Ÿèƒ½ãŒå«ã¾ã‚Œã¦ã„ã¾ã™
                            (bash$):
                                ãƒ—ãƒ­ã‚­ã‚·ãŒãªã„ç’°å¢ƒã®å ´åˆ:
                                    code ~
                                ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ç’°å¢ƒã®å ´åˆ:
                                    code --proxy-server="http=$http_proxy;https=$https_proxy" --proxy-bypass-list="$no_proxy" ~
                                    #// å†…éƒ¨ã§å®Ÿè¡Œã™ã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã¯ã€http_proxy ç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ã—ãªã„ã‚ˆã†ã§ã™ã€‚
                                    #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå¾Œã¯ --proxy-server ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ --proxy-bypass-list ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä¸è¦ã§ã™ã€‚
                                    #// æœ«å°¾ã® ~ ã¯ /home/__UserName__ ã«ç›¸å½“ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œã«é–‹ããƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§ã™ã€‚
                                    #// code ã‚’ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«ã™ã‚‹ã¨ VSCode ã® Terminal ã‹ã‚‰ code ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆãªããªã‚Šã¾ã™
                                        #ref: https://github.com/microsoft/vscode/issues/46348   â†èª¤ã£ãŸææ¡ˆ
                        PowerShell ã‚’é–‰ã˜ã‚‹ã‹æœ€å°åŒ–ã—ã¾ã™:
                        ã‚¿ãƒ¼ãƒŸãƒŠãƒ« (bash$) ã‚’é–‹ãã¾ã™:
                            VSCode >> Treminal ãƒ¡ãƒ‹ãƒ¥ãƒ¼ >> New Terminal
                        ãƒ›ãƒ¼ãƒ ã‚’ç¢ºèªã—ã¾ã™:
                            (bash$):
                                - pwd
                                - ls -a ~             #// Linux ã® /home/__UserName__
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰USERPROFILE ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™:  #keyword: WSL USERPROFILE example
                            è¨­å®šã—ã¾ã™:
                                code  ~/.bashrc  : |  #// æœ€ã‚‚ä¸‹ã¸è¿½è¨˜
                                    export  USERPROFILE=/mnt/c/Users/__UserName__
                                è¨­å®šã‚’ã™ãã«æœ‰åŠ¹ã«ã—ã¾ã™:
                                    source ~/.bashrc
                            ç¢ºèªã—ã¾ã™:
                                ls ${USERPROFILE}
                        ãã®ä»–ã®è¨­å®š:
                            #ref: https://learn.microsoft.com/ja-jp/windows/wsl/setup/environment#use-visual-studio-code
                        VSCode ã‚’é–‰ã˜ã¾ã™:
                            é–‰ã˜ã‚‹
                    Ubuntu ã‚’èµ·å‹•ã—ã€ Visual Studio Code ã‚’é–‹ãã¾ã™:
                        (æ–°ã—ã„ PowerShell>):
                            ubuntu20  #template: __WSL_StartScriptName__  #search: WSL start script
                        (bash$):
                            code ~  #// ~ ã¯ /home/__UserName__ ã«ç›¸å½“ã—ã¾ã™ã€‚ ~ ã‚’ Visual Studio Code ã§é–‹ãã¾ã™
                        PowerShell ã‚’é–‰ã˜ã¾ã™:
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™: #keyword: WSL2 root password
                        #// Ubuntu 20.04
                        - sudo passwd  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™
                        - su -  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                        - exit  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™
                        #ref: https://askubuntu.com/questions/931940/unable-to-change-the-root-password-in-windows-10-wsl
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰git ã‚’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã‚¢ãƒƒãƒ— ã—ã¾ã™:  #keyword: update Ubuntu git,  install Ubuntu git
                        ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã®å ´åˆ:
                            sudo http_proxy=${http_proxy} https_proxy=${https_proxy}  add-apt-repository ppa:git-core/ppa -y
                        ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§ã¯ãªã„å ´åˆ:
                            sudo add-apt-repository ppa:git-core/ppa -y
                        å…±é€š:
                            sudo apt-get update
                            sudo apt-get install git -y
                            git --version  #// 2.38.0 in 2022-10-04
                        #ref: https://unix.stackexchange.com/questions/33617/how-can-i-update-to-a-newer-version-of-git-using-apt-get
                    ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§:  #// WSL ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã—ã¾ã™
                        ã‚³ãƒãƒ³ãƒ‰:
                            (PowerShell>):
                                wsl --list
                        å®Ÿè¡Œä¾‹: |
                            > wsl --list
                            Linux ç”¨ Windows ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³:
                            Ubuntu-20.04 (æ—¢å®š)
                            Ubuntu-16.04
                    é›»æºã‚ªãƒ•, ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: #keyword: WSL shutdown,  WSL2 delete terminate
                        å…¨çµ‚äº†: #keyword: wsl --shutdown,  restart WSL2  #// ã™ã¹ã¦ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã€WSL ã‚’çµ‚äº†ã—ã¾ã™
                            (PowerShell>):
                                wsl --shutdown
                            #// WSL2 Linux ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨èµ·å‹•ã—ã¾ã™ï¼ˆå…¨çµ‚äº†ã¨åˆã‚ã›ã¦ã€å†èµ·å‹•ã«ç›¸å½“ã—ã¾ã™ï¼‰
                        1ã¤çµ‚äº†: #keyword: wsl --terminate  #// æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™ã€‚é›»æºã‚ªãƒ•ç›¸å½“
                            (PowerShell>):
                                wsl --terminate  "Ubuntu-20.04-____"  #template: "__DistributionName__-____"
                        ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: #keyword: wsl --unregister,  WSL uninstall distribution  #// æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                            (PowerShell>): #// ç®¡ç†è€…ã§ãªãã¦ã‚‚ã‚ˆã„
                                wsl --unregister "Ubuntu-20.04-____"  #template: "__DistributionName__-____"
                Windows 10 2004 ä»¥é™: #ref: https://www.yokoweb.net/2020/05/29/windows10-wsl2-ubuntu-20_04/
                    #// 2022-10 ç¾åœ¨ã€Microsoft Store ã§ èµ·å‹• ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚
                    #// Windows 10 20H2 ã¾ã§ã¯åŒæ§˜ã‚‰ã—ã„ï¼ˆæœªç¢ºèªï¼‰ #ref: https://atmarkit.itmedia.co.jp/ait/articles/2102/03/news020.html
                    ï¼ˆåˆå›ã®ã¿ï¼‰WSL2 ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Windows 10 2004 >> ã‚¹ã‚¿ãƒ¼ãƒˆ >> è¨­å®š >> ã‚¢ãƒ—ãƒªï¼ˆ6ã¤ç›®ï¼‰>> ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨æ©Ÿèƒ½ï¼ˆå³ä¸Šï¼‰>>
                            Windowsã®æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–ã¾ãŸã¯ç„¡åŠ¹åŒ–ï¼ˆå·¦ä¸Š3ã¤ç›®ï¼‰
                        Linux ç”¨ Windows ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ : ã‚ªãƒ³
                        ä»®æƒ³ãƒã‚·ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : ã‚ªãƒ³
                    ï¼ˆåˆå›ã®ã¿ï¼‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ WSL2 ã«è¨­å®šã—ã¾ã™:
                        Powershell: wsl --set-default-version 2
                    Ubuntu ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// Microsoft ã‚¹ãƒˆã‚¢ç‰ˆ
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Windows 10 2004 >> ã‚¹ã‚¿ãƒ¼ãƒˆ >> Microsoft Storeï¼ˆã¨å…¥åŠ›ã—ã¦é¸æŠï¼‰>>
                            ï¼ˆå³ä¸Šã®æ¤œç´¢ã«ï¼‰Ubuntuï¼ˆã¨å…¥åŠ›ã—ã¦ Enter ã‚­ãƒ¼ï¼‰>>
                            Ubuntu 20.04 LTS >> å…¥æ‰‹ï¼ˆå³ä¸Šï¼‰>>ï¼ˆè¤‡æ•°ã®ãƒ‡ãƒã‚¤ã‚¹ã§ä½¿ç”¨ã™ã‚‹ï¼‰å¿…è¦ã‚ã‚Šã¾ã›ã‚“ >>
                            ï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å¾…ã¤ï¼‰>> èµ·å‹•ï¼ˆå³ä¸Šï¼‰
                        Enter new UNIX username: vagrant  #// SSH ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨åˆã‚ã›ã‚‹ã¨ SSH ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’çœç•¥ã§ãã¾ã™
                        New password: vagrant
                        ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ LAN ã«ã„ã‚‹å ´åˆ:
                            sudo nano /etc/apt/apt.conf : |
                                Acquire::http::proxy  "http://proxy.____:____/";
                                Acquire::https::proxy "http://proxy.____:____/";
                    Ubuntu ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã¾ã™:
                        Ubuntu ã‚·ã‚§ãƒ«:
                            - sudo apt update
                            - sudo apt upgrade
                    IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã¾ã™:  #search: Linux ip route
                Windows 10 1909: #ref: https://mseeeen.msen.jp/windows-terminal-with-ubuntu/
            Rocky Linux 9: #keyword: install WSL2 Rocky Linux 9  #ref: https://rockylinux.org/download/
                Windows 11 23H2:
                    æ‰‹å‹•ã®å ´åˆ:
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® rootfs (.tar.xz) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:  #ref: https://docs.rockylinux.org/guides/interoperability/import_rocky_to_wsl/
                            Base: æ¨™æº–
                            UBI: Base ã¨ã»ã¼åŒã˜ã‚µã‚¤ã‚º  #search: Red Hat Universal Base Image
                            Minimal: æœ€å°
                        #// ã‹ãã‹ã‘  #search: install WSL2 Rocky Linux 8
            Rocky Linux 8: #keyword: install WSL2 Rocky Linux 8  #ref: https://rockylinux.org/download/
                Windows 10 22H2:  #ref: https://docs.rockylinux.org/guides/interoperability/import_rocky_to_wsl/
                    è‡ªå‹•ã®å ´åˆ:
                        #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/install-dev.sh  #keyword: install-dev.sh
                        #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/Rocky8/remote-setup.sh
                    æ‰‹å‹•ã®å ´åˆ:
                        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã® rootfs (.tar.xz) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:  #ref: https://docs.rockylinux.org/guides/interoperability/import_rocky_to_wsl/
                            Base: æ¨™æº–
                            UBI: Base ã¨ã»ã¼åŒã˜ã‚µã‚¤ã‚º  #search: Red Hat Universal Base Image
                            Minimal: æœ€å°
                        7zip ã§ .tar.xz ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ã¾ã™:
                        ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™:
                            PowerShell ã‚³ãƒãƒ³ãƒ‰: |
                                    wsl --unregister Rocky8  #// å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆ
                                    wsl --import Rocky8  $HOME/WSL_VMs/Rocky8  $HOME/WSL_back_up/Rocky-8-Container-Base.latest.x86_64.tar  --version 2
                                #template_: wsl --import __VmName__ __NewVmFolderPath__ __TarGzFilePath__ --version 2
                            __VmName__: Rocky8  #// ä¾‹
                            __NewVmFolderPath__: $HOME/WSL_VMs/__VmName__  
                            __TarGzFilePath__: $HOME/WSL_back_up/____.tar.gz
                        ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ããŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                            wsl -l   #// __VmName__
                        èµ·å‹•ã—ã¾ã™:
                            wsl -d  "Rocky8"   #// __VmName__
                        user1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã‚Šã¾ã™: |  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ä½œæ¥­ã—ãªã„ãŸã‚
                            useradd -m  "user1"
                            echo "proxy=http://___.___.___.___:____/"  >> /etc/yum.conf
                            yum install -y  passwd
                            passwd  "user1"  < <(echo -e "user1\nuser1\n")
                            usermod -aG wheel  "user1"  #// for sudo
                            echo "[user]"        >  /etc/wsl.conf
                            echo "default=user1" >> /etc/wsl.conf
                        ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™:
                            exit
                            wsl --terminate  "Rocky8"
                        ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                            wsl -d  "Rocky8"  #// ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ããŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œã—ã¾ã™:
                            Git bash:
                                cat  "Rocky8/remote-setup.sh"  >  //wsl.localhost/Rocky8/root/test.sh
                                wsl -d "Rocky8"  bash  //root/test.sh
                                rm  //wsl.localhost/Rocky8/root/test.sh
            Docker:  #search: install Docker for WSL2
            SSH: #keyword: WSL2 SSH
                #search: WSL2 URL
        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—, ãƒªã‚¹ãƒˆã‚¢:  #keyword: back up WSL2,  WSL2 export import  #// ã“ã“ã¯ã€åˆæœŸçŠ¶æ…‹ã® VM ã‚’è¤‡è£½ï¼ˆãƒªã‚¹ãƒˆã‚¢ï¼‰ã™ã‚‹å ´åˆã«ã¤ã„ã¦ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™
            #// ä»®æƒ³ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ã®ã¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—, ãƒªã‚¹ãƒˆã‚¢ã—ã¾ã™ã€‚é€šå¸¸ãã‚Œã§ååˆ†ã§ã™ã€‚
            ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—:
                åˆå›ã®ã¿:
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:  #// ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— ãƒ•ã‚¡ã‚¤ãƒ« ã‚’å…¥ã‚Œã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚
                        (PowerShell>):
                            mkdir -ea 0  "${HOME}\WSL_back_up"
                ç¾åœ¨ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆã‚ã¦ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹å ´åˆ:
                    ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¨­å®šã—ã¾ã™:  #keyword: WSL login user
                        #// è¨­å®šã—ãªã„ã¨ã€ãƒªã‚¹ãƒˆã‚¢ã—ãŸã¨ãã« root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã—ã¾ã„å±é™ºã§ã™ã€‚VMã‚’å†èµ·å‹•ã—ãŸã¨ãã¯è¨­å®šã—ãªãã¦ã‚‚ã“ã‚Œã¾ã§ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¾ã™ã€‚
                        #ref: https://superuser.com/questions/1566022/how-to-set-default-user-for-manually-installed-wsl-distro
                        è¨­å®šã—ã¾ã™:
                            (bash$):
                                sudo nano /etc/wsl.conf : |
                                    [user]
                                    default=__UserName__
                        ç¢ºèªã—ã¾ã™:
                            (bash$):
                                exit
                            (PowerShell>):
                                VM ã‚’å†èµ·å‹•ã—ã¾ã™:
                                    - wsl --terminate  "Ubuntu-20.04"  #template: "__DistributionName__"
                                    - ubuntu20  #template: __WSL_StartScriptName__  #search: WSL start script
                            (bash$)(2):
                                ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç¢ºèªã—ã¾ã™
                        #ref: https://learn.microsoft.com/en-us/windows/wsl/wsl-config#user-settings
                ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:
                    ï¼ˆã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã™ï¼‰:
                        (PowerShell>):
                            wsl --terminate  "Ubuntu-20.04"  #// ã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã™ã€‚ãŸã ã—ã€export ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ VM ã¯çµ‚äº†(terminate)ã—ã¾ã™
                                #template: --terminate  "__DistributionName__"
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:  #// VHDX ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åœ§ç¸®ã™ã‚‹ã ã‘ã®ã‚ˆã†ã§ã™
                        (PowerShell>):
                            wsl --export  "Ubuntu-20.04"  "${HOME}\WSL_back_up\Ubuntu-20.04-1.tar"
                            #template-at(-1): --export  "__DistributionName__"
                            #template-at(-2): WSL_back_up\__BackUpFileName__.tar
                            #// 2.9GB ã® VHDX ãƒ•ã‚¡ã‚¤ãƒ«ã¯ 2.3GB ã«åœ§ç¸®ã•ã‚Œã¾ã™
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰æ—¥ä»˜ã‚„ã‚µã‚¤ã‚ºã‚’ç¢ºèªã—ã¾ã™:
                        (PowerShell>):
                            start "${HOME}\WSL_back_up"  #// ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒé–‹ãã¾ã™
            ãƒªã‚¹ãƒˆã‚¢: #keyword: WSL2 restore  #// æ—¢å­˜ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ãªã„ã€æ–°ã—ã„ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ=ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸=VHDX ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™
                æ–°ã—ããƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆVMï¼‰ã‚’ä½œã‚‹å ´åˆ:  #// ã¾ãŸã¯ã€ä»¥å‰ã€æ–°ã—ãä½œã£ãŸãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹å ´åˆ
                    ï¼ˆåˆã‚ã¦ã®å ´åˆï¼‰WSL_VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:  #// VHDX ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¥ã‚Œã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚
                        (PowerShell>):
                            mkdir -ea 0  "${HOME}\WSL_VMs"
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— ãƒ•ã‚¡ã‚¤ãƒ« ã®åå‰ã‚’èª¿ã¹ã¾ã™:
                        #// ä¸Šè¨˜ã®æ‰‹é †ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸå ´åˆã€${HOME}\WSL_back_up ã«ã‚ã‚Šã¾ã™
                        __BackUpFileName__.tar: Ubuntu-20.04-1.tar  #template: __BackUpFileName__.tar
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰åŒã˜åå‰ã®å¤ã„ VM ã‚’å‰Šé™¤ã—ã¾ã™:
                        (PowerShell>):
                            wsl --unregister "Ubuntu-20.04-____"
                    ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™: #keyword: WSL2 restore user VM
                        #// ä¸‹è¨˜ __DistributionName__-New ã‚’ç·¨é›†ã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¾ã™
                        #// ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸã¨ãã® __DistributionName__ ã¨ç•°ãªã‚‹æ–°ã—ã„ __DistributionName__ ã‚’æŒ‡å®šã§ãã¾ã™
                        #// wsl --list ã§è¡¨ç¤ºã•ã‚Œã‚‹ __DistributionName__ ã‚’æŒ‡å®šã—ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                        (PowerShell>):
                            mkdir -p "${HOME}\WSL_VMs"

                            wsl --import  "Ubuntu-20.04-New" `
                                "${HOME}\WSL_VMs\Ubuntu-20.04-New" `
                                "${HOME}\WSL_back_up\Ubuntu-20.04-1.tar"
                            #template-at(-3): --import  "__DistributionName__-New"
                            #template-at(-3): WSL_VMs\__DistributionName__-New
                            #template-at(-3): WSL_back_up\__BackUpFileName__.tar
                        #// VHDX ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å¸°ã™ã‚‹ã ã‘ã§èµ·å‹•ã§ãã¾ã™ã€‚Packages ä»¥ä¸‹ã«ã‚ã‚‹ãã®ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ãã¦ã‚‚èµ·å‹•ã§ãã¾ã™ã€‚
                    #// ç¶šã
                ä¸Šæ›¸ãã™ã‚‹å ´åˆ:  #// WSL2 ã«åˆã‚ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¸Šæ›¸ãã™ã‚‹å ´åˆ
                    ç™»éŒ²ã‚’å¤–ã—ã¾ã™:  #// æ—¢å­˜ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³åã‚’ç½®ãæ›ãˆã‚‹å ´åˆã¯å¤–ã—ã¾ã™ã€‚ æ–°ã—ããƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆVMï¼‰ã‚’ä½œã‚‹ã¨ãã¯å¤–ã—ã¾ã›ã‚“ã€‚
                        (PowerShell>):
                            wsl --unregister "Ubuntu-16.04"  #// VHDX ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‰Šé™¤ã•ã‚Œã¾ã™
                                #// unrewsl --unregister "Ubgister ã—ãªã„ã¨ import ã™ã‚‹ã¨ãã«ã‚¨ãƒ©ãƒ¼ã€ŒæŒ‡å®šã•ã‚ŒãŸåå‰ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚ã€ã«ãªã‚Šã¾ã™
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— ãƒ•ã‚¡ã‚¤ãƒ« ã®åå‰ã‚’èª¿ã¹ã¾ã™:
                        __BackUpFileName__.tar: Ubuntu-20.04-1.tar  #template: __BackUpFileName__.tar
                    ï¼ˆæ—¢å­˜ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¸Šæ›¸ãã™ã‚‹å ´åˆï¼‰:  #// æ—¢å­˜ã¨ã¯ã€è‡ªåˆ†ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸã‚‚ã®ã§ã¯ãªã„ã‚‚ã®ã‚’æŒ‡ã—ã¾ã™
                        PackageFamilyName ã‚’èª¿ã¹ã¦è¨­å®šã—ã¾ã™:  #// æ—¢å­˜ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³åã‚’ç½®ãæ›ãˆã‚‹å ´åˆã®ã¿
                            (PowerShell>):
                                Get-AppxPackage -Name "*Ubuntu*" | Select PackageFamilyName
                                    #template__: -Name "*__DistributionWithoutVersion__*"
                                    #// PackageFamilyName ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
                                    #// Ubuntu-16.04 ã‚’æŒ‡å®šã—ã¦ã‚‚ãƒ’ãƒƒãƒˆã—ã¾ã›ã‚“
                        PackageFamilyName ã‚’è¨­å®šã—ã¾ã™:
                            Ubuntu16.04 ã®å ´åˆ:
                                (PowerShell>):
                                    ${PackageFamilyName} = "CanonicalGroupLimited.Ubuntu16.04onWindows_79rhkp1fndgsc"
                            #// Get-AppxPackage ã§è¡¨ç¤ºã•ã‚ŒãŸä¸€è¦§ã‹ã‚‰è©²å½“ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸ã‚“ã§è¨­å®šã—ã¾ã™
                            #// 79rhkp1fndgsc ã¯ PublisherId ã§ã™ã€‚Get-AppxPackage -Name "*Ubuntu*" ã§ç¢ºèªã§ãã¾ã™ã€‚
                            #// å›ºå®šå€¤ãªã®ã§ã€Ubuntu16.04 ãªã‚‰ 79rhkp1fndgsc å›ºå®šã§ã™ã€‚
                            #// wsl --install ã®å†…éƒ¨ã§ä½¿ã‚ã‚Œã‚‹ PackageFamilyName
                            #ref: https://learn.microsoft.com/en-us/windows/wsl/vhd-size
                            #ref: https://stackoverflow.com/questions/64185560/where-are-the-files-inside-wsl2-physically-stored
                        ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™:
                            wsl --import  "Ubuntu-20.04" `
                                "${HOME}\AppData\Local\Packages\${PackageFamilyName}\LocalState" `
                                "${HOME}\WSL_back_up\Ubuntu-20.04-1.tar"
                                #template-at(-3): --import  "__DistributionName__"
                                #template-at(-2): WSL_back_up\__BackUpFileName__.tar
                            #// VHDX ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å¸°ã™ã‚‹ã ã‘ã§èµ·å‹•ã§ãã¾ã™ã€‚Packages ä»¥ä¸‹ã«ã‚ã‚‹ãã®ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ãã¦ã‚‚èµ·å‹•ã§ãã¾ã™ã€‚
                    ï¼ˆæ—¢å­˜ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ä»¥å¤–ã«ä¸Šæ›¸ãã™ã‚‹å ´åˆï¼‰:  #// æ—¢å­˜ã¨ã¯ã€è‡ªåˆ†ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸã‚‚ã®ã§ã¯ãªã„ã‚‚ã®ã‚’æŒ‡ã—ã¾ã™
                        #search: WSL2 restore user VM
                èµ·å‹•ã—ã¾ã™:
                    (PowerShell>):
                        - wsl -d "Ubuntu-20.04"  #// å¿…è¦ãªã‚‰ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³åã«å¤‰ãˆã¦ãã ã•ã„
                        # ã¾ãŸã¯
                        - ubuntu20  #template: __WSL_StartScriptName__  #search: WSL start script
                    (bash$):
                        code ~  #// ~ ã¯ /home/__UserName__ ã«ç›¸å½“ã—ã¾ã™ã€‚ ~ ã‚’ Visual Studio Code ã§é–‹ãã¾ã™
                    root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãªã£ã¦ã—ã¾ã†å ´åˆ:  #// ä¸Šè¨˜ code ã‚³ãƒãƒ³ãƒ‰ã¯å¤±æ•—ã™ã‚‹å ´åˆ
                        ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¨­å®šã—ã¾ã™:
                            #search: WSL login user
            ãƒªã‚»ãƒƒãƒˆ:
                Windows 10 2004 >> Ubuntu:  #// Ubuntu ã‚’ä½œã‚Šç›´ã—ã¾ã™
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼:
                        Windows 10 2004 >> è¨­å®š >> ã‚¢ãƒ—ãƒªï¼ˆ6ã¤ç›®ï¼‰>> Ubuntuï¼ˆã‚’æ¤œç´¢ï¼šä¸­å¤®ï¼‰>>
                        Ubuntu 20.04 LTS >> ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
                        ï¼ˆå†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼‰ #search: install WSL2 Ubuntu
                    ãƒ¡ãƒ¢:
                        å¤±æ•—ã—ãŸæ–¹æ³•:
                            Ubuntu 20.04 LTS >> è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ >> ãƒªã‚»ãƒƒãƒˆï¼ˆä¸‹ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰>>
                            ï¼ˆèµ·å‹•ã§ããªã„ï¼‰
            å‰Šé™¤:  #// ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€è¦§ã‹ã‚‰å‰Šé™¤ã—ã€VHDX ãƒ•ã‚¡ã‚¤ãƒ« ã‚‚å‰Šé™¤ã—ã¾ã™
                ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ç™»éŒ²ã‚’å¤–ã—ã¾ã™:
                    (PowerShell>):  #// ã‚µãƒ³ãƒ—ãƒ«
                        wsl --list
                        wsl --unregister "Ubuntu-16.04-nginx"  #// Ubuntu-16.04-nginx ã® VHDX ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‰Šé™¤ã•ã‚Œã¾ã™
                    #search: wsl --unregister
            #ref: https://www.virtualizationhowto.com/2021/01/wsl2-backup-and-restore-images-using-import-and-export/
            #ref: https://learn.microsoft.com/ja-jp/windows/wsl/use-custom-distro
        èµ·å‹•:  #// VM ã®é›»æºã‚’å…¥ã‚Œã‚‹ã“ã¨ã«ç›¸å½“ã—ã¾ã™
            PowerShell ã®å ´åˆ:  #keyword: start WSL
                æ—¢å®š:  #// æ—¢å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼:
                    wsl
                é¸ã‚“ã§é–‹ãã¾ã™:
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰æ—¢å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                        (PowerShell) wsl -l
                    ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ \\wsl$ ã‚’é–‹ãã¾ã™:
                        Windows Start >> \\wsl$ ï¼ˆã‚’å…¥åŠ›ã—ã¦ Enterï¼‰
                    é–‹ããƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§é–‹ãã¾ã™:
                        home/user1 ãªã©
                    VSCode ã§ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                        (PowerShell) code --remote wsl+__Distro__  "home/user1"
                ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³:
                    ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ãƒ­ã‚°ã‚¤ãƒ³:
                        wsl --distribution  __DistributionName__
                    æ—¢å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³:
                        #search: WSL setdefault
                ãƒ¦ãƒ¼ã‚¶ãƒ¼:
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æŒ‡å®šã—ã¦ãƒ­ã‚°ã‚¤ãƒ³:
                        wsl --user __UsernameInLinux__  #// --user ã®çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³åã¯ -u ã§ã™
                    æ—¢å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¤‰æ›´:
                        #ref: https://docs.microsoft.com/ja-jp/windows/wsl/wsl-config#change-the-default-user-for-a-distribution
            VSCode ã§é–‹ãã¾ã™:  #// Ubuntu ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™
                Windows ã‚¹ã‚¿ãƒ¼ãƒˆ >> Ubuntu 20.04 LTSï¼ˆã¨å…¥åŠ›ã—é¸æŠï¼‰>>
                VSCode >> ><ï¼ˆå·¦ä¸‹ç«¯ã®ç·‘ï¼‰>> New WSL Window using Distro >> Ubuntu-20.04
        é›»æºã‚ªãƒ•, ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
            - wsl --shutdown  #// ã™ã¹ã¦ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã€WSL ã‚’çµ‚äº†ã—ã¾ã™
            - wsl --terminate  "Ubuntu-20.04-____"  #// æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™:
            - wsl --unregister "Ubuntu-20.04-____"  #// æŒ‡å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
            #search: WSL shutdown
        ã‚³ãƒ”ãƒ¼ã—ã¾ã™:  #search: copy WSL2  #// Windows ã¨ WSL2 Linux ã®é–“ã§ã‚³ãƒ”ãƒ¼ã—ã¾ã™
        ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’æ‰±ã„ã¾ã™:
            #search: install Docker for WSL2
            Docker ã‚’ WSL2 ã¸æœ€é©åŒ–ã—ã¾ã™:  æœªç¢ºèª  #search: Docker WSL2 best experience
        Vmmem.exe ã®ãƒ¡ãƒ¢ãƒªãƒ¼ä½¿ç”¨é‡ã‚’æ¸›ã‚‰ã—ã¾ã™:  #keyword: Vmmem.exe
            #search: Docker memory size
        CallFromWindows, SetUpInLinuxUser: #keyword:  #// Windows ã®ä¸­ã«ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èµ·å‹•ã—ã¦ã€WSL2 ã®ä¸­ã® Linux ã§é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™
            #keyword: install-dev.sh CallFromWindows   #search: install-dev.sh
            CallFromWindows:
                install-dev.sh:       #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/install-dev.sh#CallFromWindows()
                specifications.yaml:  #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/specifications.yaml#CallFromWindows
            SetUpInLinuxUser:
                install-dev.sh:       #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/install-dev.sh#SetUpInLinuxUser()
                specifications.yaml:  #ref: ${GitHub}/MyPrivateCode/bash/Rocky8/specifications.yaml#SetUpInLinuxUser
    ã‚³ãƒãƒ³ãƒ‰:
        wsl:  #// èµ·å‹•ã—ã¾ã™  #search: start WSL
            --list:  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã—ã¾ã™
                PowerShell:
                    wsl --list  #// --list ã®çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³åã¯ -l
            --setdefault:  #// æ—¢å®šã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´ã—ã¾ã™  #keyword: wsl --setdefault
                PowerShell:
                    - wsl --list  #// __DistributionName__ ã‚’èª¿ã¹ã¾ã™
                    - wsl --setdefault __DistributionName__
            --shutdown:  #search: WSL shutdown  #// WSL ã‚’çµ‚äº†ã—ã¾ã™
            -d: #keyword: wsl -d  #// ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡å®š
                - wsl -d __Distribution__
                - wsl --distribution __Distribution__
            ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ: #keyword: WSL2 command,  WSL2 run exec bash  #// WSL2 ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§ã€æŒ‡å®šã—ãŸã‚·ã‚§ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:
                    - wsl  __CommandLine__
                    - wsl -d __Distribution__  __CommandLine__
                    - wsl  pwd
                    - wsl  echo '@@@ $USER, $OTHER, $http_proxy, $https_proxy, $no_proxy'  #// ~/.bashrc ã¯èª­ã¿è¾¼ã¾ã‚Œã¾ã›ã‚“  #search: WSL2 command ~/.bashrc
                    - wsl -d __Distribution__  -- __Command1__  "&&"  __Command2__
                    - wsl -d __Distribution__  -- cd //home/user1  "&&"  ls -l
                ~/.bashrc ã®è¨­å®š: #keyword: WSL2 command ~/.bashrc  #// â—æ³¨æ„ >> ãã®ã¾ã¾å®Ÿè¡Œã™ã‚‹ã¨ ~/.bashrc ã¯èª­ã¿è¾¼ã¾ã‚Œã¾ã›ã‚“
                    çŠ¶æ³:
                        Distribution="Rocky9"
                        wsl -d ${Distribution}  echo '@@@ $USER, $OTHER, $http_proxy, $https_proxy, $no_proxy'
                        #// ãŸã¨ãˆã° ~/.bashrc ã« no_proxy ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã€no_proxy ã¯å®šç¾©ã•ã‚Œã¾ã›ã‚“
                    å¯¾å‡¦A: #keyword: ~/source_bashrc  #// wsl ã‚³ãƒãƒ³ãƒ‰ãªã©ã§å®Ÿè¡Œã™ã‚‹ã¨ãã§ã‚‚ã€~/.bashrc ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã«é©ã—ã¦ã„ã¾ã™
                        ~/source_bashrc ã®å†…å®¹:
                            source ~/.bashrc
                            "$@"
                        ã‚µãƒ³ãƒ—ãƒ«:  #focus: no_proxy
                            ä½œã‚‹ã‚³ãƒãƒ³ãƒ‰:
                                echo  "source ~/.bashrc"  >  ~/source_bashrc
                                echo  '"$@"'             >>  ~/source_bashrc
                                chmod +x                     ~/source_bashrc
                            Linux ã« ãƒ†ã‚¹ãƒˆ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ã‚’ä½œã‚Šã¾ã™:
                                echo  'echo  @@@ ${USER}, ${OTHER}, ${http_proxy}, ${https_proxy}, ${no_proxy}'  >  ~/_test.sh
                                chmod +x  ~/_test.sh
                            Windows ã‹ã‚‰å®Ÿé¨“ã—ã¾ã™: |  #// bash -c ã¯ä¸è¦ã§ã™
                                Distribution="Rocky9"
                                wsl -d ${Distribution}  '~/source_bashrc'  '~/_test.sh'  #// ~/.bashrc ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚' ' ã§å›²ã‚€ã¨ Linux ã«ãã®ã¾ã¾æ¸¡ã‚Šã€Linux ã®ä¸­ã§å±•é–‹ã•ã‚Œã¾ã™
                                wsl -d ${Distribution}  '~/_test.sh'  #// ~/.bashrc ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã›ã‚“
                    å¯¾å‡¦B:  #// bash -c ãŒå¿…è¦
                        Linux ã« ãƒ†ã‚¹ãƒˆ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ã‚’ä½œã‚Šã¾ã™:
                            echo  'echo  @@@ ${USER}, ${OTHER}, ${http_proxy}, ${https_proxy}, ${no_proxy}'  >  ~/_test.sh
                            chmod +x  ~/_test.sh
                        Windows ã‹ã‚‰å®Ÿé¨“ã—ã¾ã™: |  #// bash -c ãŒå¿…è¦ã§ã€"__Command__ __Parameters__" ã®ã‚ˆã†ã« "" ãªã©ã§å›²ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™
                            Distribution="Rocky9"
                            wsl -d ${Distribution}  bash -c 'source ~/.bashrc  &&  ${HOME}/_test.sh'  #// ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™
                            wsl -d ${Distribution}  bash -c '${HOME}/_test.sh'  #// ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã›ã‚“
                            wsl -d ${Distribution}  '${HOME}/_test.sh'  #// ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã›ã‚“
                        â—æ³¨æ„:
                            wsl -d ${Distribution}  bash -c 'source ~/.bashrc  &&  echo  @@@ ${USER}, ${OTHER}, ${http_proxy}, ${https_proxy}, ${no_proxy}'
                                #// ãƒ­ãƒ¼ãƒ‰å‰ã«å¤‰æ•°ãŒå±•é–‹ã•ã‚Œã‚‹ãŸã‚ã€è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
                    å¯¾å‡¦C:  #// å®Ÿæ–½ã—ãŸãŒè§£æ±ºã—ãªã„ï¼ˆã™ãã«åæ˜ ã•ã‚Œãªã„ï¼Ÿã ã¨ã—ã¦ã‚‚æ‰±ã„ã«ãã„ï¼‰
                        ~/.bash_profile,  ~/profile
                #ref: https://learn.microsoft.com/en-us/windows/wsl/filesystems#mixing-linux-and-windows-commands
            ãã®ä»–ã®ã‚³ãƒãƒ³ãƒ‰:  #ref: https://learn.microsoft.com/en-us/windows/wsl/basic-commands
        Git bash: |  #// WSL2 Linux ã‹ã‚‰ Windows ã® Git bash ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                # RunInGitBash
                # Example:
                #    - RunInGitBash  pwd
                #    - RunInGitBash  ls  '/c/Program Files (x86)'
                function  RunInGitBash() {
                    echo  "$ cd ${PWD}"
                    echo  "$ $( GetArgumentsString "$@" )"
                    if [ "${USERPROFILE:0:5}" == "/mnt/" ]; then  #// WSL2
                        local  commandLine=""
                        until [ "$1" == "" ]; do
                            commandLine="${commandLine} \"$1\""
                            shift
                        done

                        "/mnt/c/Program Files/Git/bin/bash.exe" -c  "$commandLine"
                    else  #// Git bash
                        "$@"
                    fi
                }
            #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/centos7/install.sh#function  RunInGitBash
    æ¦‚å¿µ:
        WSL2:
            WSL1ã¨ã®é•ã„:
                #ref: https://www.virtualizationhowto.com/2021/01/wsl2-backup-and-restore-images-using-import-and-export/
                ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãŒé€Ÿã„:
                #// å‡ºå…¸ä¸æ˜
                å‹•çš„ãƒ¡ãƒ¢ãƒªå‰²ã‚Šå½“ã¦:
                èµ·å‹•æ™‚é–“: ã‚³ãƒ³ãƒ†ãƒŠã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆãŒ 1åˆ†ã‹ã‚‰ 10ç§’ã¸
        å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: #keyword: WSL2 shared folder,  WSL2 path  #// Windows ã¨ Linux ã®é–“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚„ã‚Šå–ã‚Šã‚’ã—ã¾ã™
            å ´æ‰€:
                Windows â†’ Linux:  #keyword: \\wsl$\  #// ãƒ›ã‚¹ãƒˆOS ã‹ã‚‰ã‚²ã‚¹ãƒˆOS ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™
                    Windows ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§é–‹ãã¾ã™:
                        æ›¸å¼: \\wsl$\__DistoributionName__  #// Linux ã®ãƒ«ãƒ¼ãƒˆ
                        ã‚µãƒ³ãƒ—ãƒ«: \\wsl$\Ubuntu-20.04
                    ReadWrite: å¯èƒ½
                Linux â†’ Windows:  #keyword: /mnt/c/  #// ã‚²ã‚¹ãƒˆOS ã‹ã‚‰ãƒ›ã‚¹ãƒˆOS ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™
                    ls:
                        ls /mnt/c/
                    ReadWrite: å¯èƒ½
                    Windows ã® ThisScriptFullPath: #keyword: /mnt/c/ ThisScriptFullPath,  /mnt/c/ ThisFolderFullPath
                        æ¦‚è¦:
                            Windows Git bash ã§å®Ÿè¡Œã—ã¦ã„ã‚‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã« Linux ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã®ãƒ‘ã‚¹ã¯ã€
                            Windows Git bash ã§ã® ãƒ•ãƒ« ãƒ‘ã‚¹ ã®å‰ã« //mnt ã‚’ä»˜ã‘ã‚‹ã ã‘ã§å¾—ã‚‰ã‚Œã¾ã™ã€‚
                            #search: ThisScriptFullPath
                            #search: ThisFolderFullPath
                        ã‚µãƒ³ãƒ—ãƒ«:
                            (Windows Git bash): |
                                ThisScriptFullPath="$( readlink -f "${0##*/}" )"    #// "/c/Users/user1/project"
                                wsl -d __DistroName__  bash  "//mnt${ThisScriptFullPath}"
                            (Linux): |
                                ThisScriptFullPath="$( readlink -f "${0##*/}" )"    #// "//mnt/c/Users/user1/project"
                #ref: https://qiita.com/Takakiri/items/41d0d1ed67e9505598a1#windows-ã¨-wsl2-ã¨-git-bash-ã®ãƒ‘ã‚¹ã®é–¢ä¿‚
            IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã¾ã™:  #search: Linux ip route
            ã‚³ãƒ”ãƒ¼:  #keyword: WSL2 copy,  cp WSL2  #// Windows ã¨ WSL2 Linux ã®é–“ã§ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                Linux bash:  #// Linux ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ
                    ã‚³ãƒãƒ³ãƒ‰:
                        -   mkdir -p  "__PathInLinux__"
                        -   cp -ap  "/mnt/c/__PathInWindows__/"*  "__PathInLinux__"
                Windows Git bash:  #// Windows ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ
                    ã‚³ãƒãƒ³ãƒ‰:
                        -   wsl -d "__DistroName__"  mkdir -p  "/__PathInLinux__"   #// /root/bin ã‚’ä½œã‚‹å ´åˆã¯ //root/bin ã‚’æŒ‡å®šã—ã¾ã™
                        -   wsl -d "__DistroName__"  cp -ap  "/mnt/c/__PathInWindows__/"*  "/__PathInLinux__"
                    è£œè¶³:
                        //wsl.localhost ã¸ã®ã‚³ãƒ”ãƒ¼ã¯ã§ãã¾ã›ã‚“: |
                            $ cp -ap  "folderA/"*  "//wsl.localhost/__DistroName__/__PathInLinux__"
                            cannot create directory â€˜//wsl.localhostâ€™: Read-only file system
                RDP:  #// ãƒªãƒ¢ãƒ¼ãƒˆ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— çµŒç”±ã§ WSL2 å†…ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆã€‚Windows 11
                    ã‚³ãƒ”ãƒ¼å…ˆãŒ WSL2 Linux ã®å ´åˆ:
                        ã‚³ãƒ”ãƒ¼å…ˆã® Linux ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                            code --remote wsl+__Distro__  "home/user1"  #search: code wsl
                        ã‚³ãƒ”ãƒ¼å…ƒã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:  #// WSL2 å†… ã¾ãŸã¯ Windows
                            code --remote wsl+__Distro__  "home/user1"  #search: code wsl
                        ã‚³ãƒ”ãƒ¼å…ƒã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ .tar.gz å½¢å¼ã§åœ§ç¸®ã—ã¾ã™:  #// Windows ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§ã‚‚ Git bash ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€å®Ÿè¡Œãƒ•ãƒ©ã‚°ã‚’æ­£ã—ã .tar.gz ã®ä¸­ã«è¨˜éŒ²ã—ã¾ã™
                            cd  "__ParentFolder__"
                            tar cvzf  "__Folder__.tar.gz"  "__Folder__"  #// .tar ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã®ç›´ä¸‹ã¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å†…å®¹ã§ã¯ãªãã€ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ãªã‚Šã¾ã™
                        .tar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                            ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> Reveal in File Explorer >> æœ€æ–°ã®æƒ…å ±ã«æ›´æ–°ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ ãƒãƒ¼ ã®å·¦ï¼‰>>
                            .tar ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚’ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Ctrl + C
                        ã‚³ãƒ”ãƒ¼å…ˆã¸è²¼ã‚Šä»˜ã‘ã¾ã™:  #// .tar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼å…ˆã¸è²¼ã‚Šä»˜ã‘ã¾ã™
                            Ctrl + V >> æœ€æ–°ã®æƒ…å ±ã«æ›´æ–°ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ ãƒãƒ¼ ã®å·¦ï¼‰
                        å±•é–‹ã—ã¾ã™:  #// ã‚³ãƒ”ãƒ¼å…ˆã® .tar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«å±•é–‹ã—ã¾ã™
                            cd  __ParentFolder__
                            rm -rf  __Project__
                            tar xvf  __Project__.tar.gz
                            #// .tar ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã®ç›´ä¸‹ãŒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§ã‚ã‚‹å ´åˆ
                        åŒæ–¹ã® .tar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:  #// ã‚³ãƒ”ãƒ¼å…ˆã® .tar ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã€ã‚³ãƒ”ãƒ¼å…ƒã® .tar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:
                            .tar ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> å‰Šé™¤  #// ã‚³ãƒ”ãƒ¼å…ˆã¨ã‚³ãƒ”ãƒ¼å…ƒ
                        ï¼ˆè£œè¶³ï¼‰:
                            - ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ .tar å½¢å¼ã«åœ§ç¸®ã™ã‚‹ã¨ã€å®Ÿè¡Œå±æ€§ãŒè¨˜éŒ²ã•ã‚Œã¾ã›ã‚“
                            - ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§å±•é–‹ã™ã‚‹ã¨ Zone.Identifier ãƒ•ã‚¡ã‚¤ãƒ« ãŒå¤§é‡ã«ã§ãã¦ã—ã¾ã„ã¾ã™
                    ã‚³ãƒ”ãƒ¼å…ˆãŒ Windows11 ã®å ´åˆ:
                        ã‚³ãƒ”ãƒ¼å…ˆã® Windows ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                            ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§é–‹ãã¾ã™
                        ã‚³ãƒ”ãƒ¼å…ƒã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:  #// WSL2 å†… ã¾ãŸã¯ Windows
                            ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ >> \\wsl$\____
                        ã‚³ãƒ”ãƒ¼å…ƒã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ .7z å½¢å¼ã§åœ§ç¸®ã—ã¾ã™:
                            ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> åœ§ç¸®å…ˆ >> 7z ãƒ•ã‚¡ã‚¤ãƒ« >> æœ€æ–°ã®æƒ…å ±ã«æ›´æ–°ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ ãƒãƒ¼ ã®å·¦ï¼‰
                        .7z ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                            .7z ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚’ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Ctrl + C
                        ã‚³ãƒ”ãƒ¼å…ˆã¸è²¼ã‚Šä»˜ã‘ã¾ã™:  #// .7z ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼å…ˆã¸è²¼ã‚Šä»˜ã‘ã¾ã™
                            Ctrl + V
                        å±•é–‹ã—ã¾ã™:  #// ã‚³ãƒ”ãƒ¼å…ˆã® .7z ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«å±•é–‹ã—ã¾ã™
                            å±•é–‹å…ˆã«ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒã‚ã‚‹ã¨ãã¯ã€å‰Šé™¤ã—ã¦ã‹ã‚‰ã€
                            .7z ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã™ã¹ã¦å±•é–‹ >>ï¼ˆãƒ‘ã‚¹ã‚’è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç·¨é›†ã—ã¾ã™ï¼‰>> å±•é–‹ ãƒœã‚¿ãƒ³
                        åŒæ–¹ã® .7z ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:  #// ã‚³ãƒ”ãƒ¼å…ˆã® .7z ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã€ã‚³ãƒ”ãƒ¼å…ƒã® .7z ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™:
                            .7z ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> å‰Šé™¤  #// ã‚³ãƒ”ãƒ¼å…ˆã¨ã‚³ãƒ”ãƒ¼å…ƒ
        VHDX ãƒ•ã‚¡ã‚¤ãƒ«, ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: #keyword:  #// VM ãŒä½¿ã†ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å†…å®¹ãŒæ›¸ã‹ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
            å ´æ‰€ã®ä¾‹: '%userprofile%\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu16.04onWindows_79rhkp1fndgsc\LocalState\ext4.vhdx'
            ï¼ˆé–¢é€£ï¼‰:
                VirtualBox:  #search: VMDK  #search: VDI
        URL, ãƒ›ã‚¹ãƒˆå, ãƒãƒ¼ãƒˆç•ªå·: #keyword: WSL2 URL,  WSL2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ SSH
            è‡ªå‹•ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°:  #keyword: WSL2 automatic port forwarding,  WSL localhost  #ref: https://learn.microsoft.com/en-us/windows/wsl/networking
                æ¦‚è¦: WSL2 ã® Linux ãŒå…¬é–‹ã—ã¦ã„ã‚‹ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚µãƒ¼ãƒ“ã‚¹ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã¯ã€
                    localhost ã«åŒã˜ãƒãƒ¼ãƒˆç•ªå·ã§è‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«:
                    docker run -p 127.0.0.1:8080:80 nginx
                    #// Windows ã‹ã‚‰ã§ã‚‚ http://127.0.0.1;8080 ã‚„ http://localhost:8080/ ã§è¦‹ãˆã¾ã™
                ç„¡åŠ¹åŒ–:
                    (@Windows) ~/.wslconfig : | #keyword: WSL2 localhostForwarding
                        [wsl2]
                        localhostForwarding=false
                    å†èµ·å‹•:
                        wsl --shutdown
                        ï¼ˆWSL2 ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
                ãƒãƒ¼ãƒˆã®è¡çª: #keyword: WSL2 localhost è¡çª
                    ç—‡çŠ¶: 2ã¤ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€åŒã˜ãƒãƒ¼ãƒˆã‚’ä½¿ã†ã¨è¡çªã—ã¾ã™ã€‚127.0.0.1 ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã¦ã‚‚è¡çªã—ã¾ã™ã€‚
                        WSL2 Ubuntu) docker run -p 127.0.0.1:8080:80 nginx
                        WSL2 CentOS) docker run -p 127.0.0.1:8080:80 nginx
                    å¯¾ç­–:
                        ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰ãˆã¾ã™
                    ãƒœãƒ„:
                        localhostForwarding:  #// è¡çªã—ã¾ã™  #search: WSL2 localhostForwarding
                            localhostForwarding=false
                        Linux ã®åå‰ç©ºé–“æ©Ÿèƒ½:  #// è¡çªã—ã¾ã™  #search: Linux name space
                            åå‰ç©ºé–“æ©Ÿèƒ½ã§åˆ†ã‘ã¦ã‚‚è¡çªã—ã¾ã™ã€‚
                                sudo ip netns add net1
                                sudo ip netns exec net1 ip link set lo up
                                sudo ip netns exec net1 ip addr add 127.0.0.1/8 dev lo
                                sudo ip netns exec net1 docker run -p 127.0.0.1:8080:80 nginx
                                sudo ip netns delete net1
                        Docker ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #// è¡çªã—ã¾ã™
                            ç‹¬è‡ªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å ´åˆ:  #// è¡çªã—ã¾ã™
                                docker network create mynetwork
                                docker run --network mynetwork -p 127.0.0.1:8080:80 nginx
                                docker network rm mynetwork
                                #// ã‚‚ã†1ã¤ã® WSL2 ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ ã§ã¯ mynetwork2 ã‚’ä½¿ã£ã¦ã‚‚åŒæ§˜ã§ã™
                            host ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å ´åˆ:  #// -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ç„¡è¦–ã•ã‚Œã€ãƒãƒ¼ãƒˆ 80 ãŒä½¿ã‚ã‚Œã¾ã™ã€‚åŒã˜ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã‚ã‚‹ã¨è‹¦åŠ´ã—ã¾ã™
                                docker run --network host -p 127.0.0.1:8080:80 nginx
                            none ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å ´åˆ:  #// è¡çªã¯ã—ãªã„ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ä½¿ãˆãªã„
                                (@dist1) docker run --network none -p 127.0.0.1:8080:80 nginx
                                (@dist2) docker run --network none -p 127.0.0.1:8080:80 nginx
                        ãƒŸãƒ©ãƒ¼ãƒªãƒ³ã‚° ãƒ¢ãƒ¼ãƒ‰ WSL2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:  #ref: https://superuser.com/questions/1679757/accessing-windows-localhost-from-wsl2  >> ãƒŸãƒ©ãƒ¼ãƒªãƒ³ã‚° ãƒ¢ãƒ¼ãƒ‰ WSL2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                            ç›®çš„ãŒé•ã„ãã†
        IP ã‚¢ãƒ‰ãƒ¬ã‚¹: #keyword: WSL2 IP address
            æ¨å¥¨:  #search: WSL2 URL
            è¡¨ç¤º:
                - hostname -I  #ref: https://qiita.com/masato930/items/f50ad3df302290d1f544
                - ip a show dev eth0  #ref: https://qiita.com/neko_the_shadow/items/25b797cb436078b9e832
            é™çš„ IP ã‚¢ãƒ‰ãƒ¬ã‚¹: #keyword: WSL2 static IP address
                è¨­å®šæ–¹æ³•: ã§ããªã„  #ref: https://superuser.com/questions/1582234/make-ip-address-of-wsl2-static
                éæ¨å¥¨ï¼‰WSL2 ã§ã®é™çš„ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å‰²ã‚Šå½“ã¦ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:  #ref: https://gist.github.com/wllmsash/1636b86eed45e4024fb9b7ecd25378ce
            v4tov4 localhostForwarding: #keyword: WSL2 v4tov4 localhostForwarding  #// ãƒ›ã‚¹ãƒˆOSã® localhost ã§ã‚‚ãƒãƒ¼ãƒˆã‚’ãƒªãƒƒã‚¹ãƒ³ã—ã¾ã™
                #ref: https://learn.microsoft.com/en-us/windows/wsl/networking#accessing-a-wsl-2-distribution-from-your-local-area-network-lan
                æ¨å¥¨: ã“ã‚Œã¯ Windows ã§ localhost ä»¥å¤–ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹ã¨ãã«æ¨™æº–çš„ãªãƒãƒ¼ãƒˆç•ªå·ãŒå¿…è¦ãªã©ãã«ä½¿ã†ã‚ˆã†ã§ã™ã€‚
                    é–‹ç™ºç”¨ã« localhost ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹å ´åˆã¯ã€ #search: WSL2 URL
                netsh ã‚³ãƒãƒ³ãƒ‰:
                    netsh interface portproxy add v4tov4 listenport=<yourPortToForward> listenaddress=0.0.0.0 connectport=<yourPortToConnectToInWSL> connectaddress=(wsl hostname -I)
                WSL2 ã® localhostForwarding æ©Ÿèƒ½ãŒã†ã¾ãã†ã”ã‹ãªã„:  #ref: https://mrk21.hatenablog.com/entry/2022/01/30/183331
    ãƒ•ã‚¡ã‚¤ãƒ«, å ´æ‰€:
        å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: #search: WSL2 shared folder
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆWSLï¼‰:
        ã‚¨ãƒ©ãƒ¼, address already in use 0.0.0.0:2181:172.19.0.11:2181/tcp:
            æ‰‹é †:
                docker-compose up
            ãƒ­ã‚°: |
                Error response from daemon: failed to set up container networking: driver failed programming external connectivity on endpoint __ContainerName__ (f70b47f16.....): failed to bind host port for 0.0.0.0:2181:172.19.0.11:2181/tcp: address already in use
            å¯¾å‡¦: |
                wsl --shutdown
        ext4.vhdx' ã‚’ WSL2 ã«ã‚¢ã‚¿ãƒƒãƒã§ãã¾ã›ã‚“ã§ã—ãŸ:
            ãƒ­ã‚°: |
                ãƒ‡ã‚£ã‚¹ã‚¯ 'C:\Users\aa\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu24.04LTS_79rhkp1fndgsc\LocalState\ext4.vhdx' ã‚’ WSL2 ã«ã‚¢ã‚¿ãƒƒãƒã§ãã¾ã›ã‚“ã§ã—ãŸ: æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
                ã‚¨ãƒ©ãƒ¼ ã‚³ãƒ¼ãƒ‰: Wsl/Service/CreateInstance/MountDisk/HCS/ERROR_FILE_NOT_FOUND
                Press any key to continue...
            å¯¾å‡¦:
                wsl --unregister Ubuntu-24.04
                #search: reinstall Ubuntu-24.04
        The host 'wsl.localhost' was not found in the list of allowed hosts. Do you want to allow it anyway?:
            æ‰‹é †: WSL2 ã®ä¸­ã‚’ code ã‚³ãƒãƒ³ãƒ‰ã§é–‹ã
            ãƒ­ã‚°: |
                Visual Studio Code
                âš ï¸ The host 'wsl.localhost' was not found in the list of allowed hosts. Do you want to allow it anyway?
                The path 'Â¥Â¥wsl.localhostÂ¥____' uses a host that is not allowed. Unless you trust the host, you should press 'Cancel'
                â˜ Permanently allow host 'wsl.localhost'
                [Allow]  [Learn More]  [Cancel]
            å¯¾å‡¦:
                WSL2 ã‚’ä½¿ãŠã†ã¨ã—ã¦ã‚‹ã®ãªã‚‰ã€Allow ã‚’æŠ¼ã—ã¾ã™
                #// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Šã§ã™
        Error 0xc004000d:
            æ‰‹é †: wsl --install -d "Ubuntu-20.04"
            ã‚¨ãƒ©ãƒ¼: |
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­: ä»®æƒ³ãƒã‚·ãƒ³ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ã«å›å¾©ä¸èƒ½ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 'ä»®æƒ³ãƒã‚·ãƒ³ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ' ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰: 0xc004000d
                Error: 0xc004000d
            å¯¾å‡¦:
                Windows ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚ãã®éš›ã€æ›´æ–°ã—ã¦å†èµ·å‹• ã‚’é¸ã³ã¾ã™
        Cannot initiate the connection to in.archive.ubuntu.com:80:
            æ‰‹é †: Ubuntu ã‚·ã‚§ãƒ«ã§ sudo apt update
            ã‚¨ãƒ©ãƒ¼: |
                Cannot initiate the connection to in.archive.ubuntu.com:80
            å¯¾å‡¦:
                ãƒ—ãƒ­ã‚­ã‚·ã‚’è¨­å®šã—ã¾ã™  #search: install WSL2 Ubuntu
        command substitution; ignored null byte in input:
            æ‰‹é †: local  distros="$( wsl -l )"
            ã‚¨ãƒ©ãƒ¼: |
                warning: command substitution: ignored null byte in input
            å¯¾å‡¦:
                local  distros="$( wsl -l  |  tr -d '\0' )"
    è¨­å®š: #settings:
        __DistributionName__: Ubuntu-20.04
        __WSL_StartScriptName__: ubuntu20
        __BackUpFileName__: Ubuntu-20.04-1
        template-if(yes): ğŸŒŸ
        template-if(no):  ğŸ’¤
QEMU: #keyword:  #// ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã® 1ã¤
    .qcow2 ãƒ•ã‚¡ã‚¤ãƒ«: #keyword:  #// QEMU ãªã©ã®ä»®æƒ³ãƒã‚·ãƒ³ã®æ§‹æˆã‚„çŠ¶æ…‹ãŒä¸¸ã”ã¨å…¥ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«
Vagrant: #keyword:  #// ãƒ™ã‚¤ã‚°ãƒ©ãƒ³ãƒˆã¨èª­ã¿ã¾ã™  #ref: https://www.vagrantup.com/
    æ‰‹é †ã¨ã‚µãƒ³ãƒ—ãƒ«:
        æœ¬ä½“ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #search: Vagrant Windows
        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  #keyword: Vagrant project examples,  install Vagrant
            CentOS7 ã®ã¿:  #keyword: CentOS7 Vagrant
                ã‚¹ã‚¯ãƒªãƒ—ãƒˆç‰ˆ:
                    å…¬é–‹:  #ref: ${GitHub}/ansible_vagrant  #// single_vm_ansible_centos7 ãƒ–ãƒ©ãƒ³ãƒ
                        #ref: https://github.com/Takakiriy/ansible_vagrant/tree/single_vm_ansible_centos7
                    æœªå…¬é–‹:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/centos7
                æ‰‹å‹•ã®å ´åˆ:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/centos7
            Vagrant ã¨ Ansible:
                #search: install CentOS7
            Vagrant ã¨ WSL2:
                ã†ã”ãã¾ã›ã‚“ã€‚ #ref: https://developer.hashicorp.com/vagrant/docs/other/wsl
            VM ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º:  #search: Vagrant VM options
            ãã®ä»–:  #search: Vagrant ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
        æˆåŠŸæ™‚ã®ãƒ­ã‚°:  #ref: ${typrm_files}/2022/vagrant/log/success-2.log
        æ–°è¦ä½œæˆ: #keyword: Vagrant Windows  #// Vagrant, VirtualBox ã‚’ Windows ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ CentOS ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ VM ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:
            #// æ³¨æ„: Ansible ã¯ä½¿ã„ã¾ã›ã‚“ã€‚ Ansible ã‚’ä½¿ã†ç’°å¢ƒã¯ #search: Ansible example Apache
            å‚è€ƒ: #ref: https://qiita.com/ozawan/items/160728f7c6b10c73b97e
            è¨­å®š: #settings:
                __ProjectName__: centos7
                __VagrantBox__: centos/7
            VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: install Vagrant VirtualBox
                - https://www.virtualbox.org/ >> Download VirtualBox X.X >> Windows hosts
                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šVirtualBox-6.1.22-144080-Win.exeï¼‰ã‚’é–‹ãã¾ã™
                - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                - ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
            Vagrant ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: install Vagrant Windows
                - https://www.vagrantup.com/downloads.html >> Windowsï¼ˆã‚¿ãƒ–ï¼‰>> 64-bit (Amd64)
                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼švagrant_2.2.16_x86_64.msiï¼‰ã‚’é–‹ãã¾ã™
                - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                - PC ã‚’å†èµ·å‹•ã—ã¾ã™
            Git for Windows ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                - https://git-scm.com/ >> Downloads >> Windows
                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šGit-2.33.0.2-64-bit.exeï¼‰ã‚’é–‹ã
                - Next ã‚’9å›æŠ¼ã™
                - Configuring the line ending conversions: Checkout as-is, commit as-is
                - ä»–ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
            Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                #search: VSCode install
            ï¼ˆå¿…è¦ãªã‚‰ï¼‰Box ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ã¾ã™:
                - æ¤œç´¢ä¾‹: https://app.vagrantup.com/boxes/search >> centosï¼ˆã¨å…¥åŠ›ã—ã¦ Enterï¼‰
                - ä½¿ã† Box å: centos/7  #template: __VagrantBox__
                - ä»–ã® Box åã®ä¾‹:
                    - centos/7
                    - bento/centos-6.7
            vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆã—ã¾ã™(vagrant init ã‚³ãƒãƒ³ãƒ‰):
                #bash
                - mkdir -p  ~/vagrant/centos7  #// __Project__ ã¨ã™ã‚‹  #template: __ProjectName__
                - cd        ~/vagrant/centos7  #template: __ProjectName__
                - vagrant init centos/7  #// 30ç§’  #template: __VagrantBox__
                    #// Vagrantfile ãŒä½œã‚‰ã‚Œã¾ã™ã€‚ vargrant init ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã‚ãªã„ã§ Vargrantfile ã‚’ä½œã£ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
                - code "."  #// Visual Studio Code ã§ __Project__ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™ï¼ˆã—ãªãã¦ã‚‚ã‚ˆã„ï¼‰
            ä»®æƒ³ãƒã‚·ãƒ³åã‚’è¨­å®šã—ã¾ã™:
                __Project__/Vagrantfile: |  #// config.vm.box ã®è¡Œã®ä¸‹ã«è¿½åŠ 
                    config.vm.box = "centos/7"

                    # hostname
                    config.vm.hostname = "centos7"

                    # VirtualBox VM name
                    config.vm.provider "virtualbox" do |virtualbox|
                        virtualbox.name = config.vm.box.gsub(/\//, "_") + "_" + config.vm.hostname
                    end

                    #template-at(-10): __VagrantBox__
                    #template-at(-8): __ProjectName__
            Vagrantfile ã® config.vm.network "private_network" ____ ã®éƒ¨åˆ†ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã§ã¯ãªãã—ã¾ã™ï¼‰:
            ãƒ›ã‚¹ãƒˆOSãŒãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹LANã«ã„ã‚‹ã¨ã:  #keyword: Vagrant proxy, Vagrant config.proxy.no_proxy
                http_proxy, https_proxy ç’°å¢ƒå¤‰æ•°ã‚’ãƒ›ã‚¹ãƒˆOSã«è¨­å®šã—ã¾ã™:
                    #search: Windows proxy
                    #// ã“ã‚ŒãŒå¿…è¦ãªç†ç”±ã¯ã€å¾Œã§ Vagrantfile ã‹ã‚‰ã“ã®æ¨™æº–çš„ãªç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™
                vagrant-proxyconf ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: vagrant-proxyconf
                    #Git bash  #// VSCode >> Terminal >> New Terminal >> ï¼‹ã®å³ã®â†“ï¼ˆã‚·ã‚§ãƒ«ã®å³ä¸Šï¼‰>> Git bash
                    vagrant plugin list
                    vagrant plugin install vagrant-proxyconf
                Vagrantfile ã®æœ€å¾Œã® end ã®ç›´å‰ã«ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™: |  #// ä¸‹è¨˜ã¯ç’°å¢ƒå¤‰æ•° http_proxy, https_proxy ã‚’ä½¿ã†è¨­å®šã§ã™
                    :
                        #// Proxy
                        if Vagrant.has_plugin?("vagrant-proxyconf") && ENV['http_proxy'] && ENV['https_proxy']
                            config.proxy.http     = ENV['http_proxy']
                            config.proxy.https    = ENV['https_proxy']
                            config.proxy.no_proxy = "localhost, 127.0.0.1, 192.168.*, control, node*, db*"
                        end
                    end
            ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œã£ã¦èµ·å‹•ã—ã¾ã™ï¼ˆãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼‰:  #// æ—¢å­˜ã®ä»®æƒ³ãƒã‚·ãƒ³ã®é›»æºã‚ªãƒ³ã‚‚åŒã˜ã§ã™  #keyword: vagrant up example
                #Git bash
                - cd  __Project__
                - rm -rf .vagrant
                - vagrant up  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æˆ»ã‚‹ã¨å®Œäº†ã§ã™
                - vagrant status  #// ä»®æƒ³ãƒã‚·ãƒ³ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
            VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’é–‹ãã€ä»®æƒ³ãƒã‚·ãƒ³ãŒä½œã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
            vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã¾ã™:
                #bash
                cd  ~/vagrant
                rm -rf  ~/vagrant/centos7  #template: __ProjectName__
            Vagrantfile ã®åˆç‰ˆã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã®å’Œè¨³: |
                The most common configuration options are documented and commented below. For a complete reference, please see the online documentation at https://docs.vagrantup.com.

                Every Vagrant development environment requires a box. You can search for boxes at https://vagrantcloud.com/search.

                Disable automatic box update checking. If you disable this, then boxes will only be checked for updates when the user runs `vagrant box outdated`. This is not recommended.

                    config.vm.box_check_update = false


                æœ€ã‚‚ä¸€èˆ¬çš„ãªæ§‹æˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ä»¥ä¸‹ã«æ–‡æ›¸åŒ–ã•ã‚Œã€ã‚³ãƒ¡ãƒ³ãƒˆãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ å®Œå…¨ãªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã¤ã„ã¦ã¯ã€httpsï¼š//docs.vagrantup.comã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

                ã™ã¹ã¦ã®Vagranté–‹ç™ºç’°å¢ƒã«ã¯ãƒœãƒƒã‚¯ã‚¹ãŒå¿…è¦ã§ã™ã€‚ ãƒœãƒƒã‚¯ã‚¹ã¯https://vagrantcloud.com/searchã§æ¤œç´¢ã§ãã¾ã™ã€‚

                è‡ªå‹•ãƒœãƒƒã‚¯ã‚¹æ›´æ–°ãƒã‚§ãƒƒã‚¯ã‚’ç„¡åŠ¹ã«ã—ã¾ã™ã€‚ ã“ã‚Œã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œvagrant boxdeadtedã€ã‚’å®Ÿè¡Œã—ãŸå ´åˆã«ã®ã¿ãƒœãƒƒã‚¯ã‚¹ã®æ›´æ–°ãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚ ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚

                    config.vm.box_check_update = false 

                -------------------------------------------------------

                Create a forwarded port mapping which allows access to a specific port within the machine from a port on the host machine. In the example below, accessing "localhost:8080" will access port 80 on the guest machine. NOTE: This will enable public access to the opened port

                    config.vm.network "forwarded_port", guest: 80, host: 8080

                Create a forwarded port mapping which allows access to a specific port within the machine from a port on the host machine and only allow access via 127.0.0.1 to disable public access

                    config.vm.network "forwarded_port", guest: 80, host: 8080, host_ip: "127.0.0.1"

                Create a private network, which allows host-only access to the machine using a specific IP.

                    config.vm.network "private_network", ip: "192.168.33.10"

                Create a public network, which generally matched to bridged network. Bridged networks make the machine appear as another physical device on your network.

                    config.vm.network "public_network"


                ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã®ãƒãƒ¼ãƒˆã‹ã‚‰ãƒã‚·ãƒ³å†…ã®ç‰¹å®šã®ãƒãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹è»¢é€ãƒãƒ¼ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆã—ã¾ã™ã€‚ ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€ã€Œlocalhostï¼š8080ã€ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚²ã‚¹ãƒˆãƒã‚·ãƒ³ã®ãƒãƒ¼ãƒˆ80ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ æ³¨ï¼šã“ã‚Œã«ã‚ˆã‚Šã€é–‹ã„ã¦ã„ã‚‹ãƒãƒ¼ãƒˆã¸ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™

                    config.vm.network "forwarded_port", guest: 80, host: 8080

                ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã®ãƒãƒ¼ãƒˆã‹ã‚‰ãƒã‚·ãƒ³å†…ã®ç‰¹å®šã®ãƒãƒ¼ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç„¡åŠ¹ã«ã™ã‚‹ãŸã‚ã«127.0.0.1çµŒç”±ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿ã‚’è¨±å¯ã™ã‚‹è»¢é€ãƒãƒ¼ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆã—ã¾ã™

                    config.vm.network "forwarded_port", guest: 80, host: 8080, host_ip: "127.0.0.1"

                ç‰¹å®šã®IPã‚’ä½¿ç”¨ã—ã¦ãƒã‚·ãƒ³ã¸ã®ãƒ›ã‚¹ãƒˆã®ã¿ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚

                    config.vm.network "private_network", ip: "192.168.33.10"

                ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯é€šå¸¸ã€ãƒ–ãƒªãƒƒã‚¸ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ä¸€è‡´ã—ã¾ã™ã€‚ ãƒ–ãƒªãƒƒã‚¸ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã‚Šã€ãƒã‚·ãƒ³ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®åˆ¥ã®ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

                    config.vm.network "public_network"

                -------------------------------------------------------

                Share an additional folder to the guest VM. The first argument is the path on the host to the actual folder. The second argument is the path on the guest to mount the folder. And the optional third argument is a set of non-required options.

                    config.vm.synced_folder "../data", "/vagrant_data"

                Provider-specific configuration so you can fine-tune various backing providers for Vagrant. These expose provider-specific options.

                Example for VirtualBox:

                    config.vm.provider "virtualbox" do |vb|
                    # Display the VirtualBox GUI when booting the machine
                    vb.gui = true

                    # Customize the amount of memory on the VM:
                    vb.memory = "1024"
                    end


                è¿½åŠ ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚²ã‚¹ãƒˆVMã¨å…±æœ‰ã—ã¾ã™ã€‚ æœ€åˆã®å¼•æ•°ã¯ã€ãƒ›ã‚¹ãƒˆä¸Šã®å®Ÿéš›ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¸ã®ãƒ‘ã‚¹ã§ã™ã€‚ 2ç•ªç›®ã®å¼•æ•°ã¯ã€ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã‚²ã‚¹ãƒˆã®ãƒ‘ã‚¹ã§ã™ã€‚ ã¾ãŸã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®3ç•ªç›®ã®å¼•æ•°ã¯ã€ä¸è¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚»ãƒƒãƒˆã§ã™ã€‚

                    config.vm.synced_folder "../data"ã€ "/ vagrant_data"

                Vagrantã®ã•ã¾ã–ã¾ãªãƒãƒƒã‚­ãƒ³ã‚°ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’å¾®èª¿æ•´ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®æ§‹æˆã€‚ ã“ã‚Œã‚‰ã¯ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å…¬é–‹ã—ã¾ã™ã€‚

                VirtualBoxã®ä¾‹ï¼š

                    config.vm.provider "virtualbox" do |vb|
                    ï¼ƒãƒã‚·ãƒ³ã®èµ·å‹•æ™‚ã«VirtualBoxGUIã‚’è¡¨ç¤ºã™ã‚‹
                    vb.gui = true

                    ï¼ƒVMã®ãƒ¡ãƒ¢ãƒªé‡ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ã€‚
                    vb.memory = "1024"
                    end

                -------------------------------------------------------

                View the documentation for the provider you are using for more information on available options.

                Enable provisioning with a shell script. Additional provisioners such as Ansible, Chef, Docker, Puppet and Salt are also available. Please see the documentation for more information about their specific syntax and use.

                    config.vm.provision "shell", inline: <<-SHELL
                    apt-get update
                    apt-get install -y apache2
                    SHELL


                ä½¿ç”¨å¯èƒ½ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

                ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚ Ansibleã€Chefã€Dockerã€Puppetã€Saltãªã©ã®è¿½åŠ ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚ ç‰¹å®šã®æ§‹æ–‡ã¨ä½¿ç”¨æ³•ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

                    config.vm.provision "shell", inline: <<-SHELL
                    apt-get update
                    apt-get install -y apache2
                    SHELL
        VM ã®æ“ä½œ: #keyword: Vagrant VM operation
            ãƒ­ã‚°ã‚¤ãƒ³ >> VirtualBox ã‹ã‚‰:  #// SSH ã§ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™
                - vagrant ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ vagrant ã§ã™
                - root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ vagrant ã§ã™
                - ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’çŸ¥ã‚‰ãªãã¦ã‚‚ root çµŒç”±ãªã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¾ã™
            ãƒ­ã‚°ã‚¤ãƒ³ >> SSH ã§:  #keyword: Vagrant SSH  #// SSH ã§ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™
                ï¼ˆä»®æƒ³ãƒã‚·ãƒ³ãŒèµ·å‹•ã—ã¦ã„ãªã‹ã£ãŸã‚‰ï¼‰èµ·å‹•ã—ã¾ã™:  #search: vagrant up
                VSCode ã‚’ä½¿ã†å ´åˆ:  #// Visual Studio Code ã‚’ Vagrant ãŒç®¡ç†ã™ã‚‹ã‚²ã‚¹ãƒˆOSã¨ SSH æ¥ç¶šã—ã¾ã™:
                    åˆã‚ã¦ä½¿ã†æ¥ç¶šå…ˆã®å ´åˆ:
                        VSCode ã® Remote Development æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            VSCode >> æ‹¡å¼µæ©Ÿèƒ½ ãƒœã‚¿ãƒ³ï¼ˆå·¦ï¼‰ >> Remote Development
                        ãƒ›ã‚¹ãƒˆOS ã® bash:
                            - cd  __VagrantProject__
                            - vagrant ssh-config  #// SSH ã®æ¥ç¶šã«å¿…è¦ãªè¨­å®šãŒè¡¨ç¤ºã•ã‚Œã¾ã™  #keyword: vagrant ssh-config
                            - code ~/.ssh/config  #// vagrant ssh-config ã®å‡ºåŠ›ã‚’æœ€å¾Œã«è²¼ã‚Šä»˜ã‘ã¾ã™
                            - ï¼ˆãŸã ã—ã€~/.ssh/config ã® Host ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå centos7 ã«å¤‰æ›´ã—ã¾ã™ï¼‰ #template: __ProjectName__
                    Visual Studio Code ã§ SSH æ¥ç¶šã—ã¾ã™:
                        SSH æ¥ç¶šã—ã¾ã™:
                            ãƒ›ã‚¹ãƒˆåï¼ˆã®å³ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ãƒœã‚¿ãƒ³ ã‚’æŠ¼ã—ã¾ã™:  #search: VSCode Remote-SSH
                        ãŸã ã—:
                            ãƒ¦ãƒ¼ã‚¶ãƒ¼å: vagrant
                            ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: ï¼ˆãªã—ï¼‰
                        SSH æ¥ç¶šã—ãŸ Visual Studio Code ã§ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                            VSCode >> File >> Open Folder ...
                        ã‚·ã‚§ãƒ«ã‚’é–‹ã‘ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                            VSCode >> Terminal >> New Terminal
                                #// [vagrant@localhost vagrant]$ ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                        é–‹ã‘ãŸã‚‰ Visual Studio Code ã‚’é–‰ã˜ã¾ã™:
                        Remote Explorer ã§é–‹ã„ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã•ã›ã¾ã™:
                            VSCode >> Remote Explorerï¼ˆå·¦ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰>> Reflesh ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰
                        æ¬¡å›ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã®æ“ä½œ:  #keyword: VSCode SSH Remote Explorer
                            - ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã® VSCode ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> __Folder__ [SSH:__Server__]  #// ã¾ãŸã¯
                            - VSCode >> File >> Open Recent >> __Folder__ [SSH:__Server__]  #// ã¾ãŸã¯
                            - VSCode >> Remote Explorer ãƒœã‚¿ãƒ³ï¼ˆå·¦ï¼‰>> REMOTE EXPLORER= Remoteï¼ˆå·¦ä¸Šï¼‰>> SSH >> __Server__ >> __Folder__
                vagrant ssh ã‚’ä½¿ã†å ´åˆ:
                    #// ä»¥ä¸‹ã®æ–¹æ³•ã§ã¯ Playbook ãªã©ã‚’ Visual Studio Code ã§ç·¨é›†ã§ãã¾ã›ã‚“ã€‚
                    #ãƒ›ã‚¹ãƒˆOS ã® bash
                    - cd  __Project__
                    - ï¼ˆä»®æƒ³ãƒã‚·ãƒ³ãŒèµ·å‹•ã—ã¦ã„ãªã‹ã£ãŸã‚‰ï¼‰ vagrant up
                    - vagrant ssh  #// ç´„ 10ç§’
                    #// [vagrant@localhost ~]$ ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    #// é–¢é€£ï¼š  #search: Ansible SSH
                ã‚·ã‚§ãƒ«ã«ã‚³ãƒãƒ³ãƒ‰ãŒå…¥åŠ›ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    - pwd  #// /home/vagrant
                    - exit  #// ä»®æƒ³ãƒã‚·ãƒ³ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ï¼ˆVSCode ã§æ¥ç¶šã—ã¦ã„ã‚‹å ´åˆã¯ã€VSCode ã‚’é–‰ã˜ã‚‹ã¨ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ï¼‰
            çŠ¶æ…‹è¡¨ç¤º: #search: vagrant status
            é›»æºã‚ªãƒ•: #search: vagrant halt  #// Vagrant ãŒç®¡ç†ã—ã¦ã„ã‚‹ä»®æƒ³ãƒã‚·ãƒ³ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¾ã™
            VM å‰Šé™¤: #search: vagrant destroy,  vagrant reset  #// Vagrant ãŒç®¡ç†ã—ã¦ã„ã‚‹ä»®æƒ³ãƒã‚·ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™
        æ—¢å­˜ã® Vagrantfile:  #// æ—¢å­˜ã® Vagrantfile ã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:
            é–¢é€£ >> æ—¢å­˜ã® Vagrant+Ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:  #search: install Ansible project
            VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #search: install Vagrant VirtualBox
            Vagrant ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #search: install Vagrant Windows
            vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:
                #bash
                - mkdir -p  ~/vagrant/__ProjectName__  #// __Project__ ã¨ã™ã‚‹
                - cd        ~/vagrant/__ProjectName__
                - ï¼ˆ__Project__/Vagrantfile ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ï¼‰
            ãƒ›ã‚¹ãƒˆOSãŒãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹LANã«ã„ã‚‹ã¨ã:  #search: Vagrant proxy
            ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œã£ã¦èµ·å‹•ã—ã¾ã™ï¼ˆãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼‰:  #search: vagrant up example
        ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ: |  #// ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œã—ã¾ã™  #// æœªç¢ºèª
            config.vm.define "ansible-server" do |node|
                node.vm.provision "shell", inline: <<-SSH
                    ssh-keygen ã‚³ãƒãƒ³ãƒ‰ãªã©
                SSH
        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—:  #keyword: Vagrant VirtualBox back up VM
            VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™:  #keyword: shutdown via SSH,  shutdown VM é›»æº via vagrant SSH
                VirtualBox ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§å®Ÿè¡Œã™ã‚‹å ´åˆ:
                    #search: VirtualBox shutdown
                CLI ã§å®Ÿè¡Œã™ã‚‹å ´åˆ:
                    ssh  vagrant@localhost  -p __PortNum__  -i .vagrant/machines/__MachineName__/virtualbox/private_key \
                        'sudo shutdown -h now'
            VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆï¼‘ã¤ä»¥ä¸Šï¼‰ã‚’
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¸ã‚³ãƒ”ãƒ¼ã—ã¾ã™
            .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                #// æ—¢å­˜ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¤‰ã‚ã‚‰ãªã„ã‚ˆã†ãªã®ã§ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒã‚ã‚Œã°ã€æ”¹ã‚ã¦ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
                - __Project__/.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¸ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                #// .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
            VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:
                #search: VirtualBox VM start
        ãƒªã‚¹ãƒˆã‚¢, ã‚¯ãƒªãƒ¼ãƒ³: #keyword: Vagrant clean VM  #// VM ã‚’æˆ»ã—ã¾ã™
            VM ã®ãªã„çŠ¶æ…‹ã«æˆ»ã—ã¾ã™:  #keyword: Vagrant from no VM
                __Project__/.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                å¯¾è±¡ã® VM ã‚’å‰Šé™¤ã—ã¾ã™: #search: VirtualBox delete VM
            ãƒªã‚¹ãƒˆã‚¢ã—ã¾ã™:  #// VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½¿ã£ã¦ã‚¯ãƒªãƒ¼ãƒ³ãª VM ã«æˆ»ã—ã¾ã™:
                ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:  #keyword: Vagrant VirtualBox restore  #// .vmdk ãƒ•ã‚¡ã‚¤ãƒ« ãŒå…¥ã£ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                    æ³¨æ„: Vagrant ã§ VM ã‚’ä½œã£ãŸã¨ãã® VirtualBox ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ç¾åœ¨ã® VirtualBox ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ
                        ç•°ãªã‚‹ã¨ãƒªã‚¹ãƒˆã‚¢ã§ãã¾ã›ã‚“ã€‚
                        ã‚¨ãƒ©ãƒ¼ã®ä¾‹ï¼šGuestAdditions versions on your host (6.1.32) and guest (6.1.30) do not match.
                        å¯¾å‡¦æ³• https://stackoverflow.com/questions/38010519/guestadditions-version-mismatch
                    æ—©ã„æ–¹æ³•ã‚’ä½¿ã†å ´åˆ:  #ğŸŒŸ
                        ï¼ˆå¿…è¦ãªã‚‰ï¼‰æ—¢å­˜ã® VM ã‚’å‰Šé™¤ã—ã¾ã™:  #copy: VirtualBox delete VM
                            æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                            VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰ VM ã‚’å‰Šé™¤ã—ã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >>
                                    ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                        VM ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å¸°ã—ã¾ã™:
                            VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                                - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆè¤‡æ•°é¸æŠå¯èƒ½ï¼‰ã‚’
                                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                            VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã« VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’èªè­˜ã•ã›ã¾ã™:
                                ä»®æƒ³ãƒã‚·ãƒ³ã‚’è¿½åŠ ã—ã¾ã™:
                                    VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ä»®æƒ³ãƒã‚·ãƒ³ >> è¿½åŠ ï¼ˆè¤‡æ•°é¸æŠå¯èƒ½ï¼‰
                            .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:  #// .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
                                - __Project__/.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                        VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:  #search: vagrant up
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦å¾©å¸°ã™ã‚‹å ´åˆ:
                        â—: ä»¥ä¸‹ã®æ–¹æ³•ã¯å¤±æ•—ã—ã¾ã™ã€‚UUID ã‚’åˆã‚ã›ã¦ã‚‚ Vagrant ã¯æ–°ã—ã„ VM ã‚’ä½œã‚ã†ã¨ã—ã¾ã™ã€‚
                        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒ VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ç™»éŒ²ã•ã‚Œã¦ã„ãªã„å ´åˆ:
                            ${HOME}/VirtualBox VMs/____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                            ç™»éŒ²ã—ã¾ã™: VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ä»®æƒ³ãƒã‚·ãƒ³ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰>> è¿½åŠ 
                        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™: #copy: VirtualBox clone from back up
                            æ³¨æ„â—: ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸ VM ã¯ SSH æ¥ç¶šã§ãã¾ã›ã‚“ã€‚å¯¾å‡¦æ³•ã¯æœªæ¤œè¨ã€‚
                                VSCode ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³å…ƒã«æ¥ç¶šã§ããªããªã£ãŸã‚‰ã€VSCode >> Remote Explorerï¼ˆå·¦ï¼‰ã‹ã‚‰é–‹ã„ã¦ãã ã•ã„
                            æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                            æ—¢å­˜ã® VM ã®åå‰ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMï¼‰>> åå‰ï¼ˆä¸­å¤®ä¸Šï¼‰>> Ctrl + A, Ctrl + C >> ãƒ¡ãƒ¢ã«å¼µã‚Šä»˜ã‘
                            æ—¢å­˜ã® VM ã‚’å‰Šé™¤ï¼ˆé™¤å»ï¼‰ã—ã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                            VM ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã‚¯ãƒ­ãƒ¼ãƒ³ï¼‰ã—ã¾ã™:
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VitrualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰ ã‚¯ãƒ­ãƒ¼ãƒ³ >>
                                åå‰: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—___Name__ (ä¾‹)
                                #// ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ç‰¹ã«ã“ã ã‚ã‚ŠãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹ã„ã¾ã›ã‚“
                                VM ã®é †ç•ªã‚’æ•´ç†ã—ã¾ã™:
                                    ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ VM ã®é †ç•ªã‚’å¤‰æ›´ã§ãã¾ã™
                        action_provision ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ã€å¯¾å¿œã™ã‚‹ VM ã® UUID ã«ä¿®æ­£ã—ã¾ã™:
                            .vagrant/machines/__MachineName__/virtualbox/action_provision :
                                å¤‰æ›´ç®‡æ‰€: 1.5:__UUID__
                                å†…å®¹:  #ref: ${HOME}/VirtualBox VMs/__VM_Name__/__VM_Name__.vbox
                                    <Machine uuid="{__UUID__}"
                    ãã®ä»–ã®æ–¹æ³•:
                        â—: ACPI ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã¯ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®è¨­å®šãŒæ‚ªã„ã¨ä¸å®‰å®šã«ãªã‚Šã¾ã™
                        æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¦ã€å‰Šé™¤ã—ã¾ã™:  #keyword: VirtualBox ACPI shutdown
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ• >>
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                            ACPI ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã‚’ã™ã‚‹å ´åˆ:
                                æ³¨æ„: VM ã®å†èµ·å‹•ãŒã§ããªãã¦ã€ãƒ›ã‚¹ãƒˆOSã‚’å†èµ·å‹•ãŒè¦æ±‚ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> ACPI ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ >>
                                    VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                                ã‚‚ã—ã€VirtualBox ãŒå›ºã¾ã£ãŸã‚‰:
                                    ï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> è©³ç´°ï¼ˆã‚¿ãƒ–ï¼‰>> VBoxSVC.exeï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¿ã‚¹ã‚¯ã®çµ‚äº†ã€
                                    ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆã‚¿ãƒ–ï¼‰>> VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¿ã‚¹ã‚¯ã®çµ‚äº†
                                ã‚‚ã—ã€VM ãŒèµ·å‹•ã§ããªããªã£ãŸã‚‰:
                                    ãƒ›ã‚¹ãƒˆOSã‚’å†èµ·å‹•ã—ã¾ã™
                        VirtualBox VMs ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:
                            - C:\Users\__User__\VirtualBox VMs\____ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆï¼‘ã¤ä»¥ä¸Šï¼‰ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                        .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:  #// ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
                            - __Project__/.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’è¿½åŠ ã—ã¾ã™:
                            - VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> ä»®æƒ³ãƒã‚·ãƒ³ >> è¿½åŠ ï¼ˆï¼‘ã¤ä»¥ä¸Šï¼‰
                ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆ:
                    å‚è€ƒ: 
                ï¼ˆé–¢é€£ï¼‰SSH æ¥ç¶šã—ã¾ã™:  #// æ–°ã—ã„ VM  
                    vagrant up >> æ–°ã—ã„ Git bash ã‚’é–‹ãã€VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:
                        - #Git bash ã§ã‚ã‚‹ã“ã¨ã€‚PowerShell ã§ã¯å¤±æ•—ã—ã¾ã™ã€‚VirtualBox ã§é›»æºã‚’å…¥ã‚Œã‚‹ã¨å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒã§ãã¾ã›ã‚“
                        - cd  __Project__
                        - vagrant up
                    vagrant ssh-config >> ãƒ›ã‚¹ãƒˆOSã‹ã‚‰ SSH æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                        SSH ã®è¨­å®šã‚’è¡¨ç¤ºã—ã¾ã™:
                            #bash
                            - vagrant ssh-config
                        C:\Users\__User__\.ssh\config ã«è²¼ã‚Šä»˜ã‘ã¾ã™:
                            #// Visual Studio Code ã® Remote Explorerï¼ˆå·¦ï¼‰ã«ã‚µãƒ¼ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
            VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒãªã„å ´åˆ:  #// vagrant up
                æ³¨æ„: ä½œã‚Šç›´ã™ã®ã«ç´„10åˆ†ã‹ã‹ã‚Šã¾ã™
                æ—¢å­˜ã® VM ã®é›»æºã‚’è½ã¨ã—ã¦ã€å‰Šé™¤ã—ã¾ã™:
                    VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é–‰ã˜ã‚‹ >> ACPI ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ >>
                    VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >>ï¼ˆå¯¾è±¡ã®VMã€‚è¤‡æ•°é¸æŠå¯èƒ½ï¼‰ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
                    å¯¾è±¡ã®VMã¯ã€__FolderName_____ServerName__
                __Project__/.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                æ–°ã—ã„ Git bash ã‚’é–‹ãã€VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:  #see-above: vagrant up
                ãƒ›ã‚¹ãƒˆOSã‹ã‚‰ SSH æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #see-above: vagrant ssh-config
        ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
            å…¬å¼: https://www.vagrantup.com/docs/provisioning
            ä¸¦åˆ—èµ·å‹•:  #keyword: vagrant provision parallel
                VirtualBox ã§ã¯ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“
                https://www.vagrantup.com/docs/providers/virtualbox/usage
                https://stackoverflow.com/questions/45823630/vagrant-multi-machine-parallel-start
        ãã®ä»–: #search: Vagrantfile
    ã‚³ãƒãƒ³ãƒ‰(Vagrant):  #keyword: Vagrant commands  #ref: https://developer.hashicorp.com/vagrant/docs/cli
        vagrant up:  #// é›»æºã‚’å…¥ã‚Œã€ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’è¡Œã„ã¾ã™ã€‚èµ·å‹•ã—ã¾ã™  #keyword: vagrant up
            VM ãŒç„¡ã„å ´åˆ:
                vagrant up
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible/README.yaml#vagrant up
            å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ã‚ãªã„å ´åˆ:  #keyword: VirtualBox headless start without vagrant up
                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> VM ã‚’è¤‡æ•°é¸æŠ >> VMï¼ˆã©ã‚Œã§ã‚‚ã‚ˆã„ï¼‰ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> èµ·å‹• >> ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹èµ·å‹•
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible/README.yaml#ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹èµ·å‹•
            ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®š:  #// vagrant up ã‚’å®Ÿè¡Œã™ã‚‹ã¨ vagrant-proxyconf ã«ã‚ˆã£ã¦ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šã‚‚è¡Œã‚ã‚Œã¾ã™
                #search: vagrant up trouble Configuring proxy for npm
            VAGRANT_LOG=info  vagrant up : #keyword: VAGRANT_LOG,  Vagrant up debug  #// è©³ç´°ãªãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¦èµ·å‹•ã—ã¾ã™
                ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³:
                    VAGRANT_LOG=debug  vagrant up 
            VAGRANT_VAGRANTFILE="${PWD%/*}/Vagrantfile"  vagrant up : #keyword: VAGRANT_VAGRANTFILE  #// Vagrantfile ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™
                - ${PWD%/*}/Vagrantfile ã¯è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã® Vagrantfile ã§ã™
                - .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ VAGRANT_VAGRANTFILE ã®å€¤ã«é–¢ã‚ã‚‰ãš ã‚«ãƒ¬ãƒ³ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã«ã§ãã¾ã™
                - VirtualBox ã«è¡¨ç¤ºã•ã‚Œã‚‹ VM ã®åå‰ã¯ã€VAGRANT_VAGRANTFILE ç’°å¢ƒå¤‰æ•°ãŒæŒ‡ã™ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼åãŒå…ˆé ­ã«ä»˜ãã¾ã™
                - vagrant ssh-config ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚‚ VAGRANT_VAGRANTFILE ç’°å¢ƒå¤‰æ•°ãŒæŒ‡ã™ Vagrantfile ã®è¨­å®šãŒä½¿ã‚ã‚Œã¾ã™
            Machine booted and ready! ã¨è¡¨ç¤ºã•ã‚ŒãŸç›´å¾Œã®å‡¦ç†:  #search: Vagrant shell Provisioner
            control_only=1  vagrant up :  #// ï¼ˆç‹¬è‡ªï¼‰control ã‚µãƒ¼ãƒãƒ¼ã ã‘èµ·å‹•ã—ã¾ã™  #keyword: control_only=1  vagrant up
                control_only=1  vagrant up
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible/README.yaml#control_only=1
            vagrant up --provision:  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚é€”ä¸­ã«ç‹¬è‡ªå‡¦ç†ã‚’è¿½åŠ ã—ã¾ã™
                Vagrant ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯ã€ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼ ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã‚’ã„ãã¤ã‹å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã™ã€‚
                vagrant up --provision ãŒé€”ä¸­ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸå ´åˆã€vagrant reload --provision ã§ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ç¶šãã‚’å®Ÿè¡Œã—ã¾ã™
                #search: Ansible ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼
            ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹å ´åˆ:  #search: vagrant up time out
            ãƒ‡ãƒãƒƒã‚°ã™ã‚‹å ´åˆ:  #search: vagrant up debug
                #snip: vagrant up  --debug --timestamp
        vagrant reload:  #// å†èµ·å‹•ã—ã¦ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®æ§‹æˆã‚’æ›´æ–°ã—ã¾ã™  #keyword: vagrant reload
            - vagrant reload --provision  // èµ·å‹•æ¸ˆã¿ã®ä»®æƒ³ãƒã‚·ãƒ³ã‚’å†èµ·å‹•ã™ã‚‹
                vagrant up --provision ãŒé€”ä¸­ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸå ´åˆã€vagrant reload --provision ã§ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ç¶šãã‚’å®Ÿè¡Œã—ã¾ã™
                vagrant up ã‚ˆã‚Šé…ã„ã§ã™
                å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯æ¥ç¶šã§ãã¾ã™
            #// â—ä»¥ä¸‹ã¯ OS ãŒå£Šã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§æ³¨æ„
            - vagrant reload  #// å˜ä¸€ã®VMã®ã¨ã
            - vagrant reload __VM_Name__  #// è¤‡æ•°ã®VMãŒå®šç¾©ã•ã‚ŒãŸç’°å¢ƒã§1ã¤ã®VMã«å¯¾ã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ã
                #// __VM_Name__ ã¯è¤‡æ•° VM ç’°å¢ƒã®ã¨ãã«æŒ‡å®šå¯èƒ½ã§ã€config.vm.define ã®ç¬¬1å¼•æ•°
            - vagrant reload ã‚³ãƒãƒ³ãƒ‰ã¯ vagrant provision ã‚³ãƒãƒ³ãƒ‰ã®å‡¦ç†ã¯è¡Œã‚ã‚Œã¾ã›ã‚“
        vagrant provision:  #// èµ·å‹•ä¸­ã® VM ã«ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™  #keyword: vagrant provision
            - å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯æ¥ç¶šã§ãã¾ã›ã‚“
            - æ›¸å¼ã¯ vagrant reload ã¨åŒã˜ã§ã™
            - ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚ºã®å¤‰æ›´ãªã©ã¯ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã§ã¯ãªãã€å†èµ·å‹•ï¼ˆvagrant reloadï¼‰ã—ãªã„ã¨åæ˜ ã•ã‚Œã¾ã›ã‚“  
        vagrant suspend:  #// VM ã‚’ä¿å­˜çŠ¶æ…‹ã«ã—ã¾ã™ã€‚ãƒ›ã‚¹ãƒˆOSã®ãƒ¡ãƒ¢ãƒªãƒ¼ã‚‚è§£æ”¾ã•ã‚Œã¾ã™  #keyword: vagrant suspend
            æ—©ãä¿å­˜çŠ¶æ…‹ã«ã™ã‚‹:
                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> VM ã‚’è¤‡æ•°é¸æŠ >> VMï¼ˆã©ã‚Œã§ã‚‚ã‚ˆã„ï¼‰ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> é–‰ã˜ã‚‹ >> ä¿å­˜çŠ¶æ…‹
            ä¿å­˜çŠ¶æ…‹ã‹ã‚‰å¾©å¸°ã§ããªã„ã¨ã:
                VirtualBox >>ï¼ˆVM ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> é™¤å» >> é™¤å»ã®ã¿ >>
                ä»®æƒ³ãƒã‚·ãƒ³ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ >> è¿½åŠ 
        vagrant resume:   #// VM ã‚’ä¿å­˜çŠ¶æ…‹ã‹ã‚‰å¾©å¸°ã—ã¾ã™  #keyword: vagrant resume
            - ã™ã§ã«èµ·å‹•ã—ã¦ã„ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚vagrant up ã§ã‚‚ä¿å­˜çŠ¶æ…‹ã‹ã‚‰å¾©å¸°ã§ãã€ã™ã§ã«èµ·å‹•ã—ã¦ã„ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã›ã‚“
            - ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹èµ·å‹•ã¨åŒã˜ã§ã™ï¼ˆGUI ãŒãªã„ VM ã§ã¯ï¼Ÿï¼‰
            - æ—©ãå¾©å¸°ã™ã‚‹ã«ã¯ã€
                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> VM ã‚’è¤‡æ•°é¸æŠ >> VMï¼ˆã©ã‚Œã§ã‚‚ã‚ˆã„ï¼‰ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> èµ·å‹• >> ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹èµ·å‹•
        vagrant status:   #// VM ã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã—ã¾ã™  #keyword: vagrant status
            ã‚³ãƒãƒ³ãƒ‰:
                cd  __VagrantFileFolder__
                vagrant status
            å®Ÿè¡Œä¾‹ --machine-readable: | #keyword: vagrant status --machine-readable  #// ã‚«ãƒ¬ãƒ³ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸ 1ã¤ã® VM ã«é–¢ã™ã‚‹æƒ…å ±ã§ã™
                $ vagrant status --machine-readable
                    1720489483,centos7_62,metadata,provider,virtualbox
                    1720489483,centos7_62,provider-name,virtualbox
                    1720489483,centos7_62,state,not_created
                    1720489483,centos7_62,state-human-short,not created
                    1720489483,centos7_62,state-human-long,The environment has not yet been created. Run `vagrant up` to\ncreate the environment. If a machine is not created%!(VAGRANT_COMMA) only the\ndefault provider will be shown. So if a provider is not listed%!(VAGRANT_COMMA)\nthen the machine is not created for that environment.
                    1720489483,,ui,info,Current machine states:\n\ncentos7_62                not created (virtualbox)\n\nThe environment has not yet been created. Run `vagrant up` to\ncreate the environment. If a machine is not created%!(VAGRANT_COMMA) only the\ndefault provider will be shown. So if a provider is not listed%!(VAGRANT_COMMA)\nthen the machine is not created for that environment.
            å®Ÿè¡Œä¾‹: |
                $ vagrant status
                    Current machine states:

                    centos7_62                not created (virtualbox)

                    The environment has not yet been created. Run `vagrant up` to
                    create the environment. If a machine is not created, only the
                    default provider will be shown. So if a provider is not listed,
                    then the machine is not created for that environment.
            æ³¨æ„:
                VM ãŒã‚ã‚‹ã¨ãã« vagrant status --machine-readable ã‚’å®Ÿè¡Œã—ãŸå¾Œã€VM ã‚’å‰Šé™¤ã—ã¦å†å®Ÿè¡Œã—ã¦ã‚‚ã€è¡¨ç¤ºå†…å®¹ã¯å¤‰ã‚ã‚‰ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚
            ãƒ˜ãƒ«ãƒ—è¡¨ç¤º: |
                $ vagrant status --help
                    Usage: vagrant status [name|id]
                            --[no-]color                 Enable or disable color output
                            --machine-readable           Enable machine readable output
                        -v, --version                    Display Vagrant version
                            --debug                      Enable debug output
                            --timestamp                  Enable timestamps on log output
                            --debug-timestamp            Enable debug output with timestamps
                            --no-tty                     Enable non-interactive output
                        -h, --help                       Print this help
        vagrant halt:     #// VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™ï¼ˆå¼·åˆ¶çµ‚äº†ï¼‰  #keyword: vagrant halt
            æ›¸å¼: vagrant halt __VMName__
            __VMName__:
                Vagrantfile:
                    config.vm.define "__VMName__" 
            memo:
                #bash
                - cd  ~/vagrant/centos7  #template: __ProjectName__
                - vagrant status  #// __HostName__ ã¨ èµ·å‹•çŠ¶æ…‹ ã¨ ä»®æƒ³åŒ–ã‚½ãƒ•ãƒˆå ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                - vagrant halt  __HostName__       #// ä»®æƒ³ãƒã‚·ãƒ³ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¾ã™
                #// vagrant suspend  __HostName__  #// ã‚µã‚¹ãƒšãƒ³ãƒ‰çŠ¶æ…‹ã«ç§»è¡Œã—ã¦ãƒ›ã‚¹ãƒˆOSã®ãƒ¡ãƒ¢ãƒªãƒ¼ã‚’è§£æ”¾ã—ã¾ã™
                #// vagrant resume  __HostName__   #// ã‚µã‚¹ãƒšãƒ³ãƒ‰çŠ¶æ…‹ã‹ã‚‰å¾©å¸°ã—ã¾ã™
            æ³¨æ„: å®Ÿè¡Œã«ã¯ .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒå¿…è¦ã§ã™
            #ref: https://developer.hashicorp.com/vagrant/docs/cli/halt
        vagrant destroy: #keyword: vagrant destroy,  delete vagrant VM  #// VM ã‚’å‰Šé™¤ã—ã¾ã™
            åŸºæœ¬:
                cd __VagrantFileFolder__
                vagrant destroy --force   #// --force ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¢ºèªã‚’ã—ã¾ã›ã‚“
            vagrant global-status ã‚’ä½¿ã†å ´åˆ:  #// æ—¢å­˜ã® VM ãŒæ¤œå‡ºã•ã‚Œãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™
                #// å‰Šé™¤ã—ãŸ VM ã¯ã€VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰ç„¡ããªã‚Šã€VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚‚å‰Šé™¤ã•ã‚Œã¾ã™
                - vagrant global-status --prune  #// __VM_ID__ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                - vagrant destroy -f __VM_ID__
                #// å¼·åˆ¶çµ‚äº†ã‚‚ã—ã¾ã™ã€‚-f ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã›ãšã«å‰Šé™¤ã—ã¾ã™
                - rm -rf .vagrant  #// ç§˜å¯†éµãªã©ã‚‚å‰Šé™¤ã—ã¾ã™
                #// VirtualBox ã‚’é–‹ã„ã¦ã€åŒæ§˜ã®ä½œã‚Šã‹ã‘ã® VM ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã‚ã‚Œã°æ‰‹å‹•ã§å‰Šé™¤ã—ã¦ãã ã•ã„
            ã‚ªãƒ—ã‚·ãƒ§ãƒ³: |
                $ vagrant destroy --help
                Usage: vagrant destroy [options] [name|id]
                Options:
                    -f, --force                      Destroy without confirmation.
                        --[no-]parallel              Enable or disable parallelism if provider supports it (automatically enables force)
                    -g, --graceful                   Gracefully poweroff of VM
                        --[no-]color                 Enable or disable color output
                        --machine-readable           Enable machine readable output
                    -v, --version                    Display Vagrant version
                        --debug                      Enable debug output
                        --timestamp                  Enable timestamps on log output
                        --debug-timestamp            Enable debug output with timestamps
                        --no-tty                     Enable non-interactive output
                    -h, --help                       Print this help
    ãƒ•ã‚¡ã‚¤ãƒ«:
        Vagrantfile: #keyword:  #// Vagrantfile ã¯ Ruby è¨€èªã§æ›¸ãã¾ã™
            VM ã®åŸºæœ¬è¨­å®š:  #keyword: Vagrant vb.memory, Vagrant vb.cpus
                #// ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ãŸã‚‰ vagrant reload ã—ã¦ãã ã•ã„:
                #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€1CPU, memory: 512MB
                å˜ä¸€VMã®å ´åˆ: |
                    Vagrant.configure("2") do |config|
                        config.vm.provider "virtualbox" do |vb|
                            vb.cpus = 2
                            vb.memory = 2048  #// MB
                        end
                ãƒãƒ«ãƒVMã®å ´åˆ: |  #keyword: vm.network ip address port
                    Vagrant.configure("2") do |config|
                        config.vm.box = "ubuntu/trusty64"  #keyword: config.vm.box  #// vagrant box list ã§è¡¨ç¤ºã•ã‚Œã‚‹ box ã‹ã‚‰é¸ã¹ã¾ã™

                        config.vm.define :web do |web_config|
                            web_config.vm.host_name = "web"
                            web_config.vm.network :private_network, ip:"192.168.100.10"
                            web_config.vm.network :forwarded_port, guest: 22, host: 2222, id: "ssh"
                            web_config.vm.provider :virtualbox do |vb|
                                vb.customize ["modifyvm", :id, "--memory", "2048"]
                                vb.customize ["modifyvm", :id, "--cpus", "2"]
                            end
                        end
                    end
                    #// ip ã¨ host ã¯ VM ã”ã¨ã«å¤‰ãˆã¦ãã ã•ã„
                    #// host ã¯ãƒ›ã‚¹ãƒˆOSã‹ã‚‰ SSH ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸãƒãƒ¼ãƒˆç•ªå·ã§ã™ã€‚
                    #// forwarded_port ã®è¡Œã‚’æ›¸ã‹ãªã„ã¨ãã¯ã€host ãŒè‡ªå‹•çš„ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚
                    #// ï¼‘ã¤ç›®ã¯ 2222, ï¼’ã¤ç›®ã¯ 2200, ...
                .box ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ: |  #keyword: Vagrantfile box_url  #focus: box_url
                    Vagrant.configure("2") do |config|
                        config.vm.define "linux_49" do |config|
                            config.vm.network :private_network, ip: "192.168.34.49"
                            config.vm.network :forwarded_port, guest: 22, host: 2249, id: "ssh"
                            config.vm.box = "linux-20230314"
                            config.vm.box_url = 'http://example.com/linux/20230314/linux.box'
                            config.vm.box_check_update = false
                            config.vm.synced_folder ".", "/vagrant", disabled: true
                            config.ssh.insert_key = false
                            config.ssh.private_key_path = "C:/Users/____/.ssh/id_ed25519"
                            config.ssh.username = "vagrant"
                            # config.ssh.password = "This setting will be ignored."
                        end
                        config.vm.provider "virtualbox" do |vb|
                            vb.memory = "8192"
                            vb.check_guest_additions = false
                            vb.functional_vboxsf = false
                        end
                        if Vagrant.has_plugin?("vagrant-vbguest") then
                            config.vbguest.auto_update = false
                        end

                        #// Proxy
                        if Vagrant.has_plugin?("vagrant-proxyconf") && ENV['HTTP_PROXY'] && ENV['HTTPS_PROXY']
                            config.proxy.http     = ENV['HTTP_PROXY']
                            config.proxy.https    = ENV['HTTPS_PROXY']
                            config.proxy.no_proxy = "localhost, 127.0.0.1, 192.168.*, 192.168.34.49, linux-20230314"
                        end
                    end
            ãƒãƒ«ãƒ ã‚µãƒ¼ãƒãƒ¼æ§‹æˆã®ã‚µãƒ³ãƒ—ãƒ«:  #keyword: Vagrant config.vm.define
                å‚è€ƒ: https://www.vagrantup.com/docs/multi-machine
                æœ€å°é™ã® Vagrantfile: |
                    Vagrant.configure("2") do |config|

                        def configure(server, address)
                            server.vm.box = "centos/7"  #// vagrant box list ã§è¡¨ç¤ºã•ã‚Œã‚‹ box ã‹ã‚‰é¸ã¹ã¾ã™
                            server.vm.network :private_network, ip: address
                            server.vbguest.installer_options = { allow_kernel_upgrade: true }  #// vagrant-vbguest plug-in
                        end

                        config.vm.define "db1" do |server|
                            configure server, "192.168.33.101"
                        end
                        config.vm.define "db2" do |server|
                            configure server, "192.168.33.102"
                        end
                    end
                Ansible ãŒä½¿ãˆã‚‹ãƒãƒ«ãƒ ã‚µãƒ¼ãƒãƒ¼æ§‹æˆã® Vagrantfile: |
                    Vagrant.configure("2") do |config|
                        config.vm.provider "virtualbox" do |vb|
                            vb.memory = 256  #// MB
                        end

                        config.vm.synced_folder ".", "/vagrant",  create: true, owner: "vagrant", group: "vagrant", type:"virtualbox"

                        def configure(server, address)
                            server.vm.box = "centos/7"
                            server.vm.network :private_network, ip: address
                            server.vbguest.installer_options = { allow_kernel_upgrade: true }  #// vagrant-vbguest plug-in
                        end

                        #ref: https://www.vagrantup.com/docs/multi-machine
                        config.vm.define "db1" do |server|
                            configure server, "192.168.33.101"
                        end
                        config.vm.define "orc" do |server|
                            configure server, "192.168.33.104"

                            server.vm.provision "ansible_local" do |ansible|
                                ansible.playbook = "playbook.yml"
                                ansible.compatibility_mode = '2.0'
                            end
                        end
                    end
            Vagrantfile ã®å ´æ‰€:  #// vagrant up ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³  #search: VAGRANT_VAGRANTFILE
            Vagrantfile ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³: |  #focus: sub_port_num  #// Vagrant ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã€‚Ruby è¨€èªã®æ©Ÿèƒ½
                sub_port_num = ENV['SUB_PORT_NUM'] || "21"
                ...
                    config.vm.network :private_network, ip: "192.168.34."+ sub_port_num
                    config.vm.network :forwarded_port, guest: 22, host: 2200 + sub_port_num.to_i, id: "ssh"
            ãã®ä»– VM ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// CPU æ•°, ãƒ¡ãƒ¢ãƒªãƒ¼ ã‚µã‚¤ã‚º, ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ã‚µã‚¤ã‚º  #search: Vagrant VM options
        .box ãƒ•ã‚¡ã‚¤ãƒ«: #keyword:  #// Vagrant ã§ä½¿ãˆã‚‹ä»®æƒ³ãƒã‚·ãƒ³ç’°å¢ƒã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
            å¯¾å¿œçŠ¶æ³:
                Vagrant ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã†ã¡ã€
                ç‰¹å®šã® .box ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¯ä¸€éƒ¨ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                ãŸã¨ãˆã°ã€centos/7 ã¯ Docker ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“
                #ref: https://app.vagrantup.com/centos/boxes/7/versions/2004.01
                #search: ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
            ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°:  #search: Vagrantfile box_url
        .vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: #keyword:
    æ¦‚å¿µ:
        VM: #keyword: Vagrant VM options  #// VM ã®åˆæœŸè¨­å®š
            VM ã®æ“ä½œ:
                #search: Vagrant VM operation
                #search: Vagrant commands
            VM ã®ã‚°ãƒ«ãƒ¼ãƒ—: #keyword: Vagrant VM group  #// VirtualBox ã®ä»®æƒ³ãƒã‚·ãƒ³ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™
                #focus: __Group__
                Vagrant.configure("2") do |config|
                    config.vm.provider "virtualbox" do |vb|
                        vb.customize ["modifyvm", :id, "--groups", "/__Group__"]
            é›»æº, ä¿å­˜çŠ¶æ…‹: #keyword:  #search: VirtualBox ä¿å­˜çŠ¶æ…‹
                #search: vagrant up
                #search: vagrant halt
                #search: vagrant suspend
                #search: vagrant resume
            CPU æ•°: |
                Vagrant.configure("2") do |config|
                    config.vm.provider "virtualbox" do |vb|
                        vb.cpus = 2
            ãƒ¡ãƒ¢ãƒªãƒ¼ã‚µã‚¤ã‚º: |
                Vagrant.configure("2") do |config|
                    config.vm.provider "virtualbox" do |vb|
                        vb.memory = 8922  #// MB
            ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: #keyword: Vagrant storage
                ã‚µã‚¤ã‚º:
                    ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†å ´åˆ:
                        bash:
                            vagrant plugin install vagrant-disksize
                        Vagrantfile: |
                            Vagrant.configure("2") do |config|
                                if Vagrant.has_plugin?("vagrant-disksize") then
                                    config.disksize.size = '100GB'
                                end
                        å‰¯ä½œç”¨:
                            ãƒ‡ã‚£ã‚¹ã‚¯ ã‚¤ãƒ¡ãƒ¼ã‚¸ ãƒ•ã‚¡ã‚¤ãƒ«ã¯ .vmdk å½¢å¼ã§ã¯ãªã .vdi å½¢å¼ã«ãªã‚Šã¾ã™ã€‚
                            é€šå¸¸ã€ã“ã‚ŒãŒå•é¡Œã«ãªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                        #ref: https://qiita.com/yut_h1979/items/c84c490053877beee5c1
                    ä½¿ç”¨é‡ã‚’æ¸›ã‚‰ã™ã€ã¾ãŸã¯æ‰‹å‹•ã§å¢—ã‚„ã™å ´åˆ:
                        #search: disk size
                ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:  #keyword: Vagrant vm.provision file upload
                    Vagrantfile: |
                        config.vm.provision "file", source: "~/.gitconfig", destination: ".gitconfig"
                    ç§˜å¯†éµã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:
                        ãŸã ã—ã€Vagrant ãŒè‡ªå‹•çš„ã«ä½œã‚‹ç§˜å¯†éµã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
                            File upload source file ____/.vagrant/machines/control/virtualbox/private_key must exist
                        ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™  #search: ansible_vagrant 1_multi_vm_ansible
            ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯: #keyword: Vagrant network
                ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼, ã‚¢ãƒ‰ãƒ¬ã‚¹: |
                    Vagrant.configure("2") do |config|
                        config.vm.define "centos7_52" do |config|
                            config.vm.network :private_network, ip: "192.168.34.52"
                            config.vm.network :forwarded_port, guest: 22, host: 2352, id: "ssh"
                ãƒ—ãƒ­ã‚­ã‚·:
                    bash:
                        vagrant.exe  plugin install vagrant-proxyconf
                    Vagrantfile: |
                        Vagrant.configure("2") do |config|
                            if Vagrant.has_plugin?("vagrant-proxyconf") && ENV['HTTP_PROXY'] && ENV['HTTPS_PROXY']
                                config.proxy.http     = ENV['HTTP_PROXY']
                                config.proxy.https    = ENV['HTTPS_PROXY']
                                config.proxy.no_proxy = "localhost, 127.0.0.1, 192.168.*, 192.168.34.52, centos7_52"
                            end
            å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: #keyword: Vagrant å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
                å ´æ‰€:
                    VM å†…: /vagrant
                    ãƒ›ã‚¹ãƒˆå†…: Vagrantfile ãŒç½®ã‹ã‚Œã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                    bash:
                        vagrant plugin install vagrant-vbguest
                    Vagrantfile: |
                        Vagrant.configure("2") do |config|
                            config.vm.synced_folder ".", "/vagrant",  create: true, owner: "vagrant", group: "vagrant", type:"virtualbox"
                ç„¡åŠ¹è¨­å®š:
                    Vagrantfile: |
                        Vagrant.configure("2") do |config|
                            config.vm.synced_folder ".", "/vagrant", disabled: true
                    ä»£ã‚ã‚Š: scp ã‚³ãƒãƒ³ãƒ‰
        box:
            ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã® Box ã‚’ä¸€è¦§ã—ã¾ã™:
                vagrant box list  #// Box å ï¼ˆä»®æƒ³åŒ–ã‚½ãƒ•ãƒˆåï¼‰ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
            Box ã‚’å‰Šé™¤ã—ã¦ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’å¢—ã‚„ã—ã¾ã™:
                - vagrant box list  #// Box å ï¼ˆä»®æƒ³åŒ–ã‚½ãƒ•ãƒˆåï¼‰ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                - vagrant box remove  __BoxName__
        ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼: #keyword: Vagrant ä»®æƒ³åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼  #// ä»®æƒ³ãƒã‚·ãƒ³ã‚’å‹•ã‹ã™ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã€‚Vagrant ã®æ“ä½œå¯¾è±¡
            å¯¾å¿œ: Oracle VirtualBox, VMware Workstation / VMware Fusion, Hyper-V, Docker, Parallels(mac), KVM
        ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼:  #keyword: Ansible ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼, Ansible provisioner, ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°, config.vm.provision
            æ¦‚è¦: Vagrant ãŒãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ä¸€éƒ¨ã‚’ç§»è­²ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã€‚ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¨ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç­‰ã‚’ã™ã‚‹ã“ã¨ã§ã™ã€‚
            å‚è€ƒ:
                - https://www.vagrantup.com/docs/provisioning/ansible_local
                - https://docs.ansible.com/ansible/2.9_ja/scenario_guides/guide_vagrant.html
            ansible_local (Ansible Local Provisioner): #keyword: ansible_local
                æ¦‚è¦:
                    - ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’è¡Œã†ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ä¸Šã§ ansible-playbook ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ #search: ansible-playbook
                    - Vagrant ã‹ã‚‰å®Ÿè¡Œã—ã¾ã™  #see-above: server.vm.provision "ansible_local"
                    - ã‚²ã‚¹ãƒˆãƒã‚·ãƒ³ã« Ansible ãŒã¾ã å­˜åœ¨ã—ãªã„å ´åˆã€Vagrant ã¯è‡ªå‹•çš„ã« Ansible ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
                    - è‡ªå‹•çš„ã«ã¤ãã‚‰ã‚Œã‚‹ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ansible_local ã‚’å…¥ã‚ŒãŸã‚µãƒ¼ãƒãƒ¼ã ã‘ã§ãªã
                        åˆ¥ã®ã‚µãƒ¼ãƒãƒ¼ã®æƒ…å ±ã‚‚å…¥ã‚Šã¾ã™  #search: Vagrant Ansible SSH
                ã‚µãƒ³ãƒ—ãƒ«1 Vagrantfile: |
                    node.vm.provision :ansible_local do |ansible|
                        ansible.playbook = "playbook.yml"
                            #// ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã® /vagrant/playbook.yml ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                            #// ãŸã ã—ã€Vagrantfile ã®ä¸­ã® config.vm.synced_folder ã«ã‚ˆã£ã¦ playbook.yml ãŒã‚ã‚‹ã¨æƒ³å®šã—ã¦ã„ã¾ã™
                        ansible.compatibility_mode = '2.0'
                        ansible.verbose = "v"
                            #// ansible.verbose ã®è¡ŒãŒç„¡ãã¦ã‚‚ Ansible ã®ã‚¿ã‚¹ã‚¯ãŒå¤‰æ›´ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ãŸã‹ã©ã†ã‹ã¯è¡¨ç¤ºã•ã‚Œã¾ã™
                            #// ansible.verbose = "v" ã‚’æ›¸ãã¨ã€Ansible ã®ã‚¿ã‚¹ã‚¯ã®è©³ç´°ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™
                        ansible.raw_arguments = ['--check']
                            #// dry run ã—ã¾ã™  #search: ansible check
                    end
                ã‚µãƒ³ãƒ—ãƒ«2 Vagrantfile: |
                    node.vm.provision :ansible_local do |ansible|
                        ansible.compatibility_mode = '2.0'
                        ansible.playbook = '/home/vagrant/ansible/all.yml'
                        ansible.inventory_path = '/home/vagrant/ansible/inventories/hosts'
                        ansible.limit = 'clients'
                    end
            ansible: #// ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ä¸Šã§ ansible-playbook ã‚’å®Ÿè¡Œã—ã€ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã«å¯¾ã—ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ã€‚
                #// æ³¨æ„: ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ãŒ Windows ã®ã¨ãã¯ä½¿ãˆã¾ã›ã‚“ã€‚Vagrant for Windows ã‹ã‚‰å®Ÿè¡Œã—ã¦ã‚‚ä½¿ãˆã¾ã›ã‚“ã€‚
            /vagrant: #keyword:  #// ansible_local ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ä½œã‚‰ã‚Œã‚‹ãƒ›ã‚¹ãƒˆ OS ã¨ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
            file:  #// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™  #keyword: Vagrant File Provisioner
                å‚è€ƒ: https://www.vagrantup.com/docs/provisioning/file
                ã‚µãƒ³ãƒ—ãƒ«: |
                    config.vm.provision "file", source: private_key, destination: "/home/vagrant/.ssh/id_rsa"
                #search: ansible_vagrant 1_multi_vm_ansible
            shell: #keyword: Vagrant shell Provisioner  #// ã‚·ã‚§ãƒ« ã‚³ãƒãƒ³ãƒ‰ ã‚’å®Ÿè¡Œã—ã¾ã™
                #ref: https://developer.hashicorp.com/vagrant/docs/provisioning/shell
                ã‚µãƒ³ãƒ—ãƒ«: |  #focus: shell
                    Vagrant.configure("2") do |config|
                        config.vm.define "centos7_62" do |config|
                            config.vm.provision "attach-repository-patch", type: "shell", run: "always", inline: <<-'__HERE_DOCUMENT__'
                                sudo sed -i 's/mirrorlist=/#mirrorlist=/g' /etc/yum.repos.d/CentOS-*
                                sudo sed -i 's/#baseurl=/baseurl=/g' /etc/yum.repos.d/CentOS-*
                                sudo sed -i 's/mirror.centos.org/vault.centos.org/g' /etc/yum.repos.d/CentOS-*
                                yum clean all
                                yum makecache
                            __HERE_DOCUMENT__
                vagrant up ã®å‡ºåŠ›: |
                    ==> centos7_62: Running provisioner: attach-repository-patch (shell)...
                        centos7_62: Running: inline script
                        centos7_62: __InlineScriptStdOut__
                å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°:
                    vagrant up ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹é€”ä¸­ã§ Machine booted and ready! ã¨è¡¨ç¤ºã•ã‚Œã€
                    Guest Additions ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è¨­å®šãªã©ãŒè¡Œã‚ã‚ŒãŸå¾Œã€
                    shell (inline script) ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                    ãã‚Œã‚‰ã‚ˆã‚Šå‰ã«ã—ãŸã„å ´åˆã¯ã€
                        preprovision = ENV['PREPROVISION'] || "false"
                        if preprovision == "true"
                    ã®ã‚ˆã†ã«æ›¸ã„ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã« 2æ®µéšã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                        1. PREPROVISION=true  vagrant up --provision
                        2. vagrant reload
                å®Ÿè¡Œæ¡ä»¶: #keyword: Vagrant provisioning condition  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆprovision shell ã‚‚å«ã‚€ï¼‰ã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶
                    -   VM ã‚’æ–°è¦ä½œæˆã™ã‚‹ã¨ã  ï¼ˆå‰Šé™¤ã—ã¦ã‹ã‚‰å†ä½œæˆã™ã‚‹ã¨å®Ÿè¡Œã•ã‚Œãªã„ã“ã¨ãŒå¤šã„ã§ã™ï¼‰
                        #// ã¾ãŸã¯
                    -   --provision ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæŒ‡å®šã•ã‚ŒãŸã¨ã
                            vagrant up --provision
                    -   #// ã¾ãŸã¯
                        vagrant provision ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ã
                    - | #// ã¾ãŸã¯
                        run: "always" ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã¨ã
                            config.vm.provision "attach-repository-patch", type: "shell", run: "always"
                    -   #// ã‹ã¤
                        VM ã®é›»æºãŒå…¥ã£ã¦ã„ãªã„ã¨ã
                    #// shell ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼ ã‚ˆã‚Šå‰ã«å®Ÿè¡Œã•ã‚Œã‚‹ Guest Additions ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§
                    #// ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ã€vagrant provision ã‚³ãƒãƒ³ãƒ‰ã‚„ --provision ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¦ã‚‚
                    #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼ãŒå®Ÿè¡Œã™ã‚‹å‰ã«ã‚¨ãƒ©ãƒ¼ã§çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™
        Box:  #// Vagrant ãŒãƒ™ãƒ¼ã‚¹ã«ã™ã‚‹ OS ãªã©ã®å¤§ãã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆé››å½¢ï¼‰ã§ã™ã€‚ #keyword: Vagrant box
            #ref: https://www.vagrantup.com/docs/cli/box
            æ¤œç´¢: #ref: https://app.vagrantup.com/boxes/search
            ä¸€è¦§:  #// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã® Box ã‚’ä¸€è¦§ã—ã¾ã™
                vagrant box list  #// Box å ï¼ˆä»®æƒ³åŒ–ã‚½ãƒ•ãƒˆåï¼‰ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
            è¿½åŠ :
                vagrant box add __FilePath__
            ä¿å­˜å ´æ‰€:
                .box ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ãŸã‚‚ã®: #ref: ${HOME}/.vagrant.d/boxes/__Name__/__Version__
            ä½œæˆ:
                #ref: https://qiita.com/kon_yu/items/ac7fb2c5af1cc0844225
            ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ :
                .tar.gz å½¢å¼
                #ref: https://www.vagrantup.com/docs/boxes/format
        vagrant-vbguest ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #// Guest Additions ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è‡ªå‹•çš„ã«åˆã‚ã›ã¾ã™  #keyword: vagrant-vbguest plug-in
            URL: https://github.com/dotless-de/vagrant-vbguest
            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †:
                bash:
                    vagrant plugin install vagrant-vbguest
                Vagrantfile: |
                    config.vbguest.installer_options = { allow_kernel_upgrade: true }  #search: vagrant-vbguest plug-in
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
        print ãƒ‡ãƒãƒƒã‚°: |
            puts "Message"
            puts "config.vm.box ã®å€¤: #{config.vm.box}"
        ãƒ‡ãƒãƒƒã‚°ã™ã‚‹å ´åˆ: #keyword: vagrant up debug
            vagrant up  --debug --timestamp
        ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹å ´åˆ: #keyword: vagrant up time out
            ãƒ­ã‚°: |
                $ "vagrant.exe" up
                ...
                vm-local: SSH auth method: private key
                ...
                If the box appears to be booting properly, you may want to increase
                the timeout ("config.vm.boot_timeout") value.
                ERROR  #breadcrumb: 2025-10-15T04:02:55.429129200+0900 (PID=1682, ParentPID=1535) To continue, input the command like: /c/Users/m-toda/vagrant/single_vm_ansible/ci-local/vm-local/install-vm.sh  --start-at " >> Main >> SetUpVMsAndAnsibleProject >> CreateBaseVMs (VM1) >> CreateBaseVMs >> installBaseScript, ./install-vm.sh >> Main >> CreateVM (A) >> [2] >> CreateVM  sever9900R-local, 22 >> CreateSTUBLxVM  server9900R-local, 22, STUBL9 >> vagrant up"
            ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã™ã‚‹ã‹ã€Windows ã‚’å†èµ·å‹•ã™ã‚‹:
            vagrant up ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’ä¼¸ã°ã™:  #ref: https://stackoverflow.com/questions/73589100/how-do-i-increase-the-config-vm-boot-timeout-in-vagrant
                config.vm.boot_timeout = 300  #// second   #// 300 ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
                #// Warning: Connection reset. Retrying... ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“ã§ã¯ã‚ã‚Šã¾ã›ã‚“
        #â†“ ã‚¨ãƒ©ãƒ¼ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        Could not retrieve mirrorlist:
            æ‰‹é †: vagrant up
            ã‚¨ãƒ©ãƒ¼: |  #keyword: Could not retrieve mirrorlist
                Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=vag error was
                14: HTTP Error 503 - Service Unavailable
            å¯¾å‡¦:
                CentOS7:  #ref: https://serverfault.com/questions/1161816/mirrorlist-centos-org-no-longer-resolve
                    Vagrant ã®å ´åˆ:
                        Vagrantfile: |
                            config.vm.provision "attach-repository-patch", type: "shell", run: "always", inline: <<-'__HERE_DOCUMENT__'
                                echo 'Changing OS mirror URL ...'
                                sudo sed -i 's/mirrorlist=/#mirrorlist=/g' /etc/yum.repos.d/CentOS-*
                                sudo sed -i 's/#baseurl=/baseurl=/g' /etc/yum.repos.d/CentOS-*
                                sudo sed -i 's/mirror.centos.org/vault.centos.org/g' /etc/yum.repos.d/CentOS-*
                                yum clean all
                                yum makecache
                            __HERE_DOCUMENT__
                        #search: Vagrant shell Provisioner
                    é–¢é€£æƒ…å ±:
                        ãƒŸãƒ©ãƒ¼ ãƒªã‚¹ãƒˆ:
                            å¤‰æ›´å‰: http://mirrorlist.centos.org/
                            å¤‰æ›´å¾Œ: https://mirrormanager.fedoraproject.org/mirrors/CentOS
                            å¯¾å‡¦: http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=vag
                                ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã‚‰ã€
                                https://mirrormanager.fedoraproject.org/mirrors/CentOS?release=7&arch=x86_64&repo=os&infra=vag
                                ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§é–‹ã >> JPï¼ˆæ—¥æœ¬ï¼‰ã‚’æ¤œç´¢ >> http ã®ãƒªãƒ³ã‚¯å…ˆï¼Ÿ
                            #ref: https://stackoverflow.com/questions/78692851/could-not-retrieve-mirrorlist-http-mirrorlist-centos-org-release-7arch-x86-6
                        ãƒŸãƒ©ãƒ¼:
                            sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-*
                            sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-*
                            #ref: https://stackoverflow.com/questions/78692851/could-not-retrieve-mirrorlist-http-mirrorlist-centos-org-release-7arch-x86-6
                CentOS6:
                    ãƒŸãƒ©ãƒ¼:
                        sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-Base.repo
                        sed -i 's|#baseurl=http://mirror.centos.org/centos/$releasever|baseurl=http://vault.centos.org/6.9|g' /etc/yum.repos.d/CentOS-Base.repo
                        yum clean all
            åŸå› : ãƒŸãƒ©ãƒ¼ ãƒªã‚¹ãƒˆ ã‚µãƒ¼ãƒãƒ¼ ãŒå¤‰ã‚ã£ãŸã€‚ OS ã®ã‚µãƒãƒ¼ãƒˆæœŸé™åˆ‡ã‚Œã«ã‚ˆã‚‹åˆ‡ã‚Šæ›¿ãˆ
        To fix this, modify your current project's Vagrantfile to use another port.:
            æ‰‹é †: vagrant up
            ã‚¨ãƒ©ãƒ¼: |  #focus: 2362, 1234
                ==> __VM_Name__: Setting the name of the VM: vm_1713148553979_52432
                Vagrant cannot forward the specified ports on this VM, since they
                would collide with some other application that is already listening
                on these ports. The forwarded port to 2362 is already in use
                on the host machine.

                To fix this, modify your current project's Vagrantfile to use another
                port. Example, where '1234' would be replaced by a unique host port:

                config.vm.network :forwarded_port, guest: 22, host: 1234

                Sometimes, Vagrant will attempt to auto-correct this for you. In this
                case, Vagrant was unable to. This is usually because the guest machine
                is in a state which doesn't allow modifying port forwarding. You could
                try 'vagrant reload' (equivalent of running a halt followed by an up)
                so vagrant can attempt to auto-correct this upon booting. Be warned
                that any unsaved work might be lost.
            å¯¾å‡¦A: |
                ä½¿ã£ã¦ã„ã‚‹ãƒãƒ¼ãƒˆ 2362 ã‚’é–‰ã˜ã¾ã™
            å¯¾å‡¦B: |
                config.vm.network :forwarded_port, guest: 22, host: 1234
                ã® 1234 ã‚’ vagrant ãƒ›ã‚¹ãƒˆã§ä½¿ã£ã¦ã„ãªã„ãƒãƒ¼ãƒˆã«å¤‰æ›´ã—ã¾ã™
        vagrant up ã—ã¦ã‚‚ Machine booted and ready! ã§æ­¢ã¾ã‚Šç¶šã‘ã‚‹:
            æ‰‹é †: vagrant up
            çŠ¶æ³: Machine booted and ready! ã§æ­¢ã¾ã‚Šç¶šã‘ã‚‹
            å¯¾å‡¦:
                VirtualBox ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã« DNS ã‚’ç«‹ã¦ã¦ã„ã‚‹å ´åˆ:
                    DNS ã® VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™ã€‚date ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã•ã‚Œã‚‹ç¾åœ¨æ—¥æ™‚ã‚’æ­£ã—ãã—ã¾ã™
        ERROR! the playbook:;; playbook-0.yml could not be found:
            æ‰‹é †: vagrant up
            ã‚¨ãƒ©ãƒ¼: |
                ERROR! the playbook: playbook-0.yml could not be found
            å¯¾å‡¦:
                sudo mount -a  #search: VirtualBox shared folder
        Error message given during initialization:;; Unable to resolve dependency:; user requested 'vagrant-proxyconf (= 2.0.10)':
            æ‰‹é †: vagrant up --provider=docker
            ã‚¨ãƒ©ãƒ¼: |
                Vagrant failed to initialize at a very early stage:
                The plugins failed to initialize correctly.
                ...
                Error message given during initialization: Unable to resolve dependency: user requested 'vagrant-proxyconf (= 2.0.10)'
            å¯¾å‡¦:
                vagrant plugin install vagrant-proxyconf --plugin-version 2.0.10
        Vagrant is unable to use the VirtualBox provider from the Windows Subsystem for Linux without access to the Windows environment:
            æ‰‹é †: vagrant up
            ã‚¨ãƒ©ãƒ¼: |
                Vagrant failed to initialize at a very early stage:
                Vagrant is unable to use the VirtualBox provider from the Windows Subsystem for Linux without access to the Windows environment.
                Enabling this access must be done with caution and an understanding of the implications.
                For more information on enabling Windows access and using VirtualBox from the Windows Subsystem for Linux,
            #ref: https://stackoverflow.com/questions/66875692/vagrant-with-virtualbox-on-wsl-unable-to-access-windows-environment
        equested provider:;; [:docker]:
            æ‰‹é †: vagrant up --provider=docker
            ã‚¨ãƒ©ãƒ¼: |
                Bringing machine 'default' up with 'docker' provider...
                ==> default: Box 'centos/7' could not be found. Attempting to find and install...
                    default: Box Provider: docker
                    default: Box Version: 2004.01
                ==> default: Loading metadata for box 'centos/7'
                    default: URL: https://vagrantcloud.com/centos/7
                The box you're attempting to add doesn't support the provider
                you requested. Please find an alternate box or use an alternate
                provider. Double-check your requested provider to verify you didn't
                simply misspell it.

                If you're adding a box from HashiCorp's Vagrant Cloud, make sure the box is
                released.

                Name: centos/7
                Address: https://vagrantcloud.com/centos/7
                Requested provider: [:docker]
            åŸå› :
                æŒ‡å®šã—ãŸ .box ã«ã¯ Docker ç”¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ã¾ã›ã‚“ã€‚
                Vagrant boxã«ã¯ã•ã¾ã–ã¾ãªãƒ—ãƒ­ãƒã‚¤ãƒ€ï¼ˆVirtualBox, Hyper-V, VMware, Dockerãªã©ï¼‰ç”¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚ã‚Šã€ãã‚Œãã‚Œã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ç”¨ã«ç•°ãªã‚‹boxãŒå­˜åœ¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚
            å¯¾å‡¦:
                Dockerç”¨ã®åˆ¥ã®Boxã‚’æ¢ã™: vagrantcloud.comã§Dockerã«å¯¾å¿œã—ãŸCentOSã®boxã‚’æ¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚æ¤œç´¢ã‚„ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€Dockerãƒ—ãƒ­ãƒã‚¤ãƒ€ã«å¯¾å¿œã™ã‚‹boxã‚’æ¢ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
                åˆ¥ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ä½¿ç”¨ã™ã‚‹: Dockerã§ã¯ãªãã€VirtualBoxã‚„ä»–ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ä½¿ç”¨ã—ã¦centos/7ã‚’èµ·å‹•ã™ã‚‹ã“ã¨ã‚‚è€ƒæ…®ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
                æ‰‹å‹•ã§Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆ: Docker Hubã‹ã‚‰CentOS 7ã®å…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦ã€ãã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«å¿…è¦ãªè¨­å®šã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã€ç‹¬è‡ªã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã—ã¦ã€ãã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’Vagrantã§ç®¡ç†ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
        Configuring proxy for npm...  /usr/bin/env:;; node:;; No such file or directory:
            æ‰‹é †: vagrant up  #keyword: vagrant up trouble Configuring proxy for npm
            ã‚¨ãƒ©ãƒ¼: |
                Configuring proxy for npm...
                /home/vagrant/.nvm/versions/node/v__NodeVersion__/bin/npm config --global set proxy http://__ProxyServer__:__Port__
                /usr/bin/env: node: No such file or directory
            å¯¾å‡¦:
                ä¸‹è¨˜ /etc/profile.d/nvm.sh ã‚’ä½œã‚Šã¾ã™ã€‚
            /etc/profile.d/nvm.sh: |
                export NVM_DIR="/home/vagrant/.nvm"
                [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
                [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
            åŸå› :
                vagrant-proxyconf ãŒãƒ—ãƒ­ã‚­ã‚·ã‚’è¨­å®šã™ã‚‹éš›ã€root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ npm ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚
            ãƒ¡ãƒ¢:
                vagrant up ã‚’å®Ÿè¡Œã™ã‚‹é–“ã« /etc/profile.d/nvm.sh ãŒæ•°å›å‘¼ã°ã‚Œã¾ã™ã€‚ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ root ã¾ãŸã¯ vagrant ã§ã™ã€‚
        SSL_connect SYSCALL returned=5 errno=0 state=SSLv3/TLS write client hello (https://gems.hashicorp.com/specs.4.8.gz):
            æ‰‹é †: vagrant.exe  plugin install vagrant-vbguest
            ã‚¨ãƒ©ãƒ¼: |
                Installing the 'vagrant-vbguest' plugin. This can take a few minutes...
                Vagrant failed to load a configured plugin source. This can be caused
                by a variety of issues including: transient connectivity issues, proxy
                filtering rejecting access to a configured plugin source, or a configured
                plugin source not responding correctly. Please review the error message
                below to help resolve the issue:

                SSL_connect SYSCALL returned=5 errno=0 state=SSLv3/TLS write client hello (https://gems.hashicorp.com/specs.4.8.gz)

                Source: https://gems.hashicorp.com/
                PS C:\Users\____> vagrant.exe  plugin install vagrant-vbguest
                ==> vagrant: A new version of Vagrant is available: 2.3.6 (installed version: 2.3.4)!
                ==> vagrant: To upgrade visit: https://www.vagrantup.com/downloads.html

                Installing the 'vagrant-vbguest' plugin. This can take a few minutes...
            å¯¾å‡¦:
                gems.hashicorp.com ã¸ã®æ¥ç¶šãŒã§ããªã„ã‚ˆã†ã§ã™ã€‚1æ—¥å¾…ã£ãŸã‚‰ç›´ã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
                Note PC ã§ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¤ãªãŒã£ã¦ã„ãªã„ã¨ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã€‚ã¤ãªãã¨å‹•ã„ãŸã€‚
        Unknown configuration section 'proxy':
            æ‰‹é †: vagrant up ã‚³ãƒãƒ³ãƒ‰ >> Vagrantfile >> config.proxy
            ã‚¨ãƒ©ãƒ¼: |
                Unknown configuration section 'proxy'
            å¯¾å‡¦:
                vagrant-proxyconf ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„
        The provider for this Vagrant-managed machine is reporting that it is not yet ready for SSH:
            æ‰‹é †: vagrant ssh-config
            ã‚¨ãƒ©ãƒ¼: |
                The provider for this Vagrant-managed machine is reporting that it
                is not yet ready for SSH. Depending on your provider this can carry
                different meanings. Make sure your machine is created and running and
                try again. Additionally, check the output of `vagrant status` to verify
                that the machine is in the state that you expect. If you continue to
                get this error message, please view the documentation for the provider
                you're using.
            å¯¾å‡¦A:
                Vagrant ãƒ•ã‚¡ã‚¤ãƒ«ãŒå®šç¾©ã—ã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚µãƒ¼ãƒãƒ¼ã®é›»æºã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚
            å¯¾å‡¦B:
                vagrant up ãŒå¤±æ•—ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚
                ãŸã¨ãˆã°ã€.vagrant ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã—ã¦ã‚‚ã†ä¸€åº¦ vagrant up ã—ã¦ãã ã•ã„ã€‚
        PC ã®å†èµ·å‹•ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ Has active connections:
            æ‰‹é †: PC ã®å†èµ·å‹•
            ã‚¨ãƒ©ãƒ¼: VirtualBox Interface >> Has active connections ã¨è¡¨ç¤ºã•ã‚Œã¦ PC ã‚’å†èµ·å‹•ã§ããªã„
            å¯¾å‡¦: ï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> è©³ç´°ï¼ˆã‚¿ãƒ–ï¼‰>> VBoxSVC.exeï¼ˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ï¼‰>> ã‚¿ã‚¹ã‚¯ã®çµ‚äº†
        Vagrant >> Guest Additions ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé•ã†:
            æ‰‹é †: vagrant up
            ã‚¨ãƒ©ãƒ¼: |
                No guest additions were detected on the base box for this VM!
                The guest additions on this VM do not match the installed version of VirtualBox!
                https://qiita.com/chubura/items/4166585cf3f44e33271d
            åŸå› :
                VM ãŒæŒã£ã¦ã„ã‚‹ Guest Additions ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ VirtualBox ãŒæœŸå¾…ã™ã‚‹ Guest Additions ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé•ã„ã¾ã™
            å¯¾å‡¦:
                vagrant-vbguest ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: vagrant-vbguest
Ansible: #keyword: Ansible, an
    æ¦‚è¦:
        åŸºæœ¬:
            #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/Cloud/Cloud.svg#Ansible
            - https://docs.ansible.com/ansible/2.9_ja/network/getting_started/basic_concepts.html  #template: __DocumentVersion__
            - https://docs.ansible.com/ansible/latest/network/getting_started/basic_concepts.html
            - https://qiita.com/elu_jaune/items/d3223922df42d9d4b45b
        ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Ansible ãƒãƒ¼ã‚¸ãƒ§ãƒ³:
            - https://docs.ansible.com/ansible/2.9_ja/  #template: __DocumentVersion__
        æ—¥æœ¬èªç‰ˆãŒã‚ã‚‹ 2.9:
            - https://docs.ansible.com/ansible/2.9_ja/  #// ã‚³ãƒ¼ãƒ‰éƒ¨åˆ†ã¯ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå´©ã‚Œã¾ã™ã€‚
            - https://docs.ansible.com/ansible/2.9/
    æ‰‹é †ã€ã‚µãƒ³ãƒ—ãƒ«:
        ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:  #keyword: Ansible project examples
            éå…¬é–‹:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant
                Playbook ã‚µãƒ³ãƒ—ãƒ«é›†:
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/playbooks
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/file_example/text_file/replace/1st/playbook.yml
                multi_vm_ansible/branch_all:  #keyword: multi_vm_ansible,  ansible vagrant,  ansible .git.zip
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_all
                    #search: .git.zip checkout
            å…¬é–‹:  #ref: ${GitHub}/multi_vm_ansible
                multi_vm_ansible:
                    #ref: https://github.com/Takakiriy/multi_vm_ansible
                    #ref: https://qiita.com/Takakiri/items/64011adc99bf95acdfec
            #// ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã†ã¨ãã¯ã€
            #// #search: install Ansible project
            #// .git.zip ã®å ´åˆã€ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¾ã™  #search: .git.zip checkout
            #// ã¾ãŸã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® README ã‚’å‚ç…§
            (deprecated):
                1_multi_vm_ansible:  #keyword: 1_multi_vm_ansible  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible
                MySQL_1_multi_vm_ansible:  #keyword:  MySQL_1_multi_vm_ansible  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_MySQL_Flyway
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
            CentOS7:
                å˜ä½“: #keyword: install Ansible CentOS7  #// Vagrant ã§ä½œã£ãŸ CentOS7 ã® VM ã« Ansible ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                    æ–°ã—ã„æ‰‹é †:  #// Ansbile ãŒä½¿ã† Python ã¯ 2.7.5
                        - sudo yum update -y
                        - sudo yum install -y  centos-release-ansible-29  #search: centos-release-ansible-29
                        - sudo yum install -y  ansible
                    centos.org, centos-release-ansible-29:
                        how do I install ansible in centos 7:  #ref: https://forums.centos.org/viewtopic.php?f=48&t=80180
                        å®‰å…¨æ€§: #// centos-release-ansible-29 ã¯å®‰å…¨ã§ã—ã‚‡ã†
                            wiki.centos.org/SpecialInterestGroup/ConfigManagementSIG ãŒä½œã£ãŸã‚‚ã®ã¯å®‰å…¨ã§ã—ã‚‡ã†ã‹ï¼Ÿ:
                                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: safety centos-release-ansible-29
                    å¤ã„æ‰‹é †:
                        sudo yum update -y
                        sudo yum install -y  epel-release
                        sudo yum install -y  ansible
                Vagrant ã® Ansible ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼:  #search: Ansible ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼
                    single_vm_ansible:  #// single_vm_ansible/centos7 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ  #ref: https://github.com/Takakiriy/MyPrivateCode/blob/master/ansible_vagrant/single_vm_ansible/centos7/README.yaml
                    1_multi_vm_ansible:  #// æ—§ æ—¢å­˜ã® Vagrant+Ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:  #keyword: install Ansible project
                        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: 1_multi_vm_ansible
                        å…¬é–‹æƒ…å ±: #ref: https://qiita.com/Takakiri/items/64011adc99bf95acdfec#ä»˜éŒ²æ§‹é€ åŒ–æ–‡æ›¸ã«ã‚ˆã‚‹æ‰‹é †æ›¸
                        è¨­å®š: #settings:
                            __ControlNode__: control
                            __TargetNode__: node1
                        é–‹ç™ºãƒ„ãƒ¼ãƒ«ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                            VirtualBox ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                - https://www.virtualbox.org/ >> Download VirtualBox X.X >> Windows hosts
                                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šVirtualBox-6.1.22-144080-Win.exeï¼‰ã‚’é–‹ãã¾ã™
                                - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                                - ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                            Vagrant ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                - https://www.vagrantup.com/downloads.html >> Windowsï¼ˆã‚¿ãƒ–ï¼‰>> 64-bit
                                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼švagrant_2.2.16_x86_64.msiï¼‰ã‚’é–‹ãã¾ã™
                                - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                                - PC ã‚’å†èµ·å‹•ã—ã¾ã™
                            Git for Windows ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                - https://git-scm.com/ >> Download for Windowsï¼ˆå³ä¸‹ï¼‰
                                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šGit-2.33.0.2-64-bit.exeï¼‰ã‚’é–‹ã
                                - Next ã‚’9å›æŠ¼ã™
                                - Configuring the line ending conversions: Checkout as-is, commit as-is
                                - ä»–ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                            Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                - https://code.visualstudio.com/
                                - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼šVSCodeUserSetup-x64-1.50.1.exeï¼‰ã‚’é–‹ãã¾ã™
                                - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ç”¨
                                - Git bash ã‚·ã‚§ãƒ«ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§é–‹ãã‚ˆã†ã«ã—ã¾ã™:
                                    VSCode >> Terminal >> New Terminal >> ï¼‹ã®å³ã®â†“ï¼ˆã‚·ã‚§ãƒ«ã®å³ä¸Šï¼‰>>
                                    Select Default Profile >> Git bash >> ã‚´ãƒŸç®± ãƒœã‚¿ãƒ³ï¼ˆã‚·ã‚§ãƒ«ã®å³ä¸Šï¼‰
                                - ï¼ˆæ¨å¥¨ï¼‰VSCode (Visual Studio Code ã‚’ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã«ãƒ”ãƒ³æ­¢ã‚ã—ã¾ã™:
                                - ï¼ˆæ¨å¥¨ï¼‰Ctrl + S ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ãã«å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™: |
                                    VSCode >> File >> Preferences >> Keyboard Shortcuts >> save all ï¼ˆã¨å…¥åŠ›ï¼‰ >>
                                        File: Save All ï¼ˆã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ï¼‰ >> Ctrl + S ã‚­ãƒ¼ >> Enter ã‚­ãƒ¼
                            ãƒ›ã‚¹ãƒˆOSãŒãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹LANã«ã„ã‚‹ã¨ã:
                                #search: Windows proxy
                            vbguest ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// Ansible Local ã¨ Vagrant ã‚’æ¥ç¶šã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™
                                #// MyPrivateCode/ansible_vagrant ã«ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Ansible Local ã‚’ä½¿ã£ã¦ã„ã¾ã™
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant
                                #bash (VSCode >> Terminal >> New Terminal)
                                (@host) Git bash:  #// VSCode >> Terminal >> New Terminal
                                    - vagrant plugin install vagrant-vbguest
                            ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å–å¾—ã—ã¾ã™:
                                ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:
                                    #search: Ansible project examples
                                ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ:
                                    (@host) Git bash:  #// 1_multi_vm_ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™
                                        - cd ${GitHub}  #// ~/Desktop ã§ã‚‚ã‚ˆã„
                                        - git clone https://github.com/Takakiriy/MyPrivateCode
                                        - mkdir -p ~/Desktop/new_ansible
                                        - cp -rapT  "MyPrivateCode/ansible_vagrant/1_multi_vm_ansible/"  ~/Desktop/new_ansible/
                                            #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible
                                            #// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ __Project__ ã¯ã€~/Desktop/new_ansible ã«ãªã‚Šã¾ã™
                            Visual Studio Code ã§ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                                (@host) Git bash:
                                    - code __Project__
                                #// VSCode å†…ã§ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ãŸã‚‰ã€ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ãŸ VSCode ã‚’é–‰ã˜ã¾ã™
                            Git bash ã‚·ã‚§ãƒ«ã‚’é–‹ãã¾ã™:
                                (@host) VSCode >> Terminal >> New Terminal
                            ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œã£ã¦èµ·å‹•ã—ã¾ã™:
                                (@host) Git bash:
                                    - cd  __Project__  #// ä¸è¦ã®å ´åˆã‚ã‚Šã€‚ä»¥å¾Œã‚‚åŒæ§˜
                                    - vagrant up  #// åˆå›ã¯ç´„ 5åˆ†ã€‚å†…éƒ¨ã§ Ansible Local ã«ã‚ˆã‚‹ Playbook ã‚‚å‹•ãã¾ã™
                                        #// Vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ã€VM ã® /vagrant/ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¨å…±æœ‰ã—ã¾ã™ã€‚
                                    - vagrant status  #// ä»®æƒ³ãƒã‚·ãƒ³ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                                        #// å¿…è¦ãªã‚‰ã€ä»®æƒ³ãƒã‚·ãƒ³åã‚’ç¢ºèªã—ã€__ControlNode__, __TargetNode__ ã®å€¤ã‚’ç·¨é›†ã—ã¾ã™
                                å‚è€ƒ: #search: vagrant up
                            SSH ã§ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ï¼ˆVSCodeç”¨ï¼‰:
                                VSCode ã® Remote Development æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                        (@host) VSCode >> æ‹¡å¼µæ©Ÿèƒ½ ãƒœã‚¿ãƒ³ï¼ˆå·¦ï¼‰ >> Remote Development
                                    SSH Targets ã‚’è¡¨ç¤ºã—ã¾ã™:
                                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: (@host) VSCode >> Remote Explorerï¼ˆã‚¢ã‚¤ã‚³ãƒ³ï¼šå·¦ï¼‰
                                        REMOTE EXPLORERï¼ˆä¸Šï¼‰: SSH Targets
                                SSH ã®è¨­å®šã‚’ VSCode ã«è¿½åŠ ã—ã¾ã™:
                                    (@host) VSCode Git bash:
                                        - vagrant ssh-config  #// SSH ã®æ¥ç¶šã«å¿…è¦ãªè¨­å®šãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                                        - code ~/.ssh/config  #// vagrant ssh-config ã®å‡ºåŠ›ã‚’æœ€å¾Œã«è²¼ã‚Šä»˜ã‘ã¾ã™
                                Visual Studio Code ã§ SSH æ¥ç¶šã—ã¾ã™:
                                    vagrant / ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™:
                                        (@host) VSCode >> Remote Explorerï¼ˆå·¦ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰>> control >> vagrant /
                                    vagrant / ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„å ´åˆ:
                                        SSH æ¥ç¶šã—ã¾ã™:
                                            controlï¼ˆã®å³ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ãƒœã‚¿ãƒ³  #template: __ControlNode__
                                        (@control) platform: Linux
                                            #// æ¥ç¶šã§ããªã„æ™‚ã¯ã€vagrant ssh-config ã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„
                                        SSH æ¥ç¶šã—ãŸ Visual Studio Code ã§ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãã¾ã™:
                                            (@control) VSCode >> File >> Open Folder ... >> /vagrant/
                                    vagrant / ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆ:
                                        (@host) vagrant / ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼ˆã®å³ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ãƒœã‚¿ãƒ³
                                    ã‚·ã‚§ãƒ«ã‚’é–‹ã‘ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                                        (@control) VSCode >> Terminal >> New Terminal
                                            #// [vagrant@localhost vagrant]$ ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                                            #// æ¬¡å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã„ãŸã¨ãã«ã‚·ã‚§ãƒ«ãŒé–‹ã„ãŸçŠ¶æ…‹ã«ãªã‚Šã¾ã™
                                    é–‹ã‘ãŸã‚‰ Visual Studio Code ã‚’é–‰ã˜ã¾ã™:
                                    Remote Explorer ã§é–‹ã„ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã•ã›ã¾ã™:
                                        (@host) VSCode >> Remote Explorerï¼ˆå·¦ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰>> Reflesh ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰
                                    æ¬¡å›ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã®æ“ä½œ:
                                        - (@host) ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã® VSCode ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> __Folder__ [SSH:__Server__]  #// ã¾ãŸã¯
                                        - (@host) VSCode >> File >> Open Recent >> __Folder__ [SSH:__Server__]  #// ã¾ãŸã¯
                                        - (@host) VSCode >> Remote Explorer ãƒœã‚¿ãƒ³ï¼ˆå·¦ï¼‰>> REMOTE EXPLORER= SSH Targets >> __Server__ >> __Folder__
                                    ä»¥ä¸Šã‚’ @node1 ã«ã¤ã„ã¦ã‚‚è¡Œã¾ã™:
                            ansible_local ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ VM ã‹ã‚‰ä»–ã® VM ã« SSH æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                                ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã« upload_SSH_keys.sh ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆ:
                                    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ã‚ã‚‹ README ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ upload_SSH_keys.sh ã§æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚
                                    ä»¥å¾Œã®æ“ä½œã¯ã€README ã«å¾“ã£ã¦ãã ã•ã„ã€‚
                                ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã« upload_SSH_keys.sh ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆ:
                                    control ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ >> ansible_local ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ VM ã« SSH æ¥ç¶šã—ã¾ã™:  #search: Vagrant SSH  #template: __ControlNode__ ã«
                                        ~/.ssh/id_rsa ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:
                                            #bash
                                            code ~/.ssh/id_rsa
                                            #// å†…å®¹ã¯ã€ãƒ›ã‚¹ãƒˆOS ã® __Project__/.vagrant/machines/control/virtualbox/private_key ã®å†…å®¹ã§ã™
                                        ~/.ssh/id_rsa ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¾ã™:
                                            #bash
                                            chmod 600 ~/.ssh/id_rsa
                                        /etc/hosts ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚µãƒ¼ãƒãƒ¼åã‚’ç™»éŒ²ã—ã¾ã™:
                                            sudo vi /etc/hosts : |
                                                :
                                                192.168.33.101  node1
                                            #template: __TargetNode__
                                    node1 ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ï¼ˆcontrolã‹ã‚‰SSHæ¥ç¶šã™ã‚‹ VMï¼‰:  #search: Vagrant SSH  #template: __TargetNode__ ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ï¼ˆ__ControlNode__ã‹ã‚‰
                                        control ã‚µãƒ¼ãƒãƒ¼ã® ~/.ssh/id_rsa ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾å¿œã™ã‚‹å…¬é–‹éµã‚’èª¿ã¹ã¾ã™:
                                            #// ãƒ›ã‚¹ãƒˆOS ã®ç§˜å¯†éµ __Project__/.vagrant/machines/control/virtualbox/private_key ã¨åŒã˜éµã®å…¬é–‹éµã§ã™
                                            #ãƒ›ã‚¹ãƒˆ OS Git bash
                                            ssh-keygen -yf  __SecretKeyFilePath__
                                        ~/.ssh/authorized_keys ãƒ•ã‚¡ã‚¤ãƒ«ã« __CypherType__ __ClientPublicKey__ __ServerUserName__ ã‚’è¿½åŠ ã—ã¾ã™:
                                            __SSH_KeygenOutput__ vagrant
                                    control ã‹ã‚‰ node1 ã« SSH ã§ä¸€åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‚µãƒ¼ãƒãƒ¼ã¨ã®æ¥ç¶šã‚’è¨±å¯ã—ã¾ã™:  #template: __ControlNode__ ã‹ã‚‰ __TargetNode__
                                        #bash
                                        - ssh vagrant@node1  #// IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ Vagrantfile ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™  #template: @__TargetNode__
                                        - exit
                            ã™ã¹ã¦ã® Visual Stuido Code ã‚’é–‰ã˜ã¾ã™:
                            ä½œæˆã—ãŸã™ã¹ã¦ã® VM ã®é›»æºã‚’åˆ‡ã‚Šã¾ã™:
                                VirtualBox ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ >> __ProjectFolderName___control____ ãªã©ã‚’é¸æŠã—ã¦å³ã‚¯ãƒªãƒƒã‚¯ >>
                                    é–‰ã˜ã‚‹ >> é›»æºã‚ªãƒ•
                            å¿…è¦ãªã‚‰ Vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ VM ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™:
                        VM ã®é›»æºã‚’å…¥ã‚Œã¾ã™:  #// VM ã®é›»æºã‚’å…¥ã‚Œã¦ãƒ›ã‚¹ãƒˆOS ã¨ SSH æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™
                            ï¼ˆå¿…è¦ãªã‚‰ï¼‰VM ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å¸°ã•ã›ã¾ã™:  #search: Vagrant VirtualBox restore
                            #// ç¾åœ¨ã® VM ãŒé›»æºã‚ªãƒ•ã®çŠ¶æ…‹ã§ã‚‚ä¸­æ–­ã®çŠ¶æ…‹ï¼ˆãƒ›ã‚¹ãƒˆOSã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ãŸå¾Œã®çŠ¶æ…‹ï¼‰ã§ã‚‚åŒã˜æ‰‹é †ã§ã™
                            ãƒ›ã‚¹ãƒˆOS ã® Vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ãã¾ã™:
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã® VSCode ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> __Project__
                            vagrant ã‚’èµ·å‹•ã—ã¾ã™:
                                bash: vagrant up
                                #// èµ·å‹•ãŒå®Œäº†ã™ã‚‹ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æˆ»ã‚Šã¾ã™
                                #// å…ˆã« VirtualBox ã§ VM ã‚’èµ·å‹•ã™ã‚‹ã¨å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒä½¿ãˆã¾ã›ã‚“
                                #// å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒå¿…è¦ãªã®ã¯ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« ãƒãƒ¼ãƒ‰ ã ã‘ã§ã™
                        control ãƒãƒ¼ãƒ‰ã® Ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ãã¾ã™:  #template: __ControlNode__ ãƒãƒ¼ãƒ‰
                            ï¼ˆå¿…è¦ãªã‚‰ï¼‰VM ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å¸°ã•ã›ã¾ã™:  #search: Vagrant VirtualBox restore
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã® VSCode ã‚’å³ã‚¯ãƒªãƒƒã‚¯ >> vagrant [SSH:control]  #template: SSH:__ControlNode__
                            bash:
                                - export ANSIBLE_INVENTORY="/tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory"
                                - ansible-playbook  playbook.yml  --list-tasks
                                - ansible-playbook  playbook.yml  --diff -vv  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™
                                - ansible-playbook  playbook.yml  --diff -vvv --step  --limit "__HostName__"  --start-at-task "__TaskName__"
                                    #// ï¼‘ã¤ã®ã‚¿ã‚¹ã‚¯ã ã‘å®Ÿè¡Œã—ã¾ã™
                        MySQL command shell:  #// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰ ãŒ MySQL ã®å ´åˆ
                            (@controler) $ mysql  --user "mysql_user" --password='Pass44##'  -h node1  #template: __TargetNode__
                    æ‰‹å‹•:  #// Ansible Playbook ã‚’ Windows ã§å®Ÿè¡Œã—ã¾ã™ã€‚CentOS ã¨ Apache ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™  #keyword: Ansible example Apache
                        Vagrant, VirtualBox ã‚’ Windows ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ CentOS ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ VM ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:  #search: Vagrant Windows
                        vbguest ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// Ansible Local ã¨ Vagrant ã‚’æ¥ç¶šã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™
                            #bash
                            vagrant plugin install vagrant-vbguest
                        Ansible/Vagrant ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆã—ã¾ã™:
                            bash:
                                - mkdir -p  ~/vagrant/centos_apache  #// __Project__ ã¨ã™ã‚‹
                                - cd        ~/vagrant/centos_apache
                            ä»®æƒ³ãƒã‚·ãƒ³ã¨ OS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ Vagrant ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:
                                __Project__/Vagrantfile : |
                                    Vagrant.configure("2") do |config|
                                        if Vagrant.has_plugin?("vagrant-vbguest") then

                                            # Guest Additions ã®è‡ªå‹•æ›´æ–°ã¯ç„¡åŠ¹
                                            config.vbguest.auto_update = false
                                        end

                                        # Vagrant ã® Box ã‚’æŒ‡å®šã—ã¾ã™
                                        config.vm.box = "centos/7"

                                        # å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è¨­å®šï¼ˆãƒ›ã‚¹ãƒˆOSã¨ã‚²ã‚¹ãƒˆOSé–“ã®ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸå®Ÿæ–½ï¼‰  #keyword: config.vm.synced_folder,  Vagrant å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
                                        config.vm.synced_folder ".", "/vagrant",  create: true, owner: "vagrant", group: "vagrant", type:"virtualbox"
                                            #// "." ãŒãƒ›ã‚¹ãƒˆOS å´ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã€‚Vagrant ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã§ã™
                                            #// "/vagrant" ãŒã‚²ã‚¹ãƒˆOS å´ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
                                            #// èµ·å‹•æ™‚ã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚ #search: vagrant reload
                                            #// type ãŒæŒ‡å®šã•ã‚Œã‚‹ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åŒæœŸã—ã¾ã™

                                        config.vm.define "ansibletest" do |server|

                                            # ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒ›ã‚¹ãƒˆåã¨IPã‚¢ãƒ‰ãƒ¬ã‚¹
                                            server.vm.hostname = "ansibletest"
                                            server.vm.network :private_network, ip: "192.168.33.20"

                                            # VirtualBox ã«è¡¨ç¤ºã•ã‚Œã‚‹ä»®æƒ³ãƒã‚·ãƒ³å
                                            server.vm.provider "virtualbox" do |vb|
                                                vb.name = config.vm.box.gsub(/\//, "_") + "_" + server.vm.hostname
                                            end

                                            # Ansibleã‚’åˆ©ç”¨ã—ãŸãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°å®Ÿæ–½  #search: ansible_local
                                            server.vm.provision "ansible_local" do |ansible|
                                                ansible.playbook = "playbook.yml"
                                                ansible.compatibility_mode = '2.0'
                                            end
                                        end

                                        # proxy
                                        if Vagrant.has_plugin?("vagrant-proxyconf") && ENV['http_proxy'] && ENV['https_proxy']
                                            config.proxy.http     = ENV['http_proxy']
                                            config.proxy.https    = ENV['https_proxy']
                                            config.proxy.no_proxy = "localhost,127.0.0.1,control,node1"
                                        end
                                    end
                            Apache HTTP ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ Ansible Playbook ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:
                                __Project__/playbook.yml :
                                    -   hosts: all
                                        become: true
                                        tasks:
                                            -   name: install httpd
                                                yum: name=httpd state=latest
                                            -   name: apache start / enable
                                                service: name=httpd state=started enabled=yes
                        ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œã£ã¦èµ·å‹•ã—ã¾ã™ï¼ˆãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼‰:  #search: vagrant up
                            #bash
                            - cd  __Project__
                            - vagrant up  #// åˆå›ã¯ç´„ 5åˆ†ã€‚å†…éƒ¨ã§ Ansible Local ã«ã‚ˆã‚‹ Ansible Playbook ã‚‚å‹•ãã¾ã™
                            - vagrant status  #// ä»®æƒ³ãƒã‚·ãƒ³ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                        Apache ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                            ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ ãƒãƒ¼ã« 192.168.33.20 ã¨å…¥åŠ›ã—ã¾ã™ã€‚
                            IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã€Vagrantfile ã®ä¸­ã® server.vm.network ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚
                        å†åº¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼ˆVagrant çµŒç”±ã§ Ansible ã‚’ä½¿ç”¨ï¼‰:
                            #bash
                            - cd  __Project__
                            - vagrant reload --provision
                                #// VM ã®å†èµ·å‹•ã‚‚ç™ºç”Ÿã—ã¾ã™ãŒã€Ansible Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã€copy ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ”ãƒ¼å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°ã‚‚è¡Œã‚ã‚Œã¾ã™
                            - vagrant provision  #// Ansible Playbook ã®æ›´æ–°ã¯è¡Œã‚ã‚Œã¾ã›ã‚“
                        ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼ˆAnsible ã‚’ç›´æ¥ä½¿ç”¨ï¼‰:  #keyword: Vagrant Ansible SSH
                            ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Vagrant SSH
                            ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼ˆã‚²ã‚¹ãƒˆOS å†…ï¼‰:
                                - cd /vagrant  #// ãƒ›ã‚¹ãƒˆOSã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¨å…±æœ‰ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã€‚Vagrantfile ã® config.vm.synced_folder ã«ã‚ˆã‚‹
                                - export ANSIBLE_INVENTORY="/tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory"
                                    #// Vagrant ã® ansble_local ã‚’ä½¿ã†ã¨ãã®è¨­å®š
                                - ansible-playbook  playbook.yml  --list-tasks  #// list tasks
                                - ansible-playbook  playbook.yml  --check  --diff  -vvv  #// dry run
                                - ansible-playbook  playbook.yml  #// deploy
                        çµ‚äº†ã—ã¾ã™:  #see-above: Vagrant ãŒç®¡ç†ã—ã¦ã„ã‚‹ä»®æƒ³ãƒã‚·ãƒ³ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¾ã™
                    CentOS7 ã® VM ãŒ 2å°ã€ãã®ã†ã¡ 1å°ã« Vagrant ã® ansible_local ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸç’°å¢ƒã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™:  #keyword: Ansible multi VM example
                        #search: install Ansible project
                        ãŸã ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/1_multi_vm_ansible
            Ubuntu20.04:  #keyword: install WSL2 Ansible
                WSL2 Ubuntu ã® VM ã‚’ä½œã‚Šã¾ã™:
                    #search: WSL2 restore
                    - wsl --unregister "Ubuntu-20.04-Ansible"  #// 2å›ç›®ä»¥é™ã®ã¿
                    - wsl --import  "Ubuntu-20.04-Ansible" `
                        "${HOME}\WSL_VMs\Ubuntu-20.04-Ansible" `
                        "${HOME}\WSL_back_up\Ubuntu-20.04-1.tar"
                    - wsl -d Ubuntu-20.04-Ansible  #search: WSL2 command
                Ubuntu ã« Ansible ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    Ubuntu bash:
                        - sudo http_proxy=${http_proxy} https_proxy=${https_proxy} add-apt-repository -y  ppa:ansible/ansible
                        - sudo apt update
                        - sudo apt install -y  ansible
                        - ansible --version
                        - hostname -I  #search: WSL2 IP address
                            #// ä»¥ä¸‹ã¯ã“ã“ã§ 172.21.129.76 ã¨è¡¨ç¤ºã•ã‚ŒãŸå ´åˆ  #template: __WSL2_IPAddress__
                        - sudo nano  /etc/ansible/hosts : |
                            [servers]
                            ubuntu20_04_Ansible ansible_host=172.21.129.76

                            [all:vars]
                            ansible_python_interpreter=/usr/bin/python3
                        - ansible-inventory --list --yaml
                        #template-at(-5): __WSL2_VM_Name__ ansible_host=__WSL2_IPAddress__
                SSH ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                    SSH ã‚µãƒ¼ãƒ“ã‚¹ ã‚’èµ·å‹•ã—ã¾ã™:
                        Ubuntu bash:
                            sudo service ssh restart
                    Windows ã® SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                        Ubuntu bash:
                            mkdir -p ~/.ssh  #// æ¬¡ã® Windows ã§ã®ä½œæ¥­ã«å¿…è¦ã§ã™
                        Windows Git bash:
                            - echo  ${USERPROFILE}
                                #// /c/Users/m-toda ã¨è¡¨ç¤ºã•ã‚ŒãŸã¨ã—ã¾ã™  #template: Users/__UserName__
                            - cd  ${USERPROFILE}/vagrant/single_vm_ansible/centos7  #template: __Project__
                            - #search: WSL2 SSH client set up   #// .wsl/ubuntu20_04_Ansible ãŒä½œã‚‰ã‚Œã¾ã™  #template: __WSL2_VM_Name__
                                ãŸã ã—ã€__Project__ = c/Users/m-toda/vagrant/single_vm_ansible/centos7  #template: c/Users/__UserName__/__Project__
                    Linux ã® SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                        Ubuntu bash:
                            cp  /mnt/c/Users/m-toda/vagrant/single_vm_ansible/centos7/.wsl/ubuntu20_04_Ansible/id_rsa  ~/.ssh/id_rsa
                            chmod 600  ~/.ssh/id_rsa
                            ssh  -o 'StrictHostKeyChecking no'  user1@172.21.129.76
                            exit
                        #template-at(-2): @__WSL2_IPAddress__
                        #template-at(-5): .wsl/__WSL2_VM_Name__/
                        #template-at(-6): Users/__UserName__/__Project__
                Ansible ã‚’å®Ÿè¡Œã—ã¾ã™:
                    ãƒ›ã‚¹ãƒˆåã‚’ç·¨é›†ã—ã¾ã™:
                        playbook ã¾ãŸã¯ å¤‰æ•°ã®å€¤: |
                                hosts: ubuntu20_04_Ansible
                            #template: __WSL2_VM_Name__
                    Windows Git bash ã®å ´åˆ:
                        ./run_playbook.sh  playbook-0.yml
                    Linux bash ã®å ´åˆ:
                        - cd  /mnt/c/Users/m-toda/vagrant/single_vm_ansible/centos7  #template: Users/__UserName__/__Project__
                        - ansible-playbook  playbook-0.yml  --diff -v
                #ref: https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-20-04
                è¨­å®š: #settings:
                    __UserName__: m-toda
                    __Project__: vagrant/single_vm_ansible/centos7
                    __WSL2_IPAddress__: 172.21.129.76
                    __WSL2_VM_Name__: ubuntu20_04_Ansible  #original: ubuntu20_04_2351
            ã‚¯ãƒªãƒ¼ãƒ³ãª VM ã«æˆ»ã—ã¾ã™:  #search: vagrant clean VM  #keyword: Ansible clean VM
            å†…éƒ¨ã§ä½¿ã£ã¦ã„ã‚‹ Python:  #search: Ansible Python
        å®Ÿé¨“ç’°å¢ƒ >> ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼: #keyword: Ansible local inventory
            æ¦‚è¦: |  #// å®Ÿéš›ã®ã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å‰ã«ãƒ­ãƒ¼ã‚«ãƒ«ã® VM ã§å‹•ä½œç¢ºèªã‚’ã—ã¾ã™ã€‚
                æ¬¡ã®æ§‹æˆè¦ç´ ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç”¨ã«æ–°è¦ä½œæˆã—ã¾ã™ã€‚
                - ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«  #search: Ansible inventory file
                - group vars  #search: Ansible group_vars
            é–¢é€£:
                #search: --connection=local  ansible-playbook  #// SSH æ¥ç¶šã—ã¾ã›ã‚“
        æ§‹æˆã®è¨­è¨ˆ: #keyword: Ansible è¨­è¨ˆ
            æ—©ãå‹•ä½œç¢ºèªã—ã¾ã™:  #search: Ansible fast development
            å®Ÿé¨“ç’°å¢ƒ >> ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼:  #search: Ansible local inventory
            Web ã‚µãƒ¼ãƒ“ã‚¹: Web ã‚µãƒ¼ãƒ“ã‚¹ã‚’ import ã™ã‚‹ playbook ã«æ›¸ãã¾ã™ã€‚API ã‚µãƒ¼ãƒãƒ¼ã”ã¨  #search: ansible import_playbook
            ä½¿ã†ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢:  ãƒ­ãƒ¼ãƒ«ã«æ›¸ãã¾ã™ã€‚ nginx, MySQL, PHP ãªã©ã€‚ãƒ­ãƒ¼ãƒ«ã«æ›¸ã‹ãªãã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
                ãƒ­ãƒ¼ãƒ«ã®ã‚¿ã‚¹ã‚¯ã®ä¸€è¦§(tasks)ã¯ã€ã‚·ã‚§ãƒ« ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œé †åºã«ç›¸å½“ã—ã¾ã™
                #search: ansible role
            è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æˆ:  #search: Ansible files
            è¨­å®šå¾Œã®å†èµ·å‹•:  #search: Ansible role handlers
            Linux ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®š: ãƒ­ãƒ¼ãƒ«ã«æ›¸ãã¾ã™ã€‚ firewalld ãªã©ã€‚ãƒ­ãƒ¼ãƒ«ã«æ›¸ã‹ãªãã¦ã‚‚æ§‹ã„ã¾ã›ã‚“
            å†ªç­‰æ€§:  #// idempotentï¼ˆã‚¢ã‚¤ãƒ‡ãƒ ãƒãƒ¼ãƒ†ãƒ³ãƒˆï¼‰  #keyword: Ansible å†ªç­‰æ€§
                æ¦‚è¦:
                    å†å®Ÿè¡Œã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšåŒã˜çŠ¶æ…‹ã«ãªã‚‹ã“ã¨
                é–‹ç™ºã‚’æ—©ãã™ã‚‹ã«ã¯: å†ªç­‰æ€§ã®ç¢ºä¿ã¯ã€å…¸å‹çš„ãªå‹•ä½œãŒã§ããŸã“ã¨ã‚’ç¢ºèªã—ãŸå¾Œã§è¡Œã„ã¾ã™  #search: Ansible fast development
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¿ã‚¹ã‚¯:  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¿ã‚¹ã‚¯ã®å ´åˆ
                    - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ã¨ãã ã‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå†…éƒ¨ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ã¨ãã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã›ã‚“ã€‚
                    - Ansible ã®ã‚¿ã‚¹ã‚¯ã‚’å‰Šé™¤ã—ã¦ã‚‚ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                        absent state ã«ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: Ansible yum state
                ã‚³ãƒãƒ³ãƒ‰ ã‚¿ã‚¹ã‚¯:  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã®å ´åˆ
                    - å†ªç­‰æ€§ãŒã‚ã‚‹ã‚ˆã†ã«ã‚³ãƒãƒ³ãƒ‰ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“
                å†èµ·å‹• ã‚¿ã‚¹ã‚¯: #keyword: Ansible restart task  #// ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã™ã‚‹ã‚¿ã‚¹ã‚¯ã®å ´åˆ
                    - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«å†èµ·å‹•ãŒå¿…è¦ãªãŸã‚ã«å†èµ·å‹•ã™ã‚‹ã‚¿ã‚¹ã‚¯ã®å ´åˆã€
                        ã‚µãƒ– ãƒ—ãƒ­ã‚»ã‚¹ ãªã©ãŒçµ‚äº†ã—ã¦ã—ã¾ã‚ãªã„ã‚ˆã†ã«ã€å†ªç­‰æ€§ãŒã‚ã‚‹ã‚ˆã†ã«æ¡ä»¶ã‚’è¨­å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“
                        #search: register Ansible changed
                    - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„è¨­å®šå¤‰æ›´ãªã©ã®ã‚¿ã‚¹ã‚¯ã®ã†ã¡ã€1ã¤ã§ã‚‚å¤‰æ›´ãŒã‚ã£ãŸã‚‰å†èµ·å‹•ãŒå¿…è¦ã«ãªã‚‹å ´åˆã€
                        ãã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œçµæœã‚’ã€æ¡ä»¶åˆ¤å®šã§ä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™
                        #search: register Ansible changed
                    - åˆã‚ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã«ã—ã‹ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œãªã„ã‚¿ã‚¹ã‚¯ã¯ã€
                        ãã®ä¸­ã®ä»£è¡¨çš„ãªï¼‘ã¤ã®ã‚¿ã‚¹ã‚¯ã ã‘ register ã—ã¾ã™
                    - ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ãŸã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
            ãƒ›ã‚¹ãƒˆã®åˆ†é¡:  #keyword: Ansible host classification  #// ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
                åå‰æŒ‡å®š >> ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—:  #search: Ansible inventory format
                ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®š >> constructed:  #search: constructed
                åˆ‡ã‚Šæ›¿ãˆ >> ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«, ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:  DEV, STG, PRD, DEV-2 ãªã©ã€‚1ã¤é¸ã¶ã“ã¨ã‚„å…¨éƒ¨é¸ã¶ã“ã¨ãŒã§ãã¾ã™
                    #search: Ansible inventory path
        é–‹ç™º >> æ—©ãå‹•ä½œç¢ºèªã—ã¾ã™: #// æ–¹é‡  #keyword: Ansible fast development
            æ–¹é‡:
                - å†ªç­‰æ€§ã‚’æŒãŸã›ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ä»£ã‚ã‚Šã€VM ã‚’ã‚ã‚‹åœ°ç‚¹ã¾ã§æˆ»ã›ã‚‹ã‚ˆã†ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™
                - æ‰‹å‹•ã§å‹•ä½œç¢ºèªã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã¨åŒæ§˜ã®ã‚³ãƒãƒ³ãƒ‰ copy, shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã¾ã™
                - template ã‚‚å¾Œã§ä½œã‚Šã¾ã™
            æ‰‹æ®µ:
                Git ã§ç®¡ç†ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                    MyPrivateCode ã®å ´åˆ:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible
                    ãƒ­ãƒ¼ã‚«ãƒ« ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆ: #search: Git local
                ãƒ«ãƒ¼ãƒˆã® Playbook.yml ã«ã‚¿ã‚¹ã‚¯ã‚’æ›¸ãã¾ã™:  #search: ansible playbook  #search: ansible modules catalog
                    shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã‚ˆã†ã«æ›¸ãã¾ã™:  #search: Ansible shell
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                shell: somecommand parameters
                    è¤‡æ•°ã®ã‚µãƒ¼ãƒãƒ¼ã«åŒã˜ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã:
                        hosts ã«åˆ—æŒ™ã— inventory_hostname å¤‰æ•°ã‚’ä½¿ã„ã¾ã™  #search: Ansible hosts
                ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã—ã¾ã™: ansible-playbook ã® --step ã‚ªãƒ—ã‚·ãƒ§ãƒ³
                VM ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é©å®œå–ã‚Šã¾ã™:
            å‹•ä½œç¢ºèªå¾Œ:
                - å‹•ä½œç¢ºèªãŒã§ããŸã‚‰ã€Git ã®ã‚³ãƒŸãƒƒãƒˆã« Git ã®ã‚¿ã‚°ã‚’ã¤ã‘ã¾ã™
                - ã‚¿ã‚¹ã‚¯ã« copy, shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã‚ãªã„ã‚ˆã†ã«ã—ã¦å†ªç­‰æ€§ã‚’æŒãŸã›ã¾ã™  #search: ansible modules catalog
                - å¤‰æ•°ã®å€¤ã¯å‹•ä½œç¢ºèªã™ã‚‹ã¾ã§å‹•ä½œç¢ºèªã§ããŸå€¤ã®ã¾ã¾ã«ã—ã¦ãŠãã¾ã™
            ã‚ˆã‚Šã‚ˆãã™ã‚‹:
                - å¤‰æ•°ã®å€¤ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦å‹•ä½œç¢ºèªã—ã¾ã™
        æ—¢å­˜ã® Ansible ã‚’è§£æã™ã‚‹:
            Ansible ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™:
                $ ansible --version
                ansible 2.7.10
                    config file = /var/lib/jenkins/work/ansible.cfg
                    configured module search path = [u'/var/lib/jenkins/plugins/library']
                    ansible python module location = /var/lib/jenkins/local/python_env/lib/python2.7/site-packages/ansible
                    executable location = /var/lib/jenkins/local/python_env/bin/ansible
                    python version = 2.7.15 (default, Dec 11 2018, 15:07:33) [GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]
            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å¤‰æ›´ãŒã‚ã£ãŸã‚³ãƒ³ãƒ•ã‚£ã‚°ã‚’ç¢ºèªã—ã¾ã™:  #search: ansible.cfg
                $ ansible-config dump --only-changed
                ANSIBLE_NOCOWS(____/ansible.cfg) = True
                ANSIBLE_PIPELINING(____/ansible.cfg) = True
                ANSIBLE_SSH_ARGS(____/ansible.cfg) = -o ControlMaster=auto -o ControlPersist=900s
                CACHE_PLUGIN(____/ansible.cfg) = jsonfile
                CACHE_PLUGIN_CONNECTION(____/ansible.cfg) = ./facts_cache
                CACHE_PLUGIN_TIMEOUT(____/ansible.cfg) = 600
                DEFAULT_ACTION_PLUGIN_PATH(____/ansible.cfg) = [u'____/plugins/action']
                DEFAULT_CALLBACK_PLUGIN_PATH(____/ansible.cfg) = [u'____/plugins/callback']
                DEFAULT_FILTER_PLUGIN_PATH(____/ansible.cfg) = [u'____/plugins/filter']
                DEFAULT_FORKS(____/ansible.cfg) = 5
                DEFAULT_GATHERING(____/ansible.cfg) = smart
                DEFAULT_LOOKUP_PLUGIN_PATH(____/ansible.cfg) = [u'____/plugins/lookup']
                DEFAULT_MODULE_PATH(____/ansible.cfg) = [u'____/plugins/library']
                DEFAULT_REMOTE_USER(____/ansible.cfg) = jenkins
                DEFAULT_ROLES_PATH(____/ansible.cfg) = [u'____/roles']
                DEFAULT_STDOUT_CALLBACK(____/ansible.cfg) = custom
                DEFAULT_VARS_PLUGIN_PATH(____/ansible.cfg) = [u'____/plugins/vars']
                HOST_KEY_CHECKING(____/ansible.cfg) = False
                INVENTORY_ENABLED(____/ansible.cfg) = [u'host_list', u'script', u'yaml', u'ini', u'constructed']
                RETRY_FILES_ENABLED(____/ansible.cfg) = False
        tar.gz ã‚’å±•é–‹ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«:  #keyword: Ansible tar example
            æ¨å¥¨ >> unarchive:  #search: ansible unarchive
            #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_kafka/playbook.yml
            ã‚µãƒ³ãƒ—ãƒ«:
                -   name:  install Kafka
                    become: yes
                    shell:
                        chdir: /opt
                        cmd: tar -xzf kafka_{{ ScalaKafkaVersion }}.tgz
        ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒ›ã‚¹ãƒˆ ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯:  #search: 
        ãã®ä»–ã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ«: #ref: https://github.com/ansible/ansible-examples
    ã‚³ãƒãƒ³ãƒ‰ï¼ˆã‚·ã‚§ãƒ«ï¼‰:  #keyword: ansible command
        ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç¢ºèªæ–¹æ³•:  #keyword: Ansible version,  Ansible Python  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
            Ansible-core ã¨ Python ã¨ Jinja2:
                ã‚³ãƒãƒ³ãƒ‰:
                    - ansible --version
                    - ansible-playbook  --version
                    #// ansible ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆãªã„ã¨ãã¯ #search: Ansible ãŒä½¿ã† Python ä»®æƒ³ç’°å¢ƒã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã—ã¦ãã ã•ã„
                è¡¨ç¤ºå†…å®¹:
                    $ ansible --version
                    ansible [core 2.16.2]
                        config file = /home/user1/ansible-project/ansible.cfg
                        configured module search path = ['/home/user1/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
                        ansible python module location = /home/user1/bin/ansible-venv/lib/python3.11/site-packages/ansible
                        ansible collection location = /home/user1/.ansible/collections:/usr/share/ansible/collections
                        executable location = /home/user1/bin/ansible-venv/bin/ansible
                        python version = 3.11.7 (main, Jan 19 2024, 13:54:29) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)] (/home/user1/bin/ansible-venv/bin/python3.11)
                        jinja version = 3.1.3
                        libyaml = True
            Ansible Community Package:
                - pip show ansible
            æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³:
                Ansible-core:  #// æœ€å°é™ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
                    #ref: https://github.com/ansible/ansible/releases
                    2.16 ãƒªãƒªãƒ¼ã‚¹:
                        #ref: https://docs.ansible.com/ansible-core/devel/roadmap/ROADMAP_2_16.html
                Ansible Community Package:  #// Ansible-core + å³é¸ã•ã‚ŒãŸå¹…åºƒã„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
                    9.0 ãƒªãƒªãƒ¼ã‚¹:
                        #ref: https://docs.ansible.com/ansible/latest/roadmap/COLLECTIONS_9.html
                        #ref: https://groups.google.com/g/ansible-devel/c/TSCXj6hEPow
            ãƒ‘ã‚¹:  #search: Ansible Python path
        ansible ã‚³ãƒãƒ³ãƒ‰:  #// playbook.yml ã‚’ä½¿ã‚ãšã«ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
            å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/cli/ansible.html  #template: __DocumentVersion__
            ç–é€šç¢ºèª: #keyword: ansible ping  #// ping
                å†…å®¹: Ansible ãŒ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒ›ã‚¹ãƒˆ ã¨æ¥ç¶šã§ãã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ ICMP ping ã§ã¯ãªãã€SSH ã®æ¥ç¶šã¨ Python ã®å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã™
                ã‚³ãƒãƒ³ãƒ‰:
                    _: ansible  __HostNameOrIpAddress__  -i __HostNameOrIpAddress__,  -m ping
                    -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª
                        - æœ«å°¾ã«ã‚³ãƒ³ãƒãŒã‚ã‚‹ã¨ã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªï¼ˆãƒ›ã‚¹ãƒˆå ã¾ãŸã¯ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰ã‚’æŒ‡å®šã—ãŸã“ã¨ã«ãªã‚Šã¾ã™
                        - æœ«å°¾ã«ã‚³ãƒ³ãƒãŒãªã„ã¨ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã‚’æŒ‡å®šã—ãŸã“ã¨ã«ãªã‚Šã¾ã™
                        - ansible ã®ç¬¬1å¼•æ•°ã¨ -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã®å€¤ã¯ã€åŒã˜ã«ã—ã¦ãã ã•ã„ã€‚
                            -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ Ansible ã®ç®¡ç†å¯¾è±¡ã§ã‚ã‚‹ã¨è¨­å®šã—ã¦ã‹ã‚‰ã€ç¬¬1å¼•æ•° ã®ãƒ›ã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚
                            -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„ã¨ã€ç®¡ç†å¯¾è±¡å¤–ã§ã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
            ã‚µãƒ³ãƒ—ãƒ«:
                debug è¡¨ç¤º:  #// debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã€node1 ãƒ›ã‚¹ãƒˆãŒå‚ç…§ã§ãã‚‹ã™ã¹ã¦ã®å¤‰æ•°ã‚’è¡¨ç¤ºã—ã¾ã™:
                    ã‚µãƒ³ãƒ—ãƒ«: ansible  node1  -m debug  -a 'var=vars'  #search: ansible debug
                    æ›¸å¼:
                        - ansible __HostName__  -m __ModuleName__  -a __Parameters__  #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã«æŒ‡å®š  #search: ANSIBLE_INVENTORY
                        - ansible __HostName__  -m __ModuleName__  -a __Parameters__  -i __InventoryFile__  #search: Ansible inventory path
        ansible-playbook ã‚³ãƒãƒ³ãƒ‰:  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™  #keyword: ansible-playbook
            å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/cli/ansible-playbook.html  #template: __DocumentVersion__
            ã‚³ãƒãƒ³ãƒ‰, æ›¸å¼:
                åŸºæœ¬çš„ãªæ›¸å¼: #keyword: first ansible-playbook command
                    - ansible-playbook  __PlayBook__.yml  -i __InventoryFile__  __Options__
                    - ansible-playbook  -i __InventoryFile__  playbook.yml --diff -vvv
                Vagrant ã® ansible ç’°å¢ƒã§ã® ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:  #search: Vagrant Ansible SSH
                -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã:  #keyword: ANSIBLE_INVENTORY
                    export ANSIBLE_INVENTORY="__InventoryFile__"
                    ansible-playbook  __PlayBook__.yml  __Options__
            ã‚³ãƒãƒ³ãƒ‰, ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #glossary: ansible-playbook  #keyword: ansible-playbook options
                --check:  #search: Ansible --check
                --connection=local:  #search: ansible-playbook --connection=local
                --diff:  #search: Ansible --diff
                -e, --extra-vars:  #search: Ansible --extra-vars
                -f:  #// ä¸¦åˆ—å‡¦ç†ãƒ¬ãƒ™ãƒ«
                    - ansible-playbook  playbook.yml -f 10  #// ä¸¦åˆ—å‡¦ç†ãƒ¬ãƒ™ãƒ« 10 ã§ Playbook ãƒ•ã‚¡ã‚¤ãƒ« playbook.yml ã‚’å®Ÿè¡Œã—ã¾ã™
                        #search: Playbook ãƒ•ã‚¡ã‚¤ãƒ«
                -i:  #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã®å ´æ‰€ã‚’æŒ‡å®šã—ã¾ã™  #search: Ansible inventory file
                --flush-cache: #keyword: flush Ansible cache  #// ãƒªãƒ¢ãƒ¼ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æˆãªã©ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¾ã™  #search: Gathering Facts
                    --flush-cache ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€sudo yum clean all ã‚³ãƒãƒ³ãƒ‰ã«ç›¸å½“ã™ã‚‹å‡¦ç†ã‚’ã™ã‚‹ã‚‰ã—ã„ã€‚
                --limit:  #search: Ansible --limit  #// æŒ‡å®šã—ãŸãƒ›ã‚¹ãƒˆã¾ãŸã¯ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã ã‘å®Ÿè¡Œã—ã¾ã™
                --list-hosts:  #search: Ansible --list-hosts
                --list-tags:  #search: Ansible --list-tags
                --list-tasks:  #search: Ansible --list-tasks
                --start-at-task:  #search: Ansible --start-at-task
                --step:  #search: Ansible --step
                --syntax-check:  #search: Ansible --syntax-check
                --tag:  #search: Ansible --tag
                -v, -vv, -vvv, --verbose: #search:
            æ‰‹é †:
                ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹å ´åˆ: Vagrant ã‚’ä½¿ã†ã¨ã‚ˆã„ã§ã—ã‚‡ã†  #search: Vagrant Ansible SSH
                æ¨™æº–å‡ºåŠ›ã®å†…å®¹:  #keyword: Ansible stdout,  Ansible output  #// ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ãŒå¤‰æ›´ã‚’æ¤œå‡ºã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèªã§ãã¾ã™
                    é–¢é€£:
                        å¤‰æ•°ã®å€¤ã®è¡¨ç¤º:  #search: Ansible vars print
                        æ¨™æº–å‡ºåŠ›ã‚’å¤‰æ•°ã«:  #search: Ansible register
                    Ansible ã®æ¨™æº–å‡ºåŠ›:  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¿ã‚¹ã‚¯ã®æ¨™æº–å‡ºåŠ›ã¯éè¡¨ç¤ºãªã‚ˆã†ã§ã™
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            TASK [system-yum-repo : clean metadata] *****
                            changed: [server1]] => {"changed": true, "dest": 
                        é–¢é€£ >> ã‚¿ã‚¹ã‚¯ã®æ¨™æº–å‡ºåŠ›:  #search: Ansible task stdout
                        --verbose ã‚ªãƒ—ã‚·ãƒ§ãƒ³, -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                            - ansible-playbook  playbook.yml --verbose --check
                                #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã™ã‚‹å†…å®¹ã®è¡¨ç¤ºã‚’è©³ã—ãã—ã¾ã™
                    ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹:  #// Ansible ãŒå‘¼ã³å‡ºã™ã‚³ãƒãƒ³ãƒ‰ã®æ¨™æº–å‡ºåŠ›
                        Ansible å´ã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚Œã° stdout ã‚„ stderr ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                    ã‚¿ã‚¹ã‚¯ã®æ¨™æº–å‡ºåŠ›:  #keyword: Ansible task stdout
                        -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™:  #// ã‚¨ãƒ©ãƒ¼æ™‚ã® JSON ã®ä¸­ã«ã€æ”¹è¡Œæ–‡å­—ãŒ \n ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                            ansible-playbook  playbook.yml  -v
                            #// ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¨ãã® "stdout": ã‚„ "stderr": ã®å³ã«ã‚ã‚Šã¾ã™ã€‚æ”¹è¡Œæ–‡å­—ãŒ \n ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                            #// -v ã ã‘ã§ååˆ†ã§ã™ãŒ -vv ãªã©ã©ã®æ¯”è¼ƒã¯  #search: Ansible -vvv ã‚ªãƒ—ã‚·ãƒ§ãƒ³
                        ã¾ãŸã€ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¾ã™: |
                            failed_when: true
                            ignore_errors: true
                        æ­¢ã¾ã‚‹å ´åˆ: #keyword: Ansible ãƒ•ãƒªãƒ¼ã‚º
                            timeout ã‚’ä½¿ã†å ´åˆ:  #// å†…éƒ¨ã§å…¥åŠ›å¾…ã¡ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
                                timeout ã‚³ãƒãƒ³ãƒ‰ã‚’ shell ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ ã®ä¸­ã«æŒ‡å®šã—ã¾ã™ã€‚
                                timeout 10 __Command__
                            exit ã‚’ä½¿ã†å ´åˆ:
                                å‘¼ã³å‡ºã™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¸­ã§ echo "@@@"; exit 1 ã‚’å®Ÿè¡Œã—ã¾ã™
                            VirtualBox ã®å ´åˆ:
                                VM ã‚’å†èµ·å‹•ã—ã¾ã™
                        ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆ:
                            https_proxy ã‚„ no_proxy ç’°å¢ƒå¤‰æ•°ã‚’è¡¨ç¤ºã•ã›ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚
                            å…¨ç’°å¢ƒå¤‰æ•°ã‚’è¡¨ç¤ºã—ã¦ã‚‚ã‚ˆã„ã§ã—ã‚‡ã†  #search: printenv
                        register:  #search: Ansible register
                            -   __TaskName__:
                                register: output
                            -   debug: 'msg="${{ output }}"'
                    ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’éè¡¨ç¤ºã«ã—ã¾ã™:  #keyword: Ansible no_log,  Ansible secret password
                        tasks:
                            -   name: copy to __PathInServer__
                                copy:
                                    _____
                                no_log: true
                        #ref: https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#keep-secret-data
                        é–¢é€£: Ansible Vault 
                    è‰²ã‚’ä»˜ã‘ã¦æ¨™æº–å‡ºåŠ›ã®å†…å®¹å†…å®¹ã‚’ä¿å­˜ã—ã¾ã™:  #keyword: ansible-playbook color
                        bash: ANSIBLE_FORCE_COLOR=true  ansible-playbook  __Parameters__ | tee __LogFileName__
                        å‚è€ƒ: https://docs.ansible.com/ansible/latest/reference_appendices/config.html#ansible-force-color
                        é–¢é€£:
                            è‰²æƒ…å ±ä»˜ãã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒšã—ã¾ã™: #search: copy colored text
                    è‰²æƒ…å ±ãŒå…¥ã£ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’æ‰±ã„ã¾ã™:  #search: echo color
                    å¤§é‡ã®æ¨™æº–å‡ºåŠ›ã‚’æ‰±ã„ã¾ã™:
                        VSCode ã® Terminal ã®æœ€å¤§è¡Œæ•°ã‚’é•·ãã—ã¾ã™  #search: VSCode terminal
                    å¯¾è±¡ã® Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ã¾ã™:
                        #// ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã®æ¨™æº–å‡ºåŠ›ã«ãƒ­ãƒ¼ãƒ«åã¨ã‚¿ã‚¹ã‚¯åãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’ grep ã—ã¾ã™
                        æ¨™æº–å‡ºåŠ›ã®ã‚µãƒ³ãƒ—ãƒ«: |
                            TASK [system-yum-repo : clean metadata] *****
                            #template) TASK [__RoleName__ : __TaskName__] *****
                        Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«:
                            roles/__RoleName__/tasks/*.yml : |  #// roles ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ #search: ansible roles
                                name: __TaskName__
                ãƒã‚§ãƒƒã‚¯ã€ãƒ‡ãƒãƒƒã‚°:  #glossary: Ansible
                    --syntax-check ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// æ–‡æ³•ãƒã‚§ãƒƒã‚¯ã ã‘æ—©ãè¡Œã„ã¾ã™
                    --list-tasks:
                        ã‚µãƒ³ãƒ—ãƒ«:
                            ã‚³ãƒãƒ³ãƒ‰:
                                ansible-playbook  __PlayBook__.yml  -i __InventoryFile__  --list-tasks  --list-hosts
                            å‡ºåŠ›: |  #search: Ansible example Apache
                                playbook: playbook.yml
                                    play #1 (all): all    TAGS: []
                                        hosts: (2)
                                            server1
                                            server2
                                        tasks:
                                            install httpd     TAGS: []
                                            apache start / enable     TAGS: []
                                            copy index.html   TAGS: []
                        ã‚¿ã‚°ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¿ã‚¹ã‚¯ã®ä¸€è¦§:
                            ansible-playbook  playbook.yml  --list-tasks  --tag __TaskName__
                        ï¼‘ã¤ã®ãƒ›ã‚¹ãƒˆã®ã‚¿ã‚¹ã‚¯ä¸€è¦§: ï¼ˆä¸æ˜ã€‚å³è¨˜ã«ãªã—ï¼‰ https://docs.ansible.com/ansible/2.9_ja/cli/ansible-playbook.html  #template: __DocumentVersion__
                    --list-hosts: #// ãƒ›ã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«A:
                            ansible all  -i __InventoryFile_  --list-hosts
                        ã‚µãƒ³ãƒ—ãƒ«B:
                            #search: Ansible --list-tasks
                        ãƒ›ã‚¹ãƒˆåã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æŒ‡å®šã—ãŸå ´åˆã€å±•é–‹ã•ã‚Œã¾ã™:
                    --list-tags:
                        ã‚µãƒ³ãƒ—ãƒ«:
                            ã‚³ãƒãƒ³ãƒ‰:
                                ansible-playbook  __PlayBook__.yml  -i __InventoryFile__  --list-tags
                            å‡ºåŠ›: |  #focus: TAGS
                                playbook: playbook.yml
                                    play #1 (all): guard    TAGS: []
                                        TASK TAGS: []
                                    play #2 (all): main    TAGS: [main]   #// play ä»˜ã„ãŸã‚¿ã‚°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€play ã®ä¸­ã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
                                        TASK TAGS: [main]
                    --check ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// dry run
                        - ansible-playbook  -i __InventoryFile__  playbook.yml --diff -vvv --check
                            #// dry run. å®Ÿéš›ã«ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ãªã„ã§å®Ÿè¡Œã—ã¾ã™  #keyword: ansible check, ansible dry run
                            #// å¤‰æ›´ãŒã‚ã£ãŸã‹ã©ã†ã‹ã®çµæœã¯ãƒ­ã‚°ã«å‡ºåŠ›ã—ã¾ã™ãŒã€ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯ã—ã¾ã›ã‚“
                            #// å‚è€ƒ  #search: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç›£è¦–
                    --diff ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// --check ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ä¸€ç·’ã«æŒ‡å®šã™ã‚‹ã¨ã€è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                        #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã‚ˆã£ã¦ãƒªãƒ¢ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã©ã®ã‚ˆã†ãªå¤‰æ›´ãŒè¡Œã‚ã‚Œã‚‹ã‹ã‚‚äº‹å‰ã«ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™
                        --diff ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã®å‡ºåŠ›ä¾‹: |
                            TASK [__Role__ : __Task__] ************************************
                            ok: [server.net]

                            TASK [__Role__ : __Task__] ************************************
                            changed: [server.net]
                        --diff ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ã‚Šã®å‡ºåŠ›ä¾‹: |
                            TASK [__Role__ : __Task__] ************************************
                            ok: [server.net]

                            TASK [__Role__ : __Task__] ************************************
                            changed: [server.net]
                            --- before: /etc/example.conf
                            +++ after: /var/lib/jenkins/.ansible/tmp/ansible-local-3532rK62j6/tmpQfZr6X/example.conf.j2
                            @@ -11,7 +11,6 @@
                            -    path /var/service/*.log
                            +    path /etc/service/*.log
                        å·®åˆ†è¡¨ç¤ºãŒé•·ã™ãã‚‹ã¨ã: |  #keyword: disable Ansible diff
                            ansible-playbook ã® --diff ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã¨ãã«å·®åˆ†è¡¨ç¤ºãŒå¤šã™ãã¦çµ‚ã‚ã‚‰ãªã„ã¨ãã¯ã€
                            ãã®ã‚¿ã‚¹ã‚¯ã® diff ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ false ã¾ãŸã¯ no ã«ã—ã¾ã™ã€‚
                            -   __Module__: ...
                                diff: false
                    -vvv ã‚ªãƒ—ã‚·ãƒ§ãƒ³, -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// ã‚²ã‚¹ãƒˆOSã¨ã®æ¥ç¶šã‚³ãƒãƒ³ãƒ‰ã®è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                        #// dry run ã®ã¨ãã‚‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã™ã‚‹ã¨ãã‚‚ä½¿ãˆã¾ã™
                        #// -vvv ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã»ã†ãŒè©³ç´°ã§ã™
                        å‡ºåŠ›ã®æœ‰ç„¡: |
                            >              -v ãªã—   -v   -vv    -vvv
                            --------------------------------------------------
                            config           ãªã—   ç°¡æ˜“   ä¸­     è©³ç´°
                            æ¯”è¼ƒè¦ç´ JSON              v     v
                            æ¯”è¼ƒè¦ç´ JSON æ•´å½¢æ¸ˆã¿                   v
                            SSH ã‚³ãƒãƒ³ãƒ‰                           v
                        ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã ã‘è©³ç´°è¡¨ç¤º:
                            ã§ãã¾ã›ã‚“  #ref: https://www.reddit.com/r/ansible/comments/nq382v/how_to_display_verbose_only_for_a_particular_task/?rdt=37635
                        é–¢é€£:
                            ã‚¿ã‚¹ã‚¯ã®æ¨™æº–å‡ºåŠ›:  #search: Ansible task stdout
                å®Ÿè¡Œã—ã¾ã™ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼‰:  #search: first ansible-playbook command
                ä¸€éƒ¨ã‚’å®Ÿè¡Œã—ã¾ã™: #keyword: next ansible-playbook command
                    ï¼‘ã¤ã®ã‚¿ã‚¹ã‚¯ã ã‘å®Ÿè¡Œã—ã¾ã™:
                        æ‰‹æ®µA: --step ã¨ --start-at-task ã‚’æŒ‡å®šã—ã€å¯¾è±¡ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ï¼ˆy ã¨ç­”ãˆã¦ï¼‰ã€
                            æ¬¡ã®ã‚¿ã‚¹ã‚¯ã®é–‹å§‹å‰ã§ãƒ–ãƒ¬ãƒ¼ã‚¯ã—ãŸã‚‰ã€Ctrl-C ã§çµ‚äº†ã•ã›ã¾ã™ã€‚
                        æ‰‹æ®µB: ä¸€æ™‚çš„ãªã‚¿ã‚°ã‚’è¿½åŠ ã—ã¦ --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã¾ã™
                        å‚è€ƒ: https://stackoverflow.com/questions/23945201/how-to-run-only-one-task-in-ansible-playbook
                    æŒ‡å®šã—ãŸã‚¿ã‚¹ã‚¯ã‹ã‚‰å†é–‹ã—ã¾ã™:  #search: Ansible --start-at-task
                    æŒ‡å®šã—ãŸã‚¿ã‚¹ã‚¯ã¾ã§: | #keyword: Ansible stop  #search: ansible failed_when   #// æŒ‡å®šã—ãŸã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼åœæ­¢ã•ã›ã¾ã™
                        #snip:
                            -   name: temporary exit
                                debug: msg="temporary exit"
                                failed_when: true
                    è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™:  #search: ansible tags
                        ä¸€æ™‚çš„ãªã‚¿ã‚°ã‚’è¿½åŠ ã—ã¦ --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã¾ã™
                    --limit ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: ansible-playbook --limit  #// æŒ‡å®šã—ãŸãƒ›ã‚¹ãƒˆã¾ãŸã¯ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã ã‘å®Ÿè¡Œã—ã¾ã™
                        --limit  "__ServerNameCSV__"
                    --start-at-task ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: Ansible --start-at-task  #// æŒ‡å®šã—ãŸã‚¿ã‚¹ã‚¯ã¨ãã‚Œä»¥é™ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
                        å®Ÿè¡Œã™ã‚‹å‰:
                            ã‚¿ã‚¹ã‚¯åãŒé‡è¤‡ã—ã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                                ansible-playbook  __Playbook__.yml --list-tasks | grep "__TaskName__"
                        ã‚³ãƒãƒ³ãƒ‰: ansible-playbook  __Playbook__.yml --start-at-task  "__TaskName__"
                            #// ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚¿ã‚¹ã‚¯åã¯ã€ãƒ­ã‚°ã®ä¸‹è¨˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã™
                            #//    TASK [__TaskName__] *************************************
                            #// ã¾ãŸã¯
                            #//    TASK [__RoleName__ : __TaskName__] *************************************
                            #// ãƒ­ãƒ¼ãƒ«åã®æŒ‡å®šã¯ä¸è¦ã§ã™
                        å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_startnstep.html  #template: __DocumentVersion__
                    --step ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #keyword: Ansible --step  #// å¯¾è©±å½¢å¼ã§å®Ÿè¡Œã—ã¾ã™  #search: Ansible --start-at-task,  Ansible  -vvv
                        _: |
                            Perform task: TASK: Gathering Facts (N)o/(y)es/(c)ontinue:
                            c(continue)ã‚’é¸ã¶ã¨ã€tasks ã®æœ€å¾Œã¾ã§å®Ÿè¡Œã—ã¾ã™
                        æŒ‡å®šã—ãŸã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãŸå¾Œã§åœæ­¢ã•ã›ã‚‹:
                            ã§ãã¾ã›ã‚“ã€‚AI ã§ç¢ºèª 2024-08-28
                    --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// æŒ‡å®šã—ãŸã‚¿ã‚°ãŒä»˜ã„ãŸã‚¿ã‚¹ã‚¯ã®ã¿å®Ÿè¡Œã—ã¾ã™  #keyword: ansible tags, ansible ã‚¿ã‚°
                        #// Playbook ã«å®šç¾©ã•ã‚ŒãŸã‚¿ã‚°ã¨ã‚³ãƒãƒ³ãƒ‰ã«æŒ‡å®šã—ãŸã‚¿ã‚°ã¨ä¸€è‡´ã™ã‚‹ã‚¿ã‚¹ã‚¯ã®ã¿å®Ÿè¡Œã—ã¾ã™ã€‚ä»–ã®ã‚¿ã‚¹ã‚¯ã¯å®Ÿè¡Œã—ã¾ã›ã‚“ã€‚
                        #// --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚ --tags ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚æŒ‡å®šã—ãªã„å ´åˆã€ã™ã¹ã¦ã®ã‚¿ã‚°ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                        å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_tags.html  #template: __DocumentVersion__
                        ã‚³ãƒãƒ³ãƒ‰ã®æ›¸å¼:  #ref: https://docs.ansible.com/ansible/latest/user_guide/playbooks_tags.html#selecting-or-skipping-tags-when-you-run-a-playbook
                            å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’è¡¨ç¤ºã—ã¾ã™:
                                - ansible-playbook  playbook.yml  --list-tasks  --list-hosts  --tag try
                                    #// tasks ã«ã¯å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã ã‘è¡¨ç¤ºã•ã‚Œã¾ã™
                                    #// è¡¨ç¤ºã•ã‚Œã‚‹ TAGS: [ ] ã®ä¸­ã¯ã€ãã®ã‚¿ã‚°ã‚’æŒ‡å®šã—ãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã¾ã™
                                    #// --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãªã‹ã£ãŸã¨ãã®è¡¨ç¤ºã‹ã‚‰ã€ã‚¿ã‚°åã§æ¤œç´¢ã™ã‚‹ã¨å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãŒåˆ†ã‹ã‚Šã¾ã™
                            æŒ‡å®šã—ãŸã‚¿ã‚°ãŒä»˜ã„ãŸãƒ—ãƒ¬ã‚¤ã‚„ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™:
                                - ansible-playbook  playbook.yml  --tag try
                                - ansible-playbook  playbook.yml  --tags "try, debug"
                                - ansible-playbook  playbook.yml  --skip-tags "try, debug"
                        ãƒ—ãƒ¬ã‚¤ã‚„ã‚¿ã‚¹ã‚¯ã«ã‚¿ã‚°ã‚’ä»˜ã‘ã¾ã™:
                            ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ¬ã‚¤ tags:
                                Playbook.yml:
                                    -   name: Start NFS server
                                        tags: [start-nfs]
                                            #// ã“ã“ã«è¨­å®šã™ã‚‹ã¨ã€role ã®ä¸­ã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«è¨­å®šã—ãŸã“ã¨ã¨åŒã˜ã«ãªã‚Šã¾ã™
                                        roles: [nfs-server]
                                        hosts: elasticsearch_main
                            ã‚µãƒ³ãƒ—ãƒ« ã‚¿ã‚¹ã‚¯ tags:
                                Playbook.yml:
                                    tasks:
                                        -   debug: msg=â€{{ showmevar }}â€
                                            tags:
                                                -   try
                                                -   reboot
                                                -   set_up
                                                #// ä¸€æ™‚çš„ãªå ´åˆã€[try, reboot] ã‚ˆã‚Šä¸Šè¨˜ã®ã‚ˆã†ã«ä¸¦ã¹ãŸã»ã†ãŒåˆ‡ã‚Šè²¼ã‚Šã—ã‚„ã™ã„ã§ã™
                                                #// try ã¾ãŸã¯ reboot ã¾ãŸã¯ set_up ãŒæŒ‡å®šã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã—ã¾ã™
                            block ã®ä¸­ã« tags ã‚’æ›¸ãã‚µãƒ³ãƒ—ãƒ«:
                                Playbook.yml:
                                    tasks:
                                        -   name: block task
                                            block:
                                                -   name: temporary try
                                                    debug: msg=â€{{ showmevar }}â€
                                                    tags:
                                                        -   try
                        ã‚¿ã‚°ã®å®šç¾©:  #// tags: [__TagName__]
                            Playbook.yml ã®ã‚µãƒ³ãƒ—ãƒ«:  #// Playbook ã«æ›¸ãã¨ãã¯ tagsã€ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ tag ã¾ãŸã¯ tags
                                role ãªã—ã®å ´åˆ:
                                    tasks:
                                        -   name: exec uptime
                                            tags: [uptime]               #// tag. ã“ã‚Œã¯ YAML ã®ãƒ•ãƒ­ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™
                                            command: /usr/bin/uptime
                                            register: result
                                        -   name: exec uptime debug
                                            tags: [uptime, debug]  #// uptime ã¾ãŸã¯ debug ãŒã‚³ãƒãƒ³ãƒ‰ã® tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æŒ‡å®šã•ã‚ŒãŸã‚‰å®Ÿè¡Œã•ã‚Œã¾ã™
                                            debug: var=result
                                        -   name: exec uptime debug 2
                                            debug: msg="debug message"
                                role ã‚ã‚Šã®å ´åˆ: #focus: uptime_tag,  debug_tag
                                    #// Playbook.yml tags ãŒ role ã® tags ã«ã‚‚é©ç”¨ã•ã‚Œã¾ã™
                                    Playbook.yml:
                                        -   name: tags in role
                                            tags: [uptime_tag]
                                            roles: [role1]
                                    roles/role1/tasks/main.yml:
                                        -   name: exec uptime  #// Playbook.yml ã«ã‚ˆã‚Š tags: [uptime_tag] ã¨åŒã˜å‹•ãã«ãªã‚Šã¾ã™
                                            command: /usr/bin/uptime
                                            register: result
                                        -   name: exec uptime debug
                                            tags: [debug_tag]  #// Playbook.yml ã«ã‚ˆã‚Š [uptime_tag, debug_tag] ã¨åŒã˜å‹•ãã«ãªã‚Šã¾ã™
                                            debug: var=result
                            æ—¢å­˜ã®ã‚¿ã‚°ã®ä¸€è¦§:  #see-above: --list-tags
                        å®šç¾©æ¸ˆã¿ã®ã‚¿ã‚°ï¼ˆç‰¹åˆ¥ãªã‚¿ã‚°ï¼‰:
                            always:
                            never:  #keyword: Ansible tags never
                                é–¢é€£ï¼‰ when false ã¨ã®é•ã„  #search: Ansible when false vs tags never
                            å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_tags.html#special-tags  #template: __DocumentVersion__
                        å®Ÿè¡Œä¾‹ >> ä¸Šè¨˜ã‚µãƒ³ãƒ—ãƒ«: |  #// ansible-playbook  ____.yml  --tag __TagName__
                            $ ansible-playbook  playbook.yml --tag uptime   #// --check ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦ã‚‚å‹•ãã¾ã™ãŒè¡¨ç¤ºå†…å®¹ã¯å¤‰ã‚ã‚Šã¾ã™
                            
                            PLAY [all] ************************************************************************************************************************************************************
                            ï¼ˆä¸­ç•¥ï¼‰
                            TASK [Gathering Facts] ************************************************************************************************************************************************
                            ok: [ansibletest]
                            ï¼ˆä¸­ç•¥ï¼‰
                            TASK [exec uptime] ****************************************************************************************************************************************************
                            changed: [ansibletest]
                            ï¼ˆä¸­ç•¥ï¼‰
                            TASK [exec uptime debug] **********************************************************************************************************************************************
                            ok: [ansibletest] => {
                            ï¼ˆä¸­ç•¥ï¼‰
                            PLAY RECAP ************************************************************************************************************************************************************
                            ansibletest                : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
                        ã‚¿ã‚°ã®ç¶™æ‰¿:
                            - hosts ã¨åŒã˜ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®æ·±ã•ã« tags ã‚’æŒ‡å®šã™ã‚‹ã¨ã€åŒã˜æ·±ã•ã® tasks ã«ã‚ã‚‹å…¨ã¦ã®ã‚¿ã‚¹ã‚¯ã«
                                ã‚¿ã‚°ãŒé©ç”¨ã•ã‚Œã¾ã™
                            - ã‚µãƒ³ãƒ—ãƒ«:
                                -   hosts: all
                                    tags: [ bar ]
                                    tasks:
                                        ...  #// ã“ã“ã«ã‚ã‚‹ã‚¿ã‚¹ã‚¯ã¯ã™ã¹ã¦ã‚¿ã‚°ãŒç¶™æ‰¿ã•ã‚Œã¾ã™ï¼ˆè¨­å®šã•ã‚Œã¾ã™ï¼‰
                            - ã‚µãƒ³ãƒ—ãƒ«:
                                roles:
                                -   role: webserver
                                    tags: [ web, foo ]
                            - ã‚µãƒ³ãƒ—ãƒ«:
                                -   import_role:
                                    tags: [ web, foo ]
                            - ã‚µãƒ³ãƒ—ãƒ«:
                                -   import_tasks: foo.yml
                                    tags: [ web, foo ]
                            - https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_tags.html#tag-inheritance  #template: __DocumentVersion__
                    when:  #// æŒ‡å®šã—ãŸæ¡ä»¶ã«ã‚ˆã£ã¦ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã¾ãŸã¯ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚æ¡ä»¶åˆ†å²ã—ã¾ã™  #search: Ansible when
                    æŒ‡å®šã—ãŸãƒ­ãƒ¼ãƒ«ã®ã¿å®Ÿè¡Œã—ã¾ã™:
                        åŒã˜ã‚¿ã‚¹ã‚¯åãŒã‚ã‚‹ã¨ãã«ã€ã©ã¡ã‚‰ã®ã‚¿ã‚¹ã‚¯ã‹ã‚‰èµ·å‹•ã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™:
                            - --role ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã‚ã‚Šã¾ã›ã‚“ #ref: https://www.google.com/search?q=ansible+playbook+role+execute
                            - ä¸€æ™‚çš„ã« name ã‚’å¤‰æ›´ã—ã€ãã® name ã‚’ --start-at-task ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æŒ‡å®šã—ã¾ã™ã€‚
                        Playbook.yml ã« import_role ã™ã‚‹ã‚¿ã‚°ä»˜ãã‚¿ã‚¹ã‚¯ã‚’ä¸€æ™‚çš„ã«ä½œã‚Šã¾ã™:
                            -   hosts: __Server1__, __Server2__
                                tasks:
                                    -   name: execute role temporary task
                                        import_role:
                                            name: __RoleName__
                                        tags: [role_execute]
                        å®Ÿè¡Œä¾‹:  #// --tag role_execute
                            #bash
                            ansible-playbook  ____.yml  --diff  -v  --tag role_execute
                ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚åˆ»ã¨å‡¦ç†æ™‚é–“ã‚’è¡¨ç¤ºã—ã¾ã™: #search: profile_tasks
                æ¨©é™æ˜‡æ ¼:  #keyword: ansible-playbook become option
                    root ãƒ¦ãƒ¼ã‚¶ãƒ¼çµŒç”±ã§ admin ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹å ´åˆ:  #// user1 â†’ root â†’ admin
                        -b: æ¨©é™æ˜‡æ ¼ã—ã¾ã™ã€‚ become yes ã‚’ Playbook.yml ã«æŒ‡å®šã—ãŸå ´åˆã¨åŒã˜å‹•ä½œã§ã™
                        -u admin : Playbook.yml ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼
                        --become-user root : çµŒç”±ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼
                        --become-method su : become-user ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã«ã€su ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™
                        --key-file ____.id_rsa :  become-user ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç§˜å¯†éµã‚’æŒ‡å®šã—ã¾ã™
                        -K : å®Ÿè¡Œä¸­ã« become-user ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ã‚°ã‚¤ãƒ³ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã
                    Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã™ã‚‹å ´åˆ: #search: ansible become
        ansible-pull ã‚³ãƒãƒ³ãƒ‰:  #// git ã‹ã‚‰è¨­å®šæ‰‹é †ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™
            https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#ansible-pull  #template: __DocumentVersion__
        ansible-lint ã‚³ãƒãƒ³ãƒ‰:  #// ã‚¹ã‚¿ã‚¤ãƒ« ãƒã‚§ãƒƒã‚¯
            https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#linting-playbooks  #template: __DocumentVersion__
        ansible-doc ã‚³ãƒãƒ³ãƒ‰:
            ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ä¸€è¦§: ansible-doc -t callback -l
            ansible.builtin.default ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ansible-doc -t callback ansible.builtin.default
    æ§‹æˆ:
        ãƒ›ã‚¹ãƒˆ:  #keyword: ansible inventory file  #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«,  inventry ã§ã¯ãªã„
            æ¦‚è¦: ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®å¯¾è±¡ã¨ãªã‚‹ãƒã‚·ãƒ¼ãƒ³ï¼ˆãƒ›ã‚¹ãƒˆï¼‰ã‚’ control ãƒãƒ¼ãƒ‰ ã® ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã«æ›¸ãã¾ã™ã€‚
                ã“ã“ã§å®šç¾©ã—ãŸãƒ›ã‚¹ãƒˆåã¯ Playbook ãƒ•ã‚¡ã‚¤ãƒ« ã® hosts ã«æŒ‡å®šã§ãã¾ã™  #search: ansible hosts
            å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/intro_inventory.html  #template: __DocumentVersion__
            ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼: #keyword: Ansible inventory
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼å: #keyword: Ansible inventory name
                    -   ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã®åå‰ã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ã‚°ãƒ«ãƒ¼ãƒ—åã¨ã¯é•ã„ã¾ã™ã€‚
                        #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: inventory name
                    -   ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ã®ç¨®é¡ã‚’åˆ¤å®šã™ã‚‹ã®ã§ã¯ãªãã€group_vars ã«è¨­å®šã—ã¾ã™ã€‚
                        #search: Ansible group_vars
                å®šç¾© >> ãƒ™ã‚¹ãƒˆ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:
                    - å®Ÿéš›ã®ã‚µãƒ¼ãƒãƒ¼åã‚’ hosts ãƒ•ã‚¡ã‚¤ãƒ«ã«ã€ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ã®ãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©ã‚’ inventory.config ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†ã‘ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†
                    - inventory.config ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ä½¿ã„ã€DEV/STG/PRDã§å…±é€šã®å†…å®¹ã«ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†
                        #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã®ä¸­ã« include ã®ã‚ˆã†ãªã‚‚ã®ã‚’æ›¸ãã“ã¨ã¯ã§ãã¾ã›ã‚“
                    - ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã«ã¯ Control ãƒãƒ¼ãƒ‰ã®æ¥ç¶šå…ˆã®è¦³ç‚¹ã§ãƒ›ã‚¹ãƒˆã‚’åˆ†é¡ã—ã¾ã™ã€‚
                        è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãã‚°ãƒ«ãƒ¼ãƒ—ã®è¦³ç‚¹ã§ãƒ›ã‚¹ãƒˆã‚’åˆ†é¡ã™ã‚‹ã¨ãã¯ inventory.config ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã€ãƒ›ã‚¹ãƒˆå¤‰æ•°ã«æ›¸ãã¾ã™  #// æœªç¢ºèª
                å ´æ‰€: #keyword: Ansible inventory path  #// hosts ãƒ•ã‚¡ã‚¤ãƒ« ã¾ãŸã¯ inventory.config ãƒ•ã‚¡ã‚¤ãƒ« ã®å ´æ‰€
                    ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã« -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã„ã¨ã:
                        ANSIBLE_INVENTORY ç’°å¢ƒå¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã: ãã®å¤‰æ•°ã®å€¤
                        ANSIBLE_INVENTORY ç’°å¢ƒå¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨ã: /etc/ansible/hosts
                    ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã« -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã¨ã: __iOptionValue__/hosts
                    -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã¯è¤‡æ•°æŒ‡å®šã§ãã¾ã™:
                    ansible_local ã‚’ä½¿ã†ã¨ã:  #search: vagrant_ansible_local_inventory
                hosts ãƒ•ã‚¡ã‚¤ãƒ«: #keyword: Ansible hosts file  #// __Stage__/hosts  #// ãƒ•ã‚¡ã‚¤ãƒ«åã¯ä»»æ„ã§ã™
                    ansible_local ã‚’ä½¿ã†ã¨ã: #keyword: vagrant_ansible_local_inventory
                        å ´æ‰€: (@control) /tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory
                        ä½¿ã„æ–¹: #search: Vagrant Ansible SSH
                        å†…å®¹ã®ã‚µãƒ³ãƒ—ãƒ«: |  #search: Ansible ini inventory
                            # Generated by Vagrant

                            __HostNameInAnsible__ ansible_connection=local
                    å†…å®¹ã®æ›¸å¼:  #search: Ansible ini inventory
                inventory.config ãƒ•ã‚¡ã‚¤ãƒ«:  #// __Stage__/inventory.config  #// ãƒ•ã‚¡ã‚¤ãƒ«åã¯ä»»æ„ã§ã™
                    æ›¸å¼:  #search: Ansible YAML inventory
                    #search: Ansible inventory plug in
                ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ -i ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æŒ‡å®šã—ãŸå ´åˆ:
                    æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã®å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆhosts ã¨ ____.config ã®ä¸¡æ–¹ï¼‰ãŒæœ‰åŠ¹ã§ã™ã€‚
                    ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ ãƒªãƒ³ã‚¯ ã‚’ä½¿ã£ã¦å…±é€šåŒ–ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
                vagrant_ansible_inventory:  #search: Vagrant Ansible inventory file
                    .vagrant/provisioners/ansible/inventory/vagrant_ansible_inventory
            æ›¸å¼ï¼ˆåŸºæœ¬ã®ã¿ï¼‰: #keyword: Ansible inventory format
                å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/intro_inventory.html#inventoryformat  #template: __DocumentVersion__
                INIå½¢å¼: #keyword: Ansible ini inventory
                    hosts ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«: |  #// [ ] å†…ã¯ã‚°ãƒ«ãƒ¼ãƒ—åã€ãã‚Œä»¥å¤–ã¯ãƒ›ã‚¹ãƒˆå
                        mail.example.com           #keyword: Ansible inventory host   #focus: mail.example.com

                        [webservers]               #keyword: Ansible inventory group  #focus: webservers
                        foo.example.com            #keyword: Ansible inventory host   #focus: foo.example.com
                        bar.example.com

                        [dbservers]
                        one.example.com
                        two.example.com
                        three.example.com http_port=80  #search: Ansible host variable
                    ã‚¹ãƒ¼ãƒ‘ãƒ¼ ã‚°ãƒ«ãƒ¼ãƒ— ã®ã‚µãƒ³ãƒ—ãƒ«: | #keyword: Ansible super host group  #// ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚°ãƒ«ãƒ¼ãƒ—
                        ...ï¼ˆä¸Šè¨˜ã¨åŒã˜å†…å®¹ï¼‰

                        [__SuperGroup__:children]
                        webservers
                        dbservers
                    ç‰¹æ®Šè¨˜å·ä¸€è¦§:
                        ([ ]): ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—  #search: ansible host group
                        ([__SuperGroup__:children]): ã‚¹ãƒ¼ãƒ‘ãƒ¼ ã‚°ãƒ«ãƒ¼ãƒ—  #search: Ansible super host group
                        ([__Group__:vars]):  ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°  #search: Ansible inventory group_vars
                YAMLå½¢å¼: #keyword: Ansible YAML inventory
                    inventory.config ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«: |  #// children ã®ç›´ä¸‹ã¯ã‚°ãƒ«ãƒ¼ãƒ—åã€hosts ã®ç›´ä¸‹ã¯ãƒ›ã‚¹ãƒˆå
                        all:
                        hosts:
                            mail.example.com:
                        children:
                            webservers:
                                hosts:
                                    foo.example.com:
                                    bar.example.com:
                            dbservers:
                                hosts:
                                    one.example.com:
                                    two.example.com:
                                    three.example.com:
                                        http_port: 80  #search: Ansible host variable
                            east:
                                hosts:
                                    foo.example.com:
                                    one.example.com:
                                    two.example.com:
                            west:
                                hosts:
                                    bar.example.com:
                                    three.example.com:
                            product:
                                hosts:
                                    foo.example.com:
                                    one.example.com:
                                    two.example.com:
                            test:
                                hosts:
                                    bar.example.com:
                                    three.example.com:
                Vagrant ãŒç”Ÿæˆã™ã‚‹å†…å®¹:  #search: Vagrant Ansible inventory file
            ãƒ›ã‚¹ãƒˆå˜ä½“:  #keyword: ansible inventory host
                ãƒ›ã‚¹ãƒˆå: #keyword: Ansible host name  #search: ansible hosts
                    ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã‚’æ›¸ãã¾ã™:  #search: ansible inventory file
                    ãƒ›ã‚¹ãƒˆã®å‚ç…§:
                        è‡ªãƒ›ã‚¹ãƒˆ:  #search: inventory_hostname
                        ä»–ãƒ›ã‚¹ãƒˆ:  #search: Ansible host names
                    ãƒ›ã‚¹ãƒˆåã®ä¸€éƒ¨:  #search: Ansible constructed inventory
                ãƒãƒ¼ãƒˆç•ªå·: #keyword: Ansible port number  #// ãŸã¨ãˆã° localhost:2348
                    INIå½¢å¼: localhost ansible_port=2348
                    YAMLå½¢å¼: |
                        all:
                            hosts:
                                localhost:
                                    ansible_port: 2348
                ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼‰:  #// IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¯¾ã™ã‚‹åˆ¥å
                    #// IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã—ã‹ãªã„ã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦ Ansible é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™
                    æ›¸å¼: __AliasName__  ansible_port=____  ansible_host=___.___.___.___
                    ã‚µãƒ³ãƒ—ãƒ«: jumper ansible_port=5555 ansible_host=192.0.2.50
                ãƒ›ã‚¹ãƒˆå¤‰æ•°: #keyword: Ansible host variable  #// ãƒ›ã‚¹ãƒˆãŒå®šç¾©ã™ã‚‹(?)å¤‰æ•°
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/intro_inventory.html#host-variables  #template: __DocumentVersion__
                    ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« å†…ã«æ›¸ãå ´åˆ:
                        ã‚µãƒ³ãƒ—ãƒ«: |  #// ãƒ›ã‚¹ãƒˆåã®å³ã«æ›¸ã __Name__=__Value__ ãŒãƒ›ã‚¹ãƒˆå¤‰æ•°ã®å®šç¾©ã§ã™
                            [atlanta]
                            host1 http_port=80 maxRequestsPerChild=808
                            host2 http_port=303 maxRequestsPerChild=909
                        ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                            - atlanta ã¯ã‚°ãƒ«ãƒ¼ãƒ—å
                            - http_port=80 ã¯ã€host1 ã® http_port å¤‰æ•°ã®å®šç¾©ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ 80
                            - maxRequestsPerChild=808 ã¯ã€http_port=80 ã¨åŒæ§˜
                    ãƒ›ã‚¹ãƒˆå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ›¸ãå ´åˆ:
                        æ›¸å¼1:
                            /etc/ansible/host_vars/__HostName__ :  #// ã¾ãŸã¯
                            __CurrentFolder__/host_vars/__HostName__ : |
                                ---
                                __Name__: __Value__
                                __Name__: __Value__
                        æ›¸å¼1ã®èª¬æ˜:
                            __HostName__ ã«ã¯ hosts ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒ›ã‚¹ãƒˆåã‚’æŒ‡å®šã—ã¾ã™  #search: ansible inventory file
                        æ›¸å¼2:  #// å€¤ãŒå¤§ãã„ã¨ãã«ä¾¿åˆ©ã§ã™
                            /etc/ansible/host_vars/__HostName__/__VariableName__ :  #// ã¾ãŸã¯
                            __CurrentFolder__/host_vars/__HostName__/__VariableName__ : |
                                __Value__
                    ãƒãƒ¼ãƒˆç•ªå·ã‚„æ¥ç¶šå¤‰æ•°ã‚‚ãƒ›ã‚¹ãƒˆå¤‰æ•°ã«ãªã‚‹ã‚‰ã—ã„(?):
                    é–¢é€£:  #search: Ansible constructed inventory
                ãƒ›ã‚¹ãƒˆã®åˆ†é¡:  #search: Ansible host classification  #// ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
            ã‚°ãƒ«ãƒ¼ãƒ—, (ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—):  #keyword: ansible inventory group,  ansible host group
                ã‚°ãƒ«ãƒ¼ãƒ—ã®å®šç¾©:
                    ãƒ›ã‚¹ãƒˆã‚’åˆ†é¡ã—ã¾ã™:  #search: Ansible host classification  #// ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
                    ã‚°ãƒ«ãƒ¼ãƒ—ã®å®šç¾©ã‚’æ›¸ãã¾ã™:  #search: Ansible inventory format
                    æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—: #keyword: Ansible multi group  #// ãã‚Œãã‚Œã®ãƒ›ã‚¹ãƒˆã¯è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚°ãƒ«ãƒ¼ãƒ—ã®å®šç¾©ã¯æ‰€å±ã™ã‚‹ãƒ›ã‚¹ãƒˆåã‹ã‚‰æƒ³åƒã§ãã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«: |  #search: Ansible inventory group_vars
                            [webservers]
                            one.example.com

                            [east]
                            one.example.com
                        ãƒ›ã‚¹ãƒˆåã®ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®š:  #search: Ansible host pattern
                    ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°:  #search: Ansible inventory group_vars example  #// ã‚°ãƒ«ãƒ¼ãƒ—ã®å®šç¾©ã¯ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å€¤ã‹ã‚‰æƒ³åƒã§ãã¾ã™
                ã‚°ãƒ«ãƒ¼ãƒ—å: #keyword: Ansible group name  #// all, __GroupName__, ungrouped, ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ã¾ãŸã¯ ã‚¹ãƒ¼ãƒ‘ãƒ¼ ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—
                    â—æ³¨æ„: ã‚°ãƒ«ãƒ¼ãƒ—åã¯ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã®åå‰ï¼ˆãƒ‘ã‚¹ï¼‰ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
                    å®šç¾©:  #// ã‚°ãƒ«ãƒ¼ãƒ—ã®åå‰ã®å®šç¾©
                        å®šç¾©æ¸ˆã¿:  #// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ä¿‚ãªãå®šç¾©æ¸ˆã¿ã®ã‚°ãƒ«ãƒ¼ãƒ—å
                            all: å…¨ã¦ã®ãƒ›ã‚¹ãƒˆ  #// å®šç¾©æ¸ˆã¿
                            ungrouped: ã©ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚‚æ‰€å±ã—ã¦ã„ãªã„ãƒ›ã‚¹ãƒˆ  #// å®šç¾©æ¸ˆã¿
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©:  #// Ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®šç¾©ã—ã¦ã„ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—å
                            ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« å†…:  #// hosts ãƒ•ã‚¡ã‚¤ãƒ«ã® [ ] ã§å®šç¾©ã—ãŸã‚°ãƒ«ãƒ¼ãƒ—  #see-above: hosts ãƒ•ã‚¡ã‚¤ãƒ«
                                #// ä¸‹è¨˜ [webservers] ãªã©
                    ãƒ›ã‚¹ãƒˆãŒæ‰€å±ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—åä¸€è¦§:  #search: Ansible multi group
                    ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰:
                        å½¹å‰²: webservers, dbservers
                        åœ°åŸŸ: east, west
                        ã‚¹ãƒ†ãƒ¼ã‚¸: product, test
                ãƒ›ã‚¹ãƒˆã®å‚ç…§: #keyword: Ansible host names  #// ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã™ã‚‹ãƒ›ã‚¹ãƒˆã€å˜ä½“ã€ç¯„å›²æŒ‡å®šã€ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ç›¸å½“
                    ãƒ›ã‚¹ãƒˆå:  #search: Ansible host name
                    ã‚°ãƒ«ãƒ¼ãƒ—ã®å€¤:  #// ãƒ›ã‚¹ãƒˆåã®é…åˆ—
                        groups.__GroupName__: "[u'node1', u'node2', u'node3']"
                        groups.__GroupName__[0]: node1
                        groups.__GroupName__ | join(','): node1,node2,node3
                    ãƒ›ã‚¹ãƒˆåã®ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®š: #keyword: Ansible host pattern,  Ansible host wildcard  #ref: https://docs.ansible.com/ansible/latest/inventory_guide/intro_patterns.html#common-patterns
                        ç¯„å›²ã§æŒ‡å®šã™ã‚‹å ´åˆ:  #// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ä¸è¦ã§ã™
                            - www[01:50].example.com  #// www01.example.com ï½ www50.example.com
                            - db-[a:f].example.com  #// db-a.example.com ï½ db-f.example.com
                        æ­£è¦è¡¨ç¾ã‚„æ¥é ­è¾ãªã©ã§æŒ‡å®šã™ã‚‹å ´åˆ:
                            #search: Ansible constructed inventory
                        ç¢ºèªæ–¹æ³•: | #keyword: Ansible evaluated host names  #// ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å±•é–‹ã—ã¾ã™ã€‚constructed ã«ã‚ˆã‚‹å±•é–‹ã‚‚ã—ã¾ã™
                            ansible -i __InventoryFilePath__ __GroupName__ --list-hosts
                                #// SSH ãŒä½¿ãˆãªã„ç’°å¢ƒã§ã‚‚å®Ÿè¡Œã§ãã¾ã™
                ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°, å…¨ãƒ›ã‚¹ãƒˆã®å¤‰æ•°: #keyword: Ansible group_vars,  Ansible group variables  #// ãƒ›ã‚¹ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—ã§å…±é€šã®å€¤ã‚’æŒã¤å¤‰æ•°
                    å‚è€ƒ:  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/intro_inventory.html#group-variables
                    å®šç¾©:
                        group_vars ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã® YAML ã«æ›¸ãå ´åˆ: #keyword: Ansible group_vars YAML  #// æ›¸å¼ã¯ãƒ›ã‚¹ãƒˆå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ã§ã™  #see-above: ãƒ›ã‚¹ãƒˆå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«
                            ï¼ˆä¸‹è¨˜ __GroupName__ï¼‰: #keyword: Ansible group_vars group name  #// ã‚°ãƒ«ãƒ¼ãƒ—åã¯ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ãƒ›ã‚¹ãƒˆåã‹ã‚‰æ±ºã¾ã‚Šã¾ã™
                                #search: Ansible group name
                                #search: Ansible multi group
                                #search: Ansible inventory group_vars example
                                all, __GroupName__, ungrouped, ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ã¾ãŸã¯ ã‚¹ãƒ¼ãƒ‘ãƒ¼ ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—  #search: Ansible group name
                            YAML ã®å ´åˆ:  #// ï¼‘ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ï¼‘ã¤ä»¥ä¸Šã®å¤‰æ•°å®šç¾©ã‚’ã™ã‚‹å ´åˆ
                                å ´æ‰€:
                                    core version 2.16:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹  #ref: https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html#organizing-host-and-group-variables >> searching paths relative to the inventory file or the playbook file
                                        - __PlaybookFolder__/group_vars/__GroupName__/___.yml  #search: Ansible group_vars group name
                                        - __PlaybookFolder__/group_vars/all/___.yml
                                        - __InventoryFileFolder__/group_vars/__GroupName__/___.yml  #// æœªç¢ºèª  #search: Ansible group_vars group name
                                        - __InventoryFileFolder__/group_vars/all/___.yml  #// æœªç¢ºèª
                                    core version 2.9:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹   #// é•ã†ã‹ã‚‚ï¼Ÿ
                                        - __CurrentFolder__/group_vars/__GroupName__/___.yml   #// é•ã†ã‹ã‚‚ï¼Ÿ
                                        - __CurrentFolder__/group_vars/all/___.yml            #keyword: Ansible group_vars/all.yml  #ref: https://qiita.com/tentom/items/9816a5c07f013b84a6ce
                                        - /etc/ansible/group_vars/__GroupName__/___.yml   #// é•ã†ã‹ã‚‚ï¼Ÿ
                                        - /etc/ansible/group_vars/all/___.yml
                                å†…å®¹: | #keyword: Ansible group_vars YAML example
                                    __Name__: __Value__
                                    __Name__: __Value__
                            å€¤ã ã‘ã®å ´åˆ:  #// ï¼‘ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ï¼‘ã¤ã®å¤‰æ•°å®šç¾©ã‚’ã™ã‚‹å ´åˆ
                                å ´æ‰€:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                                    - __CurrentFolder__/group_vars/__GroupName__/__VariableName__  #search: Ansible group_vars group name
                                    - __CurrentFolder__/group_vars/all/__VariableName__
                                    - /etc/ansible/group_vars/__GroupName__/__VariableName__  #search: Ansible group_vars group name
                                    - /etc/ansible/group_vars/all/__VariableName__
                                å†…å®¹: |
                                    __Value__
                        ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« å†…ã«æ›¸ãå ´åˆ: #keyword: Ansible inventory group_vars
                            ã‚µãƒ³ãƒ—ãƒ«: |  #// :vars ã¯ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å®šç¾©ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™
                                [atlanta:vars]
                                ntp_server=ntp.atlanta.example.com
                                proxy=proxy.atlanta.example.com
                            ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                                - atlanta ã¯ã‚°ãƒ«ãƒ¼ãƒ—åã§ã™
                                - ntp_server, proxy ã¯å¤‰æ•°åã§ã™
                            è¦ªã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°:  #search: Ansible inventory group_vars example
                                ã‚µãƒ³ãƒ—ãƒ«: |  #// :children ã¯å­ã‚°ãƒ«ãƒ¼ãƒ—ã§ã‚ã‚‹ã“ã¨ã‚’ã¨ç¤ºã—ã¾ã™ã€‚ä¸‹è¨˜ã€Œã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜ã€ã‚’å‚ç…§
                                    [atlanta]
                                    host1    #// ãƒ›ã‚¹ãƒˆ host1 ã«å¯¾ã—ã¦ Ansible ãŒå‡¦ç†ã™ã‚‹ã¨ãã¯ã€some_server å¤‰æ•°ã¯ southeast:vars ã€Œãªã©ã€ã«å®šç¾©ã•ã‚Œã¾ã™
                                    host2

                                    [raleigh]
                                    host2
                                    host3

                                    [southeast:children]
                                    atlanta    #// atlanta ã‚°ãƒ«ãƒ¼ãƒ—ã®è¦ªã¯ >> southeast ã‚°ãƒ«ãƒ¼ãƒ— ã«ãªã‚Šã¾ã™
                                    raleigh

                                    [southeast:vars]
                                    some_server=foo.southeast.example.com
                                    halon_system_timeout=30
                                    self_destruct_countdown=60
                                    escape_pods=2
                                ä¸Šè¨˜ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜: #keyword: Ansible inventory group_vars example
                                    ãƒ›ã‚¹ãƒˆã‹ã‚‰èª¿ã¹ã‚‹å ´åˆ:  #focus: host1, atlanta, southeast, vars, some_server
                                        - ãƒ›ã‚¹ãƒˆãŒç•°ãªã‚Œã°å¤‰æ•°ã®å€¤ãŒç•°ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
                                        - ãƒ›ã‚¹ãƒˆ host1 ã«å¯¾ã—ã¦ Ansible ãŒå‡¦ç†ã™ã‚‹ã¨ãã® some_server å¤‰æ•°ã®å€¤ã¯ southeast:vars ã€Œãªã©ã€ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹å€¤ã«ãªã‚Šã¾ã™
                                        - southeast ã¯ host1 ãŒæ‰€å±ã™ã‚‹è¤‡æ•°ã‚°ãƒ«ãƒ¼ãƒ—ã®ã†ã¡ã®ï¼‘ã¤ã§ã™ã€‚host1 ã¯ atlanta ã¨ southeast ã«æ‰€å±ã—ã¦ã„ã¾ã™  #search:  Ansible multi group
                                        - ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å®šç¾©ã¯ YAML ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™  #search: Ansible group_vars YAML
                                    ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰èª¿ã¹ã‚‹å ´åˆ:  #focus: southeast
                                        - southeast ã¯ã€atlanta ã‚°ãƒ«ãƒ¼ãƒ—ã¨ raleigh ã‚°ãƒ«ãƒ¼ãƒ—ã®è¦ªã‚°ãƒ«ãƒ¼ãƒ—ã§ã™
                                        - some_server ãªã© southeast:vars ã§å®šç¾©ã—ãŸå¤‰æ•°ã¯ã€host1, host2, host3 ã«é©ç”¨ã•ã‚Œã¾ã™
                                        - å­ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã™ã‚‹ãƒ›ã‚¹ãƒˆã«ã‚‚é©ç”¨ã•ã‚Œã¾ã™
                                        - ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å®šç¾©ã¯ YAML ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™  #search: Ansible group_vars YAML
                    å‚ç…§:
                        group_vars ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã§å®šç¾©ã—ãŸå¤‰æ•°ã®å€¤:  #search: Ansible group_vars YAML
                            '{{ __Name__ }}'
                        groups: #keyword: Ansible groups  #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ã®ã‚°ãƒ«ãƒ¼ãƒ—ã®å€¤ã‚’å‚ç…§ã—ã¾ã™
                            groups['__Name__']  #search: Ansible group_vars YAML example
                    å„ªå…ˆåº¦: å­ãŒå„ªå…ˆã§ã™ãŒã€å¤‰æ›´ã‚‚ã§ãã¾ã™ https://docs.ansible.com/ansible/2.9_ja/user_guide/intro_inventory.html#how-we-merge
                when: |  #search: Ansible when  #// ç‰¹å®šã®ã‚°ãƒ«ãƒ¼ãƒ—ã ã‘ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ
                    when: "'new_location' in group_names"
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(Ansible ã‚°ãƒ«ãƒ¼ãƒ—): #keyword: ansible inventory group trouble
                    undefined ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°å:  #keyword: undefined Ansible group_vars
                        å¯¾å‡¦A:
                            all ã«å®šç¾©ã‚’ç§»å‹•ã—ã¦ã¿ã¾ã™:
                                __CurrentFolder__/group_vars/all/___.yml 
                        å¯¾å‡¦B:
                            ansible.cfg ã® vars_plugins_enabled ã‚’è¨­å®šã—ã¾ã™:
                                vars_plugins_enabled = host_group_vars,__CustomVers__
                                #search: enable Ansible vars plug in
                        å¯¾å‡¦C:
                            __GroupName__ ãŒä½•ã«ãªã‚‹ã‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ç¢ºèªã—ã¾ã™:
                                - ãƒ›ã‚¹ãƒˆå  #search: Ansible playbook.yml hosts
                                - ã‚°ãƒ«ãƒ¼ãƒ—å  #search: Ansible group name
                        å¯¾å‡¦D:
                            varsï¼ˆã™ã¹ã¦ï¼‰ã§ã¯ãªã 1ã¤ã ã‘å‚ç…§ã—ã¾ã™
                    ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å€¤ãŒé•ã†:
                        ãƒ›ã‚¹ãƒˆåã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                            Ansible ãŒå‡¦ç†ã—ã¦ã„ã‚‹ãƒ›ã‚¹ãƒˆåã‚’ãƒ¡ãƒ¢ã—ã¾ã™
                        ã‚°ãƒ«ãƒ¼ãƒ—åã‚’ä¸€è¦§ã—ã¾ã™:
                            å¯¾è±¡ãƒ›ã‚¹ãƒˆãŒæ‰€å±ã—ã¦ã„ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸€è¦§ã—ã¾ã™  #search: Ansible inventory group_vars example
                                #// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼åã¨ã‚°ãƒ«ãƒ¼ãƒ—åã¯ç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™  #search: Ansible group name
                        å¤‰æ•°å®šç¾©ã‚’æ¤œç´¢ã—ã¾ã™:
                            å¤‰æ•°åã¨ã‚³ãƒ­ãƒ³ã§å…¨æ–‡æ¤œç´¢ã—ã¦ã€è¦‹ã¤ã‹ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚„å†…å®¹ã‹ã‚‰ã€æ‰€å±ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆè¤‡æ•°ï¼‰ã«ãƒãƒƒãƒã™ã‚‹ã‚‚ã®ã‚’æ¢ã—ã¾ã™
            control ãƒãƒ¼ãƒ‰: #keyword: ansible control node  #// Ansible ã‚’å®Ÿè¡Œã™ã‚‹ãƒã‚·ãƒ¼ãƒ³ã€‚SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
                control ãƒãƒ¼ãƒ‰ã§å®Ÿè¡Œã™ã‚‹å ´åˆ:  #search: ansible delegate_to
            --connection=local ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #keyword: ansible-playbook --connection=local
                SSH æ¥ç¶šã‚’è¡Œã„ã¾ã›ã‚“ã€‚
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã‚„ playbook.yaml ã® hosts ã®è¨­å®šã«ã‹ã‹ã‚ã‚‰ãšã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚’å¯¾è±¡ãƒ›ã‚¹ãƒˆã¨ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚
                hosts ã« localhost ãŒè¨­å®šã—ã¦ã‚ã£ã¦ã‚‚ --connection=local ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã‚’æŒ‡å®šã—ãªã„ã¨ SSH æ¥ç¶šã‚’è©¦ã¿ã¾ã™ã€‚
            Vagrant ãŒç”Ÿæˆã™ã‚‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«: #keyword: Vagrant Ansible inventory file
                å‚è€ƒ: https://www.vagrantup.com/docs/provisioning/ansible_intro
                è‡ªå‹•ç”Ÿæˆ >> ansibl_locale provisioner ã‚’ä½¿ã£ãŸã¨ãã«è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«:
                    /tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory: | #// ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³å†…ã«è‡ªå‹•çš„ã«ä½œã‚‰ã‚Œã¾ã™ã€‚ tmp ã®ä¸­ãªã®ã§ç„¡ããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
                        # Generated by Vagrant
                        __HostName__ ansible_connection=local
                    __HostName__: config.vm.define ã®ç¬¬1å¼•æ•°ã€‚æŒ‡å®šã—ã¦ã„ãªã‘ã‚Œã° default
                è‡ªå‹•ç”Ÿæˆ >> ansible provisioner ã‚’ä½¿ã£ãŸã¨ãã«è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«:
                    .vagrant/provisioners/ansible/inventory/vagrant_ansible_inventory: | #// ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³å†…ã«è‡ªå‹•çš„ã«ä½œã‚‰ã‚Œã¾ã™
                        # Generated by Vagrant
                        default ansible_ssh_host=127.0.0.1 ansible_ssh_port=2200 ansible_ssh_user='vagrant' ansible_ssh_private_key_file='/home/.../.vagrant/machines/default/virtualbox/private_key'
                    #// ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ ã«æ¥ç¶šã™ã‚‹ãŸã‚ã® SSH ã«é–¢ã™ã‚‹æƒ…å ±ãŒã‚ã‚Šã¾ã™ã€‚
                å†…å®¹:
                    ã‚µãƒ³ãƒ—ãƒ«: ä¸Šè¨˜
                    æ›¸å¼:  #search: Ansible inventory format
                ãƒ›ã‚¹ãƒˆå¤‰æ•° >> ãƒ›ã‚¹ãƒˆå¤‰æ•°ã‚’ä½¿ã£ã¦ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ç”Ÿæˆã—ã¾ã™:
                    ã‚µãƒ³ãƒ—ãƒ« __Project__/Vagrantfile : |
                        Vagrant.configure("2") do |config|
                        config.vm.provision "ansible" do |ansible|
                            ansible.host_vars = {
                                "host1" => {"http_port" => 80,
                                            "maxRequestsPerChild" => 808},
                                "host2" => {"http_port" => 303,
                                            "maxRequestsPerChild" => 909}
                            }
                    ç”Ÿæˆã•ã‚Œã‚‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«: |
                        # Generated by Vagrant
                        host1 ansible_ssh_host=... http_port=80 maxRequestsPerChild=808
                        host2 ansible_ssh_host=... http_port=303 maxRequestsPerChild=909
                ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•° >> ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã‚’ä½¿ã£ã¦ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ç”Ÿæˆã—ã¾ã™:
                    ã‚µãƒ³ãƒ—ãƒ« __Project__/Vagrantfile : |
                        Vagrant.configure("2") do |config|
                        config.vm.provision "ansible" do |ansible|
                            ansible.groups = {
                                "group1" => ["machine1"],
                                "group2" => ["machine2"],
                                "group3" => ["machine[1:2]"],
                                "group4" => ["other_node-[a:d]"], # silly group definition
                                "all_groups:children" => ["group1", "group2"],
                                "group1:vars" => {"variable1" => 9,
                                                "variable2" => "example"}
                            }
                    ç”Ÿæˆã•ã‚Œã‚‹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«: |
                        # Generated by Vagrant

                        machine1 ansible_ssh_host=127.0.0.1 ansible_ssh_port=2200 ansible_ssh_user='vagrant' ansible_ssh_private_key_file='/home/.../.vagrant/machines/machine1/virtualbox/private_key'
                        machine2 ansible_ssh_host=127.0.0.1 ansible_ssh_port=2222 ansible_ssh_user='vagrant' ansible_ssh_private_key_file='/home/.../.vagrant/machines/machine2/virtualbox/private_key'

                        [group1]
                        machine1

                        [group2]
                        machine2

                        [group3]
                        machine[1:2]

                        [group4]
                        other_node-[a:d]

                        [all_groups:children]
                        group1
                        group2

                        [group1:vars]
                        variable1=9
                        variable2=example
                    ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹è¨­å®šãŒã‚ã‚‹ãƒã‚·ãƒ¼ãƒ³ã«é–¢ã™ã‚‹æƒ…å ±ã¯ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“:
                    ãƒ›ã‚¹ãƒˆç¯„å›²ãƒ‘ã‚¿ãƒ¼ãƒ³(æ•°å€¤ãŠã‚ˆã³ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®ç¯„å›²)ã‚‚ä½¿ãˆã¾ã™:
                é™çš„ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œã£ãŸ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ä½¿ã†å ´åˆ:
                    å‚è€ƒ: https://www.vagrantup.com/docs/provisioning/ansible_intro#static-inventory
                    ã‚µãƒ³ãƒ—ãƒ« Vagrantfile:
                        node.vm.provision :ansible_local do |ansible|
                            ansible.inventory_path = '/home/vagrant/ansible/inventories/hosts'
            ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #search: Ansible inventory plug in
        ãƒ—ãƒ¬ã‚¤:  #keyword: Ansible play
            æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ—ãƒ¬ã‚¤:  #search: ansible playbook
                -   hosts: node1
                    tasks:
                        -   name: dummy  #search: ansible tasks, ansible module
                            debug:
                                msg: Ansible ready
            Playbook ãƒ•ã‚¡ã‚¤ãƒ«(*.yml):  #search: ansible playbook
            å®Ÿè¡Œãƒ»éå®Ÿè¡Œã‚’ tag ã§æŒ‡å®šã§ãã€å¤‰æ•°å®šç¾©ãŒ vars.yml ã«ã‚ã‚Šã€ãƒ­ãƒ¼ãƒªãƒ³ã‚°å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ¬ã‚¤:  #focus: tags, vars_files, serial
                -   name: dummy print    #// --list-tasks ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                    tags: [dummy]  #// --tag, --tags ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œãƒ»éå®Ÿè¡Œã‚’æŒ‡å®šã§ãã¾ã™ #search: Ansible tags
                    hosts: node1
                    serial: 1   #// ãƒ­ãƒ¼ãƒªãƒ³ã‚°å®Ÿè¡Œ
                    vars_files: vars.yml
                    tasks:
                        -   name: dummy  #search: ansible tasks, ansible module
                            debug:
                                msg: Ansible ready
            ãƒ­ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ¬ã‚¤:  #focus: roles
                -   name: Start NFS server
                    tags: [start-nfs]
                    hosts: node1
                    roles: [nfs-server]  #search: ansible roles
            ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚åˆ»ã¨å‡¦ç†æ™‚é–“ã‚’è¡¨ç¤ºã—ã¾ã™: #search: profile_tasks
        ã‚¿ã‚¹ã‚¯:  #keyword: Ansible tasks
            ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å ´æ‰€:  #keyword: Ansible tasks YAML
                #focus: __ModuleName__
                ____.yml#tasks: |   #search: ansible tasks in Playbook.yaml
                    -   hosts: __ServerName__
                        tasks:
                        -   name: ____
                        -   __ModuleName__: ____
                roles/__RoleName__/tasks/main.yml: |  #search: ansible tasks in role folder
                    -   name: ____
                        __ModuleName__: ____
                    -   name: ____
                        __ModuleName__: ____
            é–¢é€£ >> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: #search: Ansible ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ä¸€è¦§: #search: Ansible list tasks
            ãƒ•ã‚¡ã‚¤ãƒ« >> tasks in Playbook.yaml:  #search: ansible tasks in Playbook.yaml
            ã‚¿ã‚¹ã‚¯ã‚’éšå±¤åŒ–ã—ã¾ã™:  #search: ansible block
            å¿…ãšå®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯: #keyword: Ansible must task  #// ã©ã® playbook ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã‚ã‚‹ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
                ã§ãã¾ã›ã‚“ã€‚
                pre_tasks ã¾ãŸã¯ post_tasks ã‚’ä½¿ã£ã¦ã‚‚ã€ãã‚ŒãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã‚„ãƒ­ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: must task
            ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚åˆ»ã¨å‡¦ç†æ™‚é–“ã‚’è¡¨ç¤ºã—ã¾ã™: #search: profile_tasks
        ãƒ­ãƒ¼ãƒ«:  #search: Ansible roles
        å¤‰æ•°:  #keyword: Ansible vars, Ansible variables
            å®šç¾©:  #keyword: Ansible vars define  #// å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                åŸºæœ¬:
                    ____.yml#vars:                         â‡’ #search: ansible vars in Playbook.yml
                    roles/__RoleName__/vars/main.yml:      â‡’ #search: ansible vars in role folder
                    roles/__RoleName__/defaults/main.yml:
                        å‚è€ƒ: â‡’ #serach: ansible default vars in role folder
                        ã‚µãƒ³ãƒ—ãƒ«:
                            __Key1__: __Value___
                            __Key2__: __Value___
                Playbook.yml:  #// Playbook ã«å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ›ã‚¹ãƒˆã”ã¨ã«å€¤ã‚’å¤‰ãˆã‚‹å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                    vars:  #search: ansible vars in Playbook.yml
                    tasks.vars:  #search: Ansible tasks.vars
                    vars_files:  #// å¤‰æ•°å®šç¾©ã®ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™  #search: Ansible vars_files in Playbook.yml
                    include_vars:  #// å¤‰æ•°å®šç¾©ã®ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™  #search: Ansible include_vars in Playbook.yml
                    import_playbook ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼:
                        ã‚µãƒ³ãƒ—ãƒ«:
                            (playbook1.yml):
                                - import_playbook: ./playbook2.yml version=1.2  #// å¤‰æ•°ã®å‰ã«ç©ºç™½æ–‡å­—ã‚’ï¼’ã¤å…¥ã‚Œã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«åã®æœ«å°¾ã«ç©ºç™½ãŒä»˜ã„ã¦ã—ã¾ã„ã¾ã™
                            (playbook2.yml):
                                -   hosts: all
                                    tasks:
                                        - #
                                            name: print message
                                            debug:
                                                msg: "version = {{ version }}"  #// version å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™
                            #// å…¬å¼ã®èª¬æ˜ã¯ãªã„ãŒå‹•ä½œç¢ºèªæ¸ˆã¿ 2021-09
                å®šç¾©å ´æ‰€:  #// Playbook.yml ä»¥å¤–ã€vars ãƒ•ã‚¡ã‚¤ãƒ«ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã€å®Ÿè¡Œçµæœ
                    ãƒ•ã‚¡ã‚¤ãƒ«:  #keyword: ansible vars files  #// ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPlaybook ä»¥å¤–ï¼‰ã§å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                        roles/__RoleName__/vars/*.yml: #keyword: ansible vars in role folder  #// ãƒ­ãƒ¼ãƒ«ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã«å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™  #serach: ansible roles
                            ãƒ­ãƒ¼ãƒ«ã§ä½¿ã†å…¨ã¦ã®å¤‰æ•°: #keyword: Ansible all role vars
                                #// ãƒ­ãƒ¼ãƒ«ã§ä½¿ã†å¤‰æ•°ã‚’ã™ã¹ã¦ã“ã“ã§å®šç¾©ã™ã‚‹ã“ã¨ã¯ã€å…±æœ‰ã™ã‚‹ãƒ­ãƒ¼ãƒ«ã§ role/__Service__/defaults ã«ä¸€è¦§ã™ã‚‹ã‚ˆã†ã«å¤‰æ•°å®šç¾©ã™ã‚‹ã¨ãã ã‘åŠ¹æœãŒã‚ã‚Šã¾ã™
                                #// ãã†ã§ãªã‘ã‚Œã° Playbook.yml ã§å®šç¾©ã™ã‚‹ã®ãŒåŸºæœ¬ã§ã™ã€‚ãã‚‚ãã‚‚å¤‰æ•°ã«ã—ãªã„ã¨ã„ã†é¸æŠè‚¢ã‚‚ã‚ã‚Šã¾ã™ã€‚
                            role vars ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’ä¸Šæ›¸ãã—ã¾ã™:
                                åŸºæœ¬ã‚±ãƒ¼ã‚¹:
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/1st/README.yaml
                                åŒã˜å¤‰æ•°åã§é•ã† role ã®å ´åˆ:
                                    vars/main.yml ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ã¯ import_role ã”ã¨ã« vars ã®å†…å®¹ã§ä¸Šæ›¸ãã•ã‚Œã¾ã™
                                    defaults/main.yml ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ã¨å‹•ããŒç•°ãªã‚Šã¾ã™
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/2_same_name/README.yaml
                                ãƒã‚¹ãƒˆã—ãŸå¤‰æ•°ã®å ´åˆ:
                                    å¤‰æ•°ã«å­ã®å¤‰æ•°ã‚’å®šç¾©ã—ãŸå ´åˆã€è¦ªã®å¤‰æ•°ã‚’ä¸Šæ›¸ãã™ã‚‹ã¨å­ã®å¤‰æ•°ã‚‚ç½®ãæ›ã‚ã‚Šã¾ã™ã€‚ãƒãƒ¼ã‚¸ã—ã¾ã›ã‚“
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/3_nested/README.yaml
                                è¤‡æ•°ã®ãƒ­ãƒ¼ãƒ«ã§å¤‰æ•°ã®å€¤ã‚’åŒã˜ã«ã—ã¾ã™:  #keyword: Ansible shared vars
                                    è¤‡æ•°ã®ãƒ­ãƒ¼ãƒ«ã§å…±æœ‰ã™ã‚‹å¤‰æ•°ã®å€¤ã¯ã€group_vars/all.yml ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’ import_role ã® vars ã«æŒ‡å®šã—ã¾ã™
                                    role ã® vars ã§åŒã˜åå‰ã®å¤‰æ•°ã‚’å®šç¾©ã—ã¦ã‚‚ã€ç•°ãªã‚‹å¤‰æ•°ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/4_share/README.yaml
                                include_vars ã§ã¾ã¨ã‚ã¦å¤‰æ›´ã—ã¾ã™:
                                    include_vars ã‚ˆã‚Šä¸Šã® import_role ã¨ä¸‹ã® import_role ã§ä½¿ã‚ã‚Œã‚‹å¤‰æ•°ã®å€¤ãŒå¤‰ã‚ã‚Šã¾ã™
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/5_include_vars/README.yaml
                        roles/__RoleName__/defaults/*.yml: #keyword: ansible default vars in role folder  #// ãƒ­ãƒ¼ãƒ«ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™  #serach: ansible roles
                            role defaults ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’ä¸Šæ›¸ãã—ã¾ã™:
                                åŸºæœ¬ã‚±ãƒ¼ã‚¹:
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/defaults/1st/README.yaml
                                åŒã˜å¤‰æ•°åã§é•ã† role ã®å ´åˆ:
                                    defaults/main.yml ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ã¯ tasks ã”ã¨ã«ï¼ˆä¸­ã®åˆ¥ã® import_role ã§ã‚‚ï¼‰vars ã®å†…å®¹ã§ä¸Šæ›¸ãã•ã‚Œã¾ã™
                                    vars/main.yml ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ã¨å‹•ããŒç•°ãªã‚Šã¾ã™
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/defaults/2_same_name/README.yaml
                        group_vars/_____: ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã€å…¨ãƒ›ã‚¹ãƒˆã®å¤‰æ•°  #search: Ansible group_vars YAML
                        ansible.cfg:
                            vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #// ç§˜å¯†ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã©ã«ä½¿ãˆã¾ã™  #see-below: vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
                        /vars/external_vars.yml: |
                            ---
                            # in the above example, this would be vars/external_vars.yml
                            somevar: somevalue
                            password: magic
                        ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã«æŒ‡å®šã—ãŸå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«(*.yml, *.json):
                            ansible-playbook  __Playbook__.yml --extra-vars "@/vars/external_vars.yml"
                    ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³:  #// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                        --extra-vars ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: Ansible --extra-vars  #// çŸ­ã„åå‰ã¯ -e
                            key-value æ§‹æ–‡åŸ‹ã‚è¾¼ã¿ï¼ˆæ–‡å­—åˆ—å‹ã®å€¤ã®ã¿ï¼‰:
                                è¤‡æ•°æŒ‡å®š:
                                    ansible-playbook  __Playbook__.yml  --extra-vars "version=1.23.45 other_variable=foo"
                                ãƒã‚¹ãƒˆã—ãŸå¤‰æ•°:  #// ãƒ”ãƒªã‚ªãƒ‰ã§åŒºåˆ‡ã‚Šã¾ã™
                                    ansible-playbook  __Playbook__.yml  --extra-vars "my_variable.level1.level2=æ–°ã—ã„å€¤"
                            JSON åŸ‹ã‚è¾¼ã¿:
                                è¤‡æ•°æŒ‡å®š:
                                    ansible-playbook  __Playbook__.yml  --extra-vars '{"version":"1.23.45","other_variable":"foo"}'
                                ãƒã‚¹ãƒˆã—ãŸå¤‰æ•°: |
                                    ansible-playbook playbook.yml  --extra-vars '{"my_variable": {"level1": {"level2": "æ–°ã—ã„å€¤"}}}'
                            å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«: #see-above: --extra-vars "@/vars/external_vars.yml"
                            å€¤ã®ä¸Šæ›¸ã: vars.yml ã®å®šç¾©å†…å®¹ã‚ˆã‚Š --extra-vars ã®å®šç¾©å†…å®¹ãŒå„ªå…ˆã•ã‚Œã¾ã™
                    å®Ÿè¡Œçµæœ:  #search: ansible register  #// ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã‚’å¤‰æ•°ã«ä»£å…¥ã—ã¾ã™
                        å‚è€ƒ: #ref https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#registered-variables  #template: __DocumentVersion__
                        ã‚µãƒ³ãƒ—ãƒ«:
                            tasks:
                                -   shell: __Command__
                                    register: __VariableName__  #// result ã«çµ±ä¸€ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
                                    ignore_errors: __TrueOrFalse__

                                -   shell: __Command__  #// when ã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ãã ã‘å®Ÿè¡Œã—ã¾ã™
                                    when: __VariableName__.rc == 5  #search: ansible when
                        stdout ã‚’å‚ç…§ã§ãã¾ã™:
                            ç™»éŒ²å¤‰æ•°: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_conditionals.html#id7  #template: __DocumentVersion__
                    è‡ªå‹•å®šç¾©:  #search: ansible automatic defined variables
                    å®šç¾©ã®å„ªå…ˆåº¦:  #search: ansible vars priority
                å®šç¾©å ´æ‰€ã‚’è¦‹ã¤ã‘ã¾ã™:
                    å¤‰æ•°åã§æ¤œç´¢ã™ã‚‹å ´åˆ:
                        ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: " __VariableName__:"  #// å¤‰æ•°åã®å³ã«ã‚³ãƒ­ãƒ³ã‚’ä»˜ã‘ã€ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒæ¤œç´¢ã‚’ã—ã¾ã™
                        ãƒ‘ã‚¹ã®çµã‚Šè¾¼ã¿:  #search: VSCode search
                            - "*.yml"
                            - "roles/__RoleName__"
                    å€¤ã§æ¤œç´¢ã™ã‚‹å ´åˆ:
                        å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¦ã‹ã‚‰ã€ãã®å€¤ã§å…¨æ–‡æ¤œç´¢ã—ã¾ã™:  #see-below: å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™
                    ãƒ­ãƒ¼ãƒ«ã«è¨­å®šãŒå¿…è¦ãªå¤‰æ•°ã®ä»•æ§˜:
                        roles/__RoleName__/defaults/main.yml
                è‡ªå‹•çš„ã«å®šç¾©ã•ã‚Œã‚‹å¤‰æ•°: #keyword: ansible automatic defined variables
                    ä¸»ãªå®šç¾©æ¸ˆã¿å¤‰æ•°:
                        - vars  #// ã™ã¹ã¦
                        - ansible_facts,  ansible_____  #search: ansible facts
                        - hostvars,  groups,  group_names,  inventory_hostname  #search: ansible magic vars
                        - item  #search: ansible loop,  ansible with_items
                        - ãã®ä»–:
                            #ref: https://docs.ansible.com/ansible/2.9_ja/reference_appendices/special_variables.html  #template: __DocumentVersion__
                            #search: ansible vars define
                    ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆFactsï¼‰:  #keyword: ansible facts,  service_facts  Gathering Facts
                        å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#fact  #template: __DocumentVersion__
                        ä¾‹:
                            è¡¨ç¤ºã•ã‚Œã‚‹å¤‰æ•°å: [ ansible_env, ansible_eth1, ansible_os_family ]
                                #// å®šç¾©å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã®å¤‰æ•°åã¯ ansible_ ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™
                            å‚ç…§ã™ã‚‹ã¨ãã®å¤‰æ•°å: [ ansible_facts.env, ansible_facts.eth1, ansible_facts.os_family ]
                                #// å‚ç…§ã™ã‚‹ã¨ãã®å¤‰æ•°åã¯ã€ansible_facts ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã€æ¥é ­è¾ ansible_ ã‚’å‰Šé™¤ã—ã¦æŒ‡å®šã—ã¾ã™
                        å€¤ã‚’è¡¨ç¤ºã—ã¾ã™:
                            __Playbook__.yml:
                                -   name: Get service_facts (unformatted)
                                    service_facts:
                                    register: result
                                -   name: Show service_facts (formatted)
                                    debug: var=result.ansible_facts
                            ã‚³ãƒãƒ³ãƒ‰:
                                ansible hostname -m setup
                        ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:  #keyword: ansible_facts services
                            ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:  #keyword: Ansible systemctl status
                                tasks/__Playbook__.yml:
                                    -   name: Make sure that a service is running
                                        service_facts:
                                        register: result
                                        failed_when: result.ansible_facts.services['__ServiceName__'].state != 'running'
                                            #// __ServiceName__ ã®æœ«å°¾ã® .service ã¯çœç•¥ã§ãã¾ã›ã‚“
                                            #search: systemctl service name
                        ãƒ•ã‚¡ã‚¯ãƒˆã‚’ä½¿ã‚ãªã„ã¨ãã«é«˜é€ŸåŒ–ã™ã‚‹ã¨ã:
                            __Playbook__.yml:
                                - gather_facts: no
                        ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¯ãƒˆ (facts.d):  #// ãƒ•ã‚¡ã‚¯ãƒˆã‚’è¿½åŠ ã—ã¾ã™
                            #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#facts-d  #template: __DocumentVersion__
                        Ansible ãƒãƒ¼ã‚¸ãƒ§ãƒ³:
                        ãƒ•ã‚¡ã‚¯ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥:
                    ãƒã‚¸ãƒƒã‚¯å¤‰æ•°:  #keyword: ansible magic vars,  ansible hostvars  group_names
                        å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#magic-variables-and-hostvars  #template: __DocumentVersion__
                        ä¸€è¦§: #ref: https://docs.ansible.com/ansible/2.9_ja/reference_appendices/special_variables.html  #template: __DocumentVersion__
                        inventory_hostname: #keyword:
                            - hosts ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ›¸ã„ã¦ã‚ã‚‹ãƒ›ã‚¹ãƒˆå  #search: ansible hosts
                            - ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã«æ›¸ã„ã¦ã‚ã‚‹ãƒ›ã‚¹ãƒˆå  #search: Ansible inventory
                        inventory_hostname_short:
                        hostvars:  #// IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©  #keyword: ansible hostvars
                            æ›¸å¼: hostvars['test.example.com'].ansible_facts.____
                            IP ã‚¢ãƒ‰ãƒ¬ã‚¹:
                                å¤‰æ•°:
                                    - hostvars[inventory_hostname].ansible_all_ipv4_addresses
                                    - hostvars[inventory_hostname].ansible_default_ipv4.address
                                    - hostvars[inventory_hostname].ansible_eth1.ipv4.address
                                    - hostvars[inventory_hostname].ansible_facts.all_ipv4_addresses
                                    #// æ³¨æ„â— ç’°å¢ƒã«ã‚ˆã£ã¦ã¯å–ã‚Œãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™
                                    #ref: https://stackoverflow.com/questions/25410656/ansible-ip-address-variable-host-part
                                å¤‰æ•°ã«è¨­å®šã—ãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£ã—ã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                                    -   hosts: all
                                        tasks:
                                            -   name: Check IP address
                                                debug: var=hostvars[inventory_hostname].ansible_all_ipv4_addresses
                                                failed_when: g_host[inventory_hostname].ipv4.address != hostvars[inventory_hostname].ansible_all_ipv4_addresses[1]
                                        any_errors_fatal: true
                            å€¤ã‚’è¡¨ç¤ºã—ã¾ã™:
                                #// æ³¨æ„: å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è†¨å¤§ã§ã™
                                tasks/__Playbook__.yml:
                                    -   name: Show hostvars
                                        debug: var=hostvars[inventory_hostname]
                                    -   name: Show hostvars
                                        debug: var=hostvars['node1']
                        group_names: |
                            {% if 'webserver' in group_names %}
                                # some part of a configuration file that only applies to webservers
                            {% endif %}
                    æ¥ç¶šå¤‰æ•°:
                        å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/reference_appendices/special_variables.html#connection-variables  #template: __DocumentVersion__
                        ansible_host: ãƒ›ã‚¹ãƒˆåã€‚IPã‚¢ãƒ‰ãƒ¬ã‚¹ãªã—
                    ä¸æ˜:
                        ansible___NetworkDeviceName__:  #keyword: ansible_eth0.ipv4.address
                            ipv4.address: IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚ãŸã ã—æœ€åˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã¿ã€‚nmcli.ipv4 ãŒ "CIDR1, CIDR2" ã®ã¨ãã¯ CIDR1 ã®ã¿
                                è¨­å®šä¾‹  ansible_eth1.ipv4.address
                ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœ:  #search: Ansible register
                ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹:  #search: Ansible register cat
                æ¡ä»¶åˆ¥: #keyword: Ansible vars condition,  Ansible derived attribute  #// ã‚¹ãƒ†ãƒ¼ã‚¸ãªã©ã®æ¡ä»¶ã«ã‚ˆã£ã¦å¤‰æ•°ã®å®šç¾©ã‚’å¤‰ãˆã¾ã™ã€‚æ´¾ç”Ÿå±æ€§
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:  #// ã‚¹ãƒ†ãƒ¼ã‚¸ã”ã¨ã«å®šç¾©ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’åˆ†ã‘ã¾ã™
                        - group_vars/__Stage__/____.yml
                        - group_vars/all/____.yml
                    roles/vars/__Stage__.yml:  #keyword: roles/vars/__Stage__.yml  #// roles/vars ã« dev.yml ãªã©ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã”ã¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹å ´åˆ
                        ç·¨é›†å‰:  #focus: vars
                            playbook.yml: |
                                -   hosts: _____
                                    roles:
                                        __Role__
                            roles/__Role__/vars/main.yml: |
                                var1: ____
                                var2: ____
                        ç·¨é›†å¾Œ:  #focus: vars, dev
                            playbook.yml: |
                                -   hosts: _____
                                    tasks:
                                        -   name: Merges dev specific role variables
                                            include_vars:
                                                file: "roles/__Role__/vars/{{ inventory_env }}.yml"
                                            when: inventory_env == 'dev'

                                        -   name: Uses the variables in a role
                                            include_role:
                                                name: __Role__
                            roles/__Role__/vars/main.yml: |
                                var1: ____
                                var2: ____
                            roles/__Role__/vars/dev.yml: |
                                var3: ____
                                var4: ____
                    ä¸‰é …æ¼”ç®—å­:  #focus: environment  #// æ¡ä»¶å¼ã‚„ true/false ã‹ã‚‰æ´¾ç”Ÿå±æ€§ã‚’å®šç¾©ã—ã¾ã™
                        "{{ 'prod-db.example.com' if environment == 'production' else 'dev-db.example.com' }}"
                    è¾æ›¸: |  #focus: environment  #// è¾æ›¸ã®ã‚­ãƒ¼ã‹ã‚‰æ´¾ç”Ÿå±æ€§ã‚’å®šç¾©ã—ã¾ã™
                        vars:
                            environment: staging
                            max_connections: "{{ connection_limits[environment] }}"
                            connection_limits:
                                production: 100
                                staging: 50
                                development: 20
                    combine: #keyword: Ansible vars combine  #// è¾æ›¸ã‚’ãƒãƒ¼ã‚¸ã™ã‚‹å ´åˆã€‚ ã‚¹ãƒ†ãƒ¼ã‚¸ãªã©ã®æ¡ä»¶ã«ã‚ˆã£ã¦è¾æ›¸å¤‰æ•°ã®å®šç¾©ã‚’å¤‰ãˆã¾ã™
                        ç·¨é›†å‰:  #focus: example_dictionary
                            playbook.yml: |
                                -   hosts: _____
                                    roles:
                                        __Role__
                                    vars:
                                        example_dictionary:  #// ãƒ­ãƒ¼ãƒ«å†…ã§å‚ç…§ã•ã‚Œã¾ã™
                                            key1: ____
                                            key2: ____
                        ç·¨é›†å¾Œ:  #focus: example_dictionary
                            playbook.yml: |
                                -   hosts: _____
                                    tasks:
                                        -   name: Merges dev specific variables
                                            set_fact:
                                                example_dictionary: "{{ example_dictionary | combine(example_dictionary_dev) }}"
                                            when: inventory_env == 'dev'

                                        -   name: Uses the variables in a role
                                            include_role:
                                                name: __Role__
                                    vars:
                                        example_dictionary:  #// ãƒ­ãƒ¼ãƒ«å†…ã§å‚ç…§ã•ã‚Œã¾ã™
                                            key1: ____
                                            key2: ____
                                        example_dictionary_dev:  #// inventory_env == 'dev' ã®å ´åˆã€ãƒ­ãƒ¼ãƒ«å†…ã§å‚ç…§ã•ã‚Œã¾ã™
                                            key3: ____
                                            key4: ____
                    ï¼ˆé–¢é€£ï¼‰:  #search: Ansible conditions
                è¾æ›¸:  #keyword: define Ansible dictionary variable  #// è¾æ›¸ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã—ã¾ã™
                    object.property:  #// object.property å½¢å¼ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å®šç¾©ã®æ›¸ãæ–¹
                        æ´¾ç”Ÿå±æ€§ >> åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©: #focus: playbook-vars.yml,  current,  property_1,  version_number
                            #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/variable_exapmle/include/playbook.ymlï¼ƒobject - vars_files
                            playbook.yml:
                                hosts: ____
                                vars:
                                    version_number: "{{ g_version }}"
                                vars_files: [playbook-vars.yml]
                                tasks:
                                    -   name: object - with parameter
                                        debug: 'msg="current.property_1: {{ current.property_1 }}"'  #// = Value_5_0
                            playbook-vars.yml:
                                current: "{{ versions[version_number] }}"
                                versions:
                                    v5_0:
                                        property_1: Value_5_0
                                    v4_0:
                                        property_1: Value_4_0
                        æ´¾ç”Ÿå±æ€§ >> ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§å®šç¾©:  #focus: current,  property_1,  version_number
                            #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/variable_exapmle/in_one_file/playbook.yml#object - with parameter
                            hosts: ____
                            tasks:
                                -   name: object - with parameter
                                    debug:
                                        msg: "current.property_1: {{ current.property_1 }}"  #// = Value_5_0
                            vars:
                                version_number: v5_0  #// or v4_0
                                current: "{{ versions[version_number] }}"
                                versions:
                                    v5_0:
                                        property_1: Value_5_0
                                    v4_0:
                                        property_1: Value_4_0
                        è¾æ›¸ã‚’ä½¿ã‚ãªã„å ´åˆ: #focus: current,  v5_0
                            tasks:
                                -   name: object - simple
                                    debug:
                                        msg: "current.property_1: {{ current.property_1 }}"  #// = Value_5_0
                            vars:
                                current: "{{ v5_0 }}"  #// v4_0 ã«ç·¨é›†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€å¤–éƒ¨ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ãªã©ï¼‰ã‹ã‚‰åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“
                                v5_0:
                                    property_1: Value_5_0
                                v4_0:
                                    property_1: Value_4_0
                    dictionary[parameterVariable]:  #// æ™®é€šã«æ›¸ãã¨ dictionary[parameterVariable] å½¢å¼ã§ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“
                        ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/variable_exapmle/in_one_file/playbook.yml#dictionary_1[parameter_1]
                        ã‚µãƒ³ãƒ—ãƒ«: #focus: dictionary_1, Value_1_1
                            vars:
                                dictionary_1:
                                    attribute_1: Value_1_1
                                variable_2: "{{ dictionary_1[parameter_1] }}"  #// = Value_1_1
                                parameter_1: attribute_1
                    è¾æ›¸ã‚’æ¸¡ã™å ´åˆ:  #search: Ansible dictionary environment in server
                ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°:  #search: Ansible group_vars
                ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°:  #keyword: Ansible global variable  #// ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                    group_vars/all.yml ã‚’ä½¿ã†å ´åˆ:  #search: Ansible group_vars/all.yml
                        - Playbook ã”ã¨ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«
                    vars_files: Playbook ã® hosts ã”ã¨  #search: Ansible vars_files
                    ãƒ›ã‚¹ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—ã«å¯¾ã™ã‚‹å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹å ´åˆ:  #search: Ansible group_vars
            å‚ç…§:  #keyword: Ansible vars refer  #// å¤‰æ•°ã‚’å‚ç…§ã—ã¾ã™
                æ›¸å¼:  #// Ansible ã¯å†…éƒ¨ã§ Jinja2 ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ«ãƒ¼ãƒ—ã‚‚ä½¿ãˆã¾ã™  #search: Jinja2 template
                    - "{{ __Name__ }}"  #// å¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                    - "{{ __Name__ | default('__Value__') }}"  #// å¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨ãã«ä½¿ã†å€¤
                    - "{{ __Object__.__Attribute1__.__Attribute2__ | default('') }}"  #// __Attribute1__ ã‚„ __Attribute2__ ãŒç„¡ãã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã›ã‚“
                        #keyword: Ansible no attribute,  Ansible 'dict object' has no attribute property default
                    - sencion: "{{ __Name__ | default(omit) }}"  #// å¤‰æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨ãã¯ section ã‚’ç„¡ãã—ã¾ã™
                        #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#omitting-undefined-variables  #template: __DocumentVersion__
                    #// ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªãƒ¼ã‚„ã‚¢ãƒ¬ã‚¤ã«ã¤ã„ã¦ã¯ #search: Ansible dictionary, Ansible array
                    #search: Jinja2 template
                    #search: Ansible filter
                è¡¨ç¤º: #keyword: Ansible vars print  #// å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™
                    Playbook.yml, tasks/___.yml å†…: |  #// æ¨å¥¨  #search: ansible debug
                        -   name: show variable value
                            hosts: localhost
                            tasks:
                                -   name: debug print in _tmp.yml
                                    debug: 'msg="{{ vars }}"'
                    ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™:  #// å…¨éƒ¨ã¯å«ã¾ã‚Œã¾ã›ã‚“
                        ansible -i __InventoryFile__  -m debug -a "var=vars" all
                            #// Playbook.yml ã®æŒ‡å®šã¯ä¸è¦ã§ã™
                ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå ´æ‰€:  #// å‚ç…§ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå ´æ‰€
                    Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã—ã¾ã™:
                        tasks:
                            -   name: create a virtual host file for {{ vhost }}  #// å‚ç…§
                                template:
                                src: somefile.j2
                                dest: /etc/httpd/conf.d/{{ vhost }}  #// å‚ç…§
                        vars:
                            vhost: host1  #// å®šç¾©
                    å¤‰æ•°å®šç¾©ã«å‚ç…§ã‚’å«ã‚ã¾ã™:
                        vars:
                            all: "[{{ main }}, node2, node3]"
                    template ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã—ã¾ã™:
                        template ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã§ãã¾ã™  #see-below: ansible_template
                    ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã‹ã‚‰å‚ç…§ã—ã¾ã™:
                        groups:
                            groups.__GroupName__  #// ãƒ›ã‚¹ãƒˆå
                        å‚è€ƒ:
                            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã®ãƒ›ã‚¹ãƒˆå:  #search: inventory_hostname
                            #ref: https://docs.ansible.com/ansible/latest/user_guide/playbooks_vars_facts.html#information-about-ansible-magic-variables
                            #ref: https://docs.ansible.com/ansible/latest/reference_appendices/special_variables.html
                å€¤: #keyword: Ansible vars value
                    vars:  å…¨éƒ¨  #search: ansible automatic defined variables
                    å®šç¾©ã—ãŸå€¤:  #search: Ansible vars define
                    ç’°å¢ƒå¤‰æ•°:  #keyword: Ansible environment variable in host OS  #// ãƒ›ã‚¹ãƒˆOSã®ç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ã—ã¾ã™
                        æ›¸å¼ã‚µãƒ³ãƒ—ãƒ«:
                            line: '{{ lookup("env", "HTTP_PROXY") }}'
                        ç’°å¢ƒå¤‰æ•°ã‚’å¼•ãç¶™ãã¾ã™: |  #focus: env  #// Ansible ãŒ root ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã«ãªã£ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ã€Ansible ã® CLI ã®ç’°å¢ƒå¤‰æ•°ã‚’å¼•ãç¶™ãè¨­å®šã®ã‚µãƒ³ãƒ—ãƒ«
                            -   name: yum makecache and check network to repository
                                command: 'sudo yum makecache  --disablerepo="*"  --enablerepo="{{ service_name }}-common"'
                                become: yes
                                become_user: root
                                environment:
                                    no_proxy: '{{ lookup("env", "no_proxy") }}'
                        #// ãƒ›ã‚¹ãƒˆOS ãŒ Windows ã®ã¨ãã¯ã€ç’°å¢ƒå¤‰æ•°åã®å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ã¾ã›ã‚“ã€‚ä¸Šè¨˜ HTTP_PROXY ã¯ http_proxy ã§ã‚‚åŒã˜
                    ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹:
                        control ãƒãƒ¼ãƒ‰ å†…:  #search: Ansible lookup plug in type
                        target ãƒãƒ¼ãƒ‰ å†…:  #search: ansible register cat
                    ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœ:  #search: ansible register
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° >> undefined:
                    group_vars:  #search: undefined Ansible group_vars
            å‹: #keyword: Ansible vars type  #// å¤‰æ•°ã®å‹
                ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªãƒ¼ï¼ˆï½å‹å¤‰æ•°ï¼‰:  #keyword: Ansible dictionary
                    å®šç¾©:
                        vars:
                            __DictionaryName__:
                                __Field1__: __Value1__
                                __Field2__: __Value2__
                    å‚ç…§:
                        - __DictionaryName__.__Field__  #// Python ã§äºˆç´„ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¯ä½¿ãˆã¾ã›ã‚“
                        - __DictionaryName__['__Field__']
                        - __DictionaryName__[__VariableName__]
                    ãƒ«ãƒ¼ãƒ—ã§ä½¿ã†ã¨ã:  #search: ansible loop
                ã‚¢ãƒ¬ã‚¤ï¼ˆï½å‹å¤‰æ•°ï¼‰:  #keyword: Ansible array
                    å‚ç…§:
                        - __ArrayName__[__Index__]
                    çµåˆ:  #keyword: Ansible join, Ansible array join merge
                        åŸºæœ¬: "{{ ['a', 'b'] + ['c'] }}"  #// "{{ ['a', 'b', 'c'] }}" ã¨åŒã˜
                        éã‚¢ãƒ¬ã‚¤ã¨ã‚¢ãƒ¬ã‚¤ã®çµåˆ:
                            vars:
                                varA: a
                                varB: [b, c]
                            hosts: "{{ [varA] + varB }}"
                        ã‚¢ãƒ¬ã‚¤ã®ä¸­ã§å¤‰æ•°å‚ç…§:
                            vars:
                                main: node1
                            OK: "{{ [main ,'node2', 'node3'] }}"
                            NG: "[ {{ main }}, node2, node3 ]"
                                #// [WARNING]: Could not match supplied host pattern, ignoring: [node1
                                #// [WARNING]: Could not match supplied host pattern, ignoring: node3]
            å€¤:  #search: Ansible vars value
            å„ªå…ˆé †ä½:  #keyword: ansible vars priority  #// åŒã˜å¤‰æ•°åã®å®šç¾©ãŒè¤‡æ•°ã‚ã‚‹ã¨ãã®å‚ç…§å…ˆã®å„ªå…ˆé †ä½
                å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#ansible-variable-precedence  #template: __DocumentVersion__
                    #// ä¸Šè¨˜å‚ç…§å…ˆã®ä¸€è¦§ã®ã†ã¡ä¸‹ã«ã‚ã‚‹ã‚‚ã®ãŒå„ªå…ˆã•ã‚Œã¾ã™
                æ¦‚è¦: å­ã‚°ãƒ«ãƒ¼ãƒ—ã¯è¦ªã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸Šæ›¸ãã—ã€ãƒ›ã‚¹ãƒˆã¯å¸¸ã«ãã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸Šæ›¸ãã—ã¾ã™ã€‚
                ã‚µãƒ³ãƒ—ãƒ«ï¼ˆä¸‹ãŒå„ªå…ˆï¼‰:
                    /etc/ansible/group_vars/all :
                        ntp_server: default-time.example.com
                    /etc/ansible/group_vars/boston :
                        ntp_server: boston-time.example.com
                    /etc/ansible/host_vars/xyz.boston.example.com :
                        ntp_server: override.example.com
            é–¢é€£:
                ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:  #search: Ansible filter
        ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«:  #//ğŸŒŸ ã‚¿ã‚¹ã‚¯ã®ã‚³ãƒãƒ³ãƒ‰  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/__ModuleName___module.html  #keyword: ansible module  #template: __DocumentVersion__
                #keyword: Ansible module
            #// å…¬å¼ã®ãƒšãƒ¼ã‚¸ã®ä¸‹ã®ã»ã†ã«ã‚ã‚‹ ã‚µãƒ³ãƒ—ãƒ« ã‚³ãƒ¼ãƒ‰ ãŒå½¹ã«ç«‹ã¡ã¾ã™
            å‚è€ƒ:
                - https://docs.ansible.com/ansible/2.9_ja/ >> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½¿ç”¨ >> Module Index >> All modules  #template: __DocumentVersion__
                - URL ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’å…¥åŠ›: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/__ModuleName___module.html  #template: __DocumentVersion__
                - All modules: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/list_of_all_modules.html  #template: __DocumentVersion__
                    #// Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ããƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã®ä¸€è¦§ã§ã™
                - Module Index: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/modules_by_category.html  #template: __DocumentVersion__
                    #// ãƒ„ãƒªãƒ¼ã‹ã‚‰æ¢ã—ã¾ã™
            æ›¸å¼:
                YAML ã®ã‚­ãƒ¼ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å ´åˆ:
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        tasks:
                        -   name: ____
                            __ModuleName__:
                                __ParameterName1__: __Value__
                                __ParameterName2__: __Value__
                            __Others__:  #search: ansible tasks in Playbook.yaml
                å€¤ã«è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å ´åˆ:
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        tasks:
                        -   name: ____
                            __ModuleName__: __ParameterName1__=__Value__ __ParameterName2__=__Value__
            ã‚«ã‚¿ãƒ­ã‚° >> åŸºæœ¬çš„ãª Ansible ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: #// èªè¨¼, ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸, ãƒ‡ãƒ¼ãƒ¢ãƒ³, ã‚·ã‚§ãƒ«, ãƒ‡ãƒãƒƒã‚°  #keyword: ansible modules catalog,  ansible modules command  #glossary: Ansible module
                ã‚«ãƒ†ã‚´ãƒªãƒ¼é †:
                    èªè¨¼:       #see-below:  authorized_key, rpm_key
                    ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: #see-below:  yum, dnf, pip, yum_repository
                    ãƒ‡ãƒ¼ãƒ¢ãƒ³:   #see-below:  service, sysvinit  #search: ansible_facts
                    ã‚·ã‚§ãƒ«:     #see-below:  shell
                    ãƒ‡ãƒãƒƒã‚°:   #see-below:  debug
                    ãã®ä»–: ã‚«ã‚¿ãƒ­ã‚°ã‚’å‚ç…§ï¼ˆè¦ªé …ç›®ï¼‰
                authorized_key:  #// ã‚µãƒ¼ãƒãƒ¼å´ã« SSH èªè¨¼ã‚­ãƒ¼ï¼ˆå…¬é–‹éµï¼‰ã‚’è¿½åŠ ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚ç§˜å¯†éµã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯åˆ¥é€”è¡Œã£ã¦ãã ã•ã„
                    #serach: authorized_keys
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/authorized_key_module.html  #template: __DocumentVersion__
                command:     #// ã‚·ã‚§ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚å†ªç­‰æ€§ã¯ã‚ã‚Šã¾ã›ã‚“  #keyword: ansible command module
                    #// é€šå¸¸ã¯ shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã®ãŒã‚ˆã„ã§ã—ã‚‡ã†
                    #// shell ä»¥å¤–ã® Ansible ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†å ´åˆã€shell ã‚ˆã‚Šã‚‚ command ã®ã»ã†ãŒç’°å¢ƒãŒè¿‘ã„ã§ã™
                    #// ç’°å¢ƒå¤‰æ•°($HOMEãªã©)ã‚„ã€ â€œ<â€, â€œ>â€, â€œ|â€, â€œ;â€ ãªã©ã®ãƒ‘ã‚¤ãƒ—ã‚„ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¯ä½¿ãˆã¾ã›ã‚“ï¼ˆâ†ansible shell ã¨ã®é•ã„ï¼‰
                    #search: ansible shell
                debug:       #// ãƒ‡ãƒãƒƒã‚°ç”¨ã«å¤‰æ•°ã®å€¤ã®è¡¨ç¤ºã‚„ä»»æ„ã®æ–‡å­—åˆ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºã‚’ã—ã¾ã™  #keyword: ansible debug
                    åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«:
                        #search: Ansible tasks YAML
                        -   name: debug print
                            debug: msg="{{ result }}"
                            failed_when: true   #// æµã‚Œãªã„ã‚ˆã†ã«ã‚¿ã‚¹ã‚¯å®Ÿè¡Œå¾Œã«çµ‚äº†ã•ã›ã¾ã™
                        #// environment ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰ã¯ Ansible ã®å¤‰æ•°ã§ã¯ãªã„ã®ã§ã€
                        #// debug ã‚¿ã‚¹ã‚¯ã« environment ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚‚è¦‹ãˆã¾ã›ã‚“ã€‚
                        #// {{ result }} ã§å±•é–‹ã•ã‚Œã‚‹ã®ã¯ Ansible å¤‰æ•°ã ã‘ã§ã™ã€‚
                        #// è¾æ›¸ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚­ãƒ¼ã¨å€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                    å‹ã®è¡¨ç¤º:
                        -   name: debug print
                            debug: msg="type={{ result | type_debug }}"
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/debug_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   hosts: all
                            tasks:
                                -   name: print message
                                    debug:
                                        msg: "{{ result }}"  #// result å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆmsg ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ©Ÿèƒ½ï¼‰

                                -   name: print variable
                                    debug:
                                        var: result  #// result å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆvar ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ©Ÿèƒ½ï¼‰

                                -   name: print message
                                    debug:
                                        msg: result  #// result ã¨è¡¨ç¤ºã—ã¾ã™ï¼ˆmsg ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ©Ÿèƒ½ï¼‰
                    å¿œç”¨ã‚µãƒ³ãƒ—ãƒ« playbook.yml:  #// ä»¥ä¸‹ã«ã„ãã¤ã‹ã‚ã‚Šã¾ã™
                        -   hosts: all
                            become: true
                            tasks:
                                -   name: exec uptime
                                    command: /usr/bin/uptime   #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
                                    register: result           #// ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã‚’ result å¤‰æ•°ã«æ ¼ç´ã—ã¾ã™
                                -   name: debug print
                                    debug: var=result          #// result å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆvar ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ©Ÿèƒ½ï¼‰
                                -   name: debug print 2
                                    debug: msg="debug message" #// ä»»æ„ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆmsg ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ©Ÿèƒ½ï¼‰
                                -   debug: var=result
                                -   debug: msg="debug message"
                    ä¸Šè¨˜ã‚µãƒ³ãƒ—ãƒ«ã® å‡ºåŠ›ä¾‹: |
                        $ ansible-playbook  playbook.yml

                        PLAY [all] ************************************************************************************************************************************************************

                        TASK [Gathering Facts] ************************************************************************************************************************************************
                        ok: [ansibletest]

                        TASK [exec uptime] ****************************************************************************************************************************************************
                        changed: [ansibletest]

                        TASK [debug1] *********************************************************************************************************************************************************
                        ok: [ansibletest] => {
                            "result": {
                                "changed": true, 
                                "cmd": [
                                    "/usr/bin/uptime"
                                ], 
                                "delta": "0:00:00.014018", 
                                "end": "2021-05-28 02:29:07.928580", 
                                "failed": false, 
                                "rc": 0, 
                                "start": "2021-05-28 02:29:07.914562", 
                                "stderr": "", 
                                "stderr_lines": [], 
                                "stdout": " 02:29:07 up  1:48,  0 users,  load average: 0.33, 0.16, 0.09", 
                                "stdout_lines": [
                                    " 02:29:07 up  1:48,  0 users,  load average: 0.33, 0.16, 0.09"
                                ]
                            }
                        }

                        TASK [debug2] *********************************************************************************************************************************************************
                        ok: [ansibletest] => {
                            "msg": "debug message"
                        }

                        PLAY RECAP ************************************************************************************************************************************************************
                        ansibletest                : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
                    ç’°å¢ƒå¤‰æ•°ã‚’è¡¨ç¤ºã—ã¾ã™: |
                        -   name: show env with become
                            ansible.builtin.command: env
                            register: result
                        -   debug:
                                var: result.stdout_lines
                    -vvv ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã¾ã™:
                        #search: ansible-playbook -vvv
                    é–¢é€£:
                        ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‡ãƒãƒƒã‚°:  #search: Ansible plug in debug
                        æ—©ãå‹•ä½œç¢ºèªã—ã¾ã™:  #search: Ansible fast development
                dnf:         #// dnf ã‚³ãƒãƒ³ãƒ‰ã€‚ CentOS7 ã§ RPMï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¢å¼ï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #keyword: ansible dnf
                    #ref: https://docs.ansible.com/ansible/2.9_ja/modules/dnf_module.html  #template: __DocumentVersion__
                    CentOS8 ã® dnf ã¯ CentOS7 ã® yum ã§ã™:  #search: ansible yum
                    ã‚µãƒ³ãƒ—ãƒ«.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: download epel-release  #template) __Name__
                                become: yes
                                dnf:
                                    name: https://dev.mysql.com/get/mysql80-community-release-el8-1.noarch.rpm  #template) name: __URL__
                                    state: present  #search: Ansible yum state
                    #search: ansible yum
                docker_image:  #// Docker ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ãªã©  #keyword: Ansible docker_image module
                    #ref: https://docs.ansible.com/ansible/2.9_ja/modules/docker_image_module.html  #template: __DocumentVersion__
                docker_container:  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¾ã™  #keyword: Ansible docker_container module,  docker_container,  Ansible docker run
                    #ref: https://docs.ansible.com/ansible/2.9_ja/modules/docker_container_module.html  #template: __DocumentVersion__
                    #search: docker run
                    èµ·å‹•ã—ã¾ã™:  #// docker run ã‚³ãƒãƒ³ãƒ‰ç›¸å½“
                        #search: Ansible tasks YAML
                        #// docker run -d  --name __Name__  --restart __Restart__  \
                        #//     -p __HostOSPortNum__:__GuestOSPortNum__  \
                        #//     -v __HostOSPath__:__GuestOSPath__  \
                        #//     -e __EnvironmentVariableName__=__Value__  \
                        #//     __DockerImageName__:__TagOrVersion__
                        name: Start __Name__ docker container
                        docker_container:
                            name: __Name__
                            image: __DockerImageName__:__TagOrVersion__  #search: Docker image name  #// ãƒ­ãƒ¼ã‚«ãƒ«ã®å ´åˆã€ã‚¿ã‚°ã¯å¿…é ˆã§ã™  #search: Ansible docker_container module local image
                            state: started
                            restart_policy: __Restart__  #// always, "no"  (no ã§ã¯ NG)
                            ports:
                                -   __HostOSPortNum__:__GuestOSPortNum__
                            volumes:
                                -   __HostOSPath__:__GuestOSPath__
                            env:
                                __EnvironmentVariableName__: __Value__
                            command: >  #search: YAML multi lines
                                __Command__  __Parameter1__
                                __Parameter2__
                    ãƒ—ãƒ­ã‚­ã‚·ã‚„ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™:  #keyword: Ansible docker_container proxy
                        #search: Ansible yum proxy environment variable
                        åŸºæœ¬:
                            root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å ´åˆ: |  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã® root
                                -   name: Start docker container
                                    docker_container:
                                        env:
                                            http_proxy: '__ProxyFQDN__'
                                            https_proxy: '__ProxyFQDN__'
                            ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å ´åˆ: |  #// gitlab-runner ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å ´åˆ
                                #// æœªç¢ºèª
                                -   name: Set environment variables in gitlab-runner user in docker container
                                    shell: |
                                        docker exec -i  gitlab-runner-1  su --login  gitlab-runner  --command  \
                                            "echo  'http_proxy={{ lookup('env', 'http_proxy') }}' > /home/gitlab-runner/.bashrc;
                                            echo  'https_proxy={{ lookup('env', 'https_proxy') }}' >> /home/gitlab-runner/.bashrc"
                        IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã™ã‚‹å ´åˆ:  #// dig ã‚’ä½¿ã†å ´åˆ
                            æº–å‚™: Ansible ã® dig ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ— ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„
                            ãƒ—ãƒ­ã‚­ã‚· ã‚µãƒ¼ãƒãƒ¼ ã® FQDN ã‹ã‚‰ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã™ã‚‹å ´åˆ:
                                        http_proxy: 'http://{{ lookup("dig", "__ProxyFQDN__") }}:8080/'
                                        https_proxy: 'http://{{ lookup("dig", "__ProxyFQDN__") }}:8080/'
                            ãƒ—ãƒ­ã‚­ã‚· ã‚µãƒ¼ãƒãƒ¼ ã® FQDN ãŒå…¥ã£ã¦ã„ã‚‹ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã™ã‚‹å ´åˆ:
                                        http_proxy: "http://{{ lookup('dig', (lookup('env', 'http_proxy') | urlsplit('hostname'))) }}:8080"
                                        https_proxy: "http://{{ lookup('dig', (lookup('env', 'https_proxy') | urlsplit('hostname'))) }}:8080"
                            VirtualBox ã® VM å†…ã® Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«è¨­å®šã™ã‚‹å ´åˆ:
                                playbook:
                                            http_proxy: 'http://172.17.0.1:8080/'
                                            https_proxy: 'http://172.17.0.1:8080/'
                                        #// 172.17.0.1 ã¯ Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã‹ã‚‰è¦‹ãŸ Docker ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™
                                èª¿ã¹æ–¹: |  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ã‹ã‚‰è¦‹ãŸ Docker ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹
                                    $ ip addr
                                    ...
                                    4: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default 
                                        link/ether 02:42:a4:82:5f:3c brd ff:ff:ff:ff:ff:ff
                                        inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0
                                        valid_lft forever preferred_lft forever
                    é–¢é€£ >> docker exec:
                        çŠ¶æ³: Ansible 2.9 ã«ã¯ docker exec ã«ç›¸å½“ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯æä¾›ã•ã‚Œã¦ã„ã¾ã›ã‚“
                        ä»£ç”¨: |
                            -   name: docker exec
                                become: true
                                shell: docker exec -i  __ContainerName__  __ComandAnsParameters__
                get_url:     #// wget, curl ã‚³ãƒãƒ³ãƒ‰ã€‚  #keyword: ansible get_url, Ansible wget curl
                    #ref: https://docs.ansible.com/ansible/2.9_ja/modules/get_url_module.html  #template: __DocumentVersion__
                    å‚è€ƒ: https://nwengblog.com/ansible-get-url/
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                        ã‚µãƒ³ãƒ—ãƒ«.yml: |
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: download bind
                                    become: yes  #// sudo ãŒå¿…è¦ãªå ´æ‰€ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆã¯å¿…è¦
                                    get_url:
                                        url: https://downloads.isc.org/isc/bind9/9.16.2/bind-9.16.2.tar.xz
                                        dest: /usr/local
                        å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ:
                            get_url:
                                mode: 755  #search: chmod
                    tar.gz ã‚’å±•é–‹ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«:  #search: Ansible tar example
                    HTTP GET ã—ã¦ç‰¹å®šã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ãªã‚‹ã¾ã§å¾…ã¤å ´åˆ:  #search: Ansible uri
                group:       #// ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‚°ãƒ«ãƒ¼ãƒ—  #keyword: ansible group
                    #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/group_module.html
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   name: Add a group
                            become: yes
                            group: name=____ gid=____
                    é–¢é€£: #search: ansible user
                pause:
                    å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/pause_module.html  #template: __DocumentVersion__
                    æŒ‡å®šã—ãŸæ™‚é–“ã ã‘å¾…ã¡ã¾ã™:
                        playbook.yml:
                            -   hosts: all
                                pause:
                                    seconds: 10  #// seconds ã¾ãŸã¯ minutes
                rpm_key:     #keyword: ansible rpm_key  #// GPG ã‚­ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: RPM GPG key
                    å…¬å¼: #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/rpm_key_module.html
                    ã‚µãƒ³ãƒ—ãƒ«.yml:
                        -   tasks:
                            #// rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
                            -   name: Import a RPM GPG key from a URL
                                become: yes
                                rpm_key:
                                    key: https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
                                    state: present
                script:      #keyword: Ansibile script  #// ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è»¢é€ã—ã¦å®Ÿè¡Œã—ã¾ã™  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/script_module.html
                service:     #// ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒ‡ãƒ¼ãƒ¢ãƒ³ï¼‰ã®èµ·å‹•ãªã©  #keyword: ansible systemctl, ansible service
                    æ³¨æ„: æ”¹è‰¯ç‰ˆã‚‚ã‚ã‚Šã¾ã™  #search: ansible systemd
                    å‚è€ƒ:
                        - #ref: https://docs.ansible.com/ansible/2.9_ja/modules/service_module.html  #template: __DocumentVersion__
                        - #search: systemctl
                    é–¢é€£:
                        status: #search: ansible_facts services   #// ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                        daemon-reload: #search: Ansible daemon-reload
                    ã‚µãƒ³ãƒ—ãƒ«.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦

                            -   name: (@__ServerName__) start __ServiceName__  #// èµ·å‹•ã—ã¦ã„ãªã‹ã£ãŸã‚‰èµ·å‹•ã—ã€å†èµ·å‹•æ™‚ã‚‚èµ·å‹•ã™ã‚‹ã‚ˆã†è¨­å®šã—ã¾ã™
                                #// (@__ServerName__)$ sudo systemctl restart __ServiceName__
                                #// (@__ServerName__)$ sudo systemctl enable  __ServiceName__
                                become: yes
                                service:
                                    name: __ServiceName__
                                    state: started
                                    enabled: yes    #// å†èµ·å‹•æ™‚ã‚‚èµ·å‹•ã—ã¾ã™

                            -   name: start and enable service short hand  #// ï¼ˆçŸ­ç¸®å½¢ï¼‰èµ·å‹•ã—ã¦ã„ãªã‹ã£ãŸã‚‰èµ·å‹•ã—ã¾ã™
                                service: name="{{ service_name }}" state=started enabled=yes

                            -   name: stop service httpd, if started  #// èµ·å‹•ã—ã¦ãŸã‚‰çµ‚äº†ã—ã¾ã™
                                become: yes
                                service:
                                    name: httpd
                                    state: stopped

                            -   name: restart service httpd, in all cases  #// å†èµ·å‹•ã—ã¾ã™
                                become: yes
                                service:
                                    name: httpd
                                    state: restarted

                            -   name: reload service httpd, in all cases  #// ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™
                                become: yes
                                service:
                                    name: httpd
                                    state: reloaded

                            -   name: enable service httpd, and not touch the state  #// systemctl enable ç›¸å½“
                                become: yes
                                service:
                                    name: httpd
                                    enabled: yes  #// state: enabled ã§ã¯ãªã„ã®ã§æ³¨æ„

                            -   name: start service foo, based on running process /usr/bin/foo
                                become: yes
                                service:
                                    name: foo
                                    pattern: /usr/bin/foo  #// ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã®ã‚’å¾…ã£ã¦ã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™(?)
                                    state: started

                            -   name: restart network service for interface eth0
                                become: yes
                                service:
                                    name: network
                                    state: restarted
                                    args: eth0                  #// å¼•æ•°
                set_fact:    #// å¤‰æ•°å®šç¾©
                    åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«.yml:  #focus: content  #// content å¤‰æ•°ã‚’å®šç¾©ã—ã¦ã„ã¾ã™
                        -   name: check file content
                            set_fact:
                                content: "{{ lookup('template', '../templates/table.j2') }}"  #search: Ansible lookup template
                shell:       #// ã‚·ã‚§ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å¯¾è±¡ãƒ›ã‚¹ãƒˆã§å®Ÿè¡Œã—ã¾ã™ã€‚å†ªç­‰æ€§ã¯ã‚ã‚Šã¾ã›ã‚“  #keyword: ansible shell
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/shell_module.html  #template: __DocumentVersion__
                    #// ç’°å¢ƒå¤‰æ•°($HOMEãªã©)ã‚„ã€ â€œ<â€, â€œ>â€, â€œ|â€, â€œ;â€ ãªã©ã®ãƒ‘ã‚¤ãƒ—ã‚„ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¯ä½¿ãˆã¾ã™ï¼ˆâ†ansible command ã¨ã®é•ã„ï¼‰ #search: ansible command module
                    #// shell ä»¥å¤–ã® Ansible ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†å ´åˆã€shell ã‚ˆã‚Šã‚‚ command ã®ã»ã†ãŒç’°å¢ƒãŒè¿‘ã„ã§ã™
                    åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                shell: somecommand parameters
                    ã‚³ãƒãƒ³ãƒ‰ãŒé•·ã„ã¨ã, è¤‡æ•°è¡Œ: | #keyword: Ansible shell long command
                        shell: |
                            docker exec -i  __ContainerName__ \
                            __ComandAnsParameters__
                    ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º: #ğŸŒŸ  #search: Ansible task stdout
                    å®Ÿè¡ŒãŒé•·ã„ã¨ã:  #// å‡¦ç†ãŒå®Œäº†ã™ã‚‹ã¾ã§ shell ã‚¿ã‚¹ã‚¯ã®ãƒ­ã‚°ã¯è¡¨ç¤ºã•ã‚Œãªã„ã“ã¨ã¸ã®å¯¾å‡¦æ–¹æ³•
                        å¯¾å‡¦: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¾ã™  #// å‡ºåŠ›ã‚’ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã›ã‚Œã°ã€å‡¦ç†é€”ä¸­ã®æ§˜å­ã‚’ç¢ºèªã§ãã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«:
                            tasks/main.yml:
                                -   name: guide of next setup-tasks.sh task
                                    debug:
                                        msg: âš ï¸ There is during processing output to the file '/vagrant/working/_setup_error.log' (__Project__/working).

                                -   name: long script
                                    shell: ____/rec-stderr --new --stderr ___/_error.log  --  script.sh
                                #search: rec-stderr
                    root ãƒ¦ãƒ¼ã‚¶ãƒ¼ chdir:  #// root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ chdir ã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«.yml
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                shell:
                                    chdir: /current/folder
                                    cmd: somecommand parameters
                    ç’°å¢ƒå¤‰æ•°: #keyword: Ansible shell env  #// ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ
                        #search: Ansible environment in server
                    å®Ÿè¡Œç’°å¢ƒ:  #// PATH, ãƒ¦ãƒ¼ã‚¶ãƒ¼  #// ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰ ã®ç’°å¢ƒ
                        PATH: #keyword: Ansible PATH
                            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ:
                                Ansible æ¥ç¶šæ™‚: |  #// /etc/profile ãªã©ã®å†…å®¹ã¯åæ˜ ã•ã‚Œãªã„ã‚ˆã†ã§ã™
                                    /usr/local/bin:/usr/bin
                                VSCode æ¥ç¶šæ™‚:
                                    å…±é€š: /home/vagrant/.vscode-server/bin/e2816fe719a4026ffa1ee0189dc89bdfdbafb164/bin/remote-cli:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/vagrant/.local/bin:/home/vagrant/bin
                                    CentOS7: /etc/profile ã®å†…å®¹ + å…±é€š
                            è¿½åŠ :  #// ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã€ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã« PATH ã‚’è¿½åŠ ã—ã¾ã™
                                Ansible ã®ä¸­ã§å®Ÿè¡Œã™ã‚‹ã¨ãã® PATH:
                                    æ–¹æ³•:
                                        - environment >> PATH ã«å®šç¾©ã—ã¾ã™ã€‚å€¤ã« $PATH ã‚’æŒ‡å®šã—ã¦ã‚‚ /usr/local/bin:/usr/bin ãªã©ã¯å®šç¾©ã•ã‚Œã¾ã›ã‚“
                                        - tasls >> shell >> environment ã¯ä»•æ§˜ã«ã‚ã‚Šã¾ã›ã‚“
                                    ã‚µãƒ³ãƒ—ãƒ«: |
                                        -   hosts: "{{ hosts }}"
                                            environment:
                                                PATH: /usr/local/bin:/usr/bin:/home/vagrant/.pyenv/bin:/home/vagrant/.pyenv/shims
                                            tasks:

                                                -   name: echo
                                                    shell: echo $PATH

                                                -   name: command test
                                                    shell: pyenv --version
                                    #ref: https://github.com/ansible/ansible/pull/8651
                                Ansible ã®å¤–ã§å®Ÿè¡Œã™ã‚‹ã¨ãã® PATH:  #// å¾Œã§ VM å†…ã®ã‚·ã‚§ãƒ«ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å ´åˆ
                                    CentOS7:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/playbooks/add_path_in_centos_controler.yml
                                        ã‚µãƒ³ãƒ—ãƒ«: |
                                            -   hosts: "{{ hosts }}"
                                                tasks:

                                                -   name: 'Add {{ extra_path }} if PATH does not exist for CentOS'  #// åˆ¥ã®è¡Œã«è¿½åŠ ã™ã‚‹
                                                    become: true
                                                    lineinfile:
                                                        path: /etc/profile
                                                        line: 'export PATH="$PATH:{{ extra_path }}"'
                                                        insertafter: EOF
                                                    when: lookup('file', '/etc/profile') is not search('^\s*PATH\s*=')

                                                -   name: 'Add {{ extra_path }} to PATH for CentOS'  #// åŒã˜è¡Œã«è¿½åŠ ã™ã‚‹
                                                    become: true
                                                    lineinfile:
                                                        path: /etc/profile
                                                        regexp: 'export PATH=(["])((?!.*?{{ extra_path }}).*?)(["])$'
                                                        line: 'export PATH=\1\2:{{ extra_path }}\3'
                                                        backrefs: yes
                                        #ref: https://stackoverflow.com/questions/56560173/ansible-how-to-add-modify-path-variable-in-centos
                                    Ubuntu:
                                        /etc/environment
                                ã†ã¾ãã„ã‹ãªã‹ã£ãŸæ–¹æ³•:
                                    .bashrc: |
                                            - name: Adding the path in the bashrc files
                                            lineinfile: dest=/root/.bashrc line='export PATH=$PATH:path-to-mysql/bin' insertafter='EOF' regexp='export PATH=\$PATH:path-to-mysql/bin' state=present
                                            #// If set the PATH in .bash_profile, it will be no effect.

                                            - name: Source the bashrc file
                                            shell: source /root/.bashrc

                                            - name: Start the mysql client
                                            shell: mysql -e "show databases";
                                        #ref: https://stackoverflow.com/questions/27733511/how-to-set-linux-environment-variables-with-ansible
                        whoami: vagrant
                        id -u: 1000
                    æ¨™æº–å…¥åŠ›ã¸: #keyword: Ansible shell module stdin
                        å…¥åŠ›å†…å®¹æŒ‡å®š:
                            stdin: "y"
                        control ãƒãƒ¼ãƒ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’é€ã‚Šã¾ã™:
                            JSON ã®å ´åˆ: |
                                tasks:
                                    -   name: ____
                                        shell:
                                            cmd: "______"
                                            stdin: "{{ lookup('file', '__FilePathInControlNode__') | from_json | to_nice_json }}"
                                    #// ã¾ãŸã¯
                                            stdin: "{{ lookup('template', '__FilePathInControlNode__') | from_json | to_nice_json }}"
                            Jinja2 ã®ã‚¿ã‚°ãŒä»˜ã„ãŸ JSON ã®å ´åˆ: |  #search: Ansible lookup
                                JSON ã®å ´åˆã® file ã‚’ template ã«ç½®ãæ›ãˆã¾ã™   ï¼ˆæœªç¢ºèªï¼‰
                                    stdin: "{{ lookup('template', '__FilePathInControlNode__') | from_json | to_nice_json }}"
                            ãã‚Œä»¥å¤–ã® YAML ã®åˆ¶å¾¡æ–‡å­—ãŒã‚ã‚‹å ´åˆ:
                                ä½¿ãˆãªã„ã‚ˆã†ã§ã™ã€‚target ãƒãƒ¼ãƒ‰ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ stdin ã«å…¥åŠ›ã•ã›ã¾ã™
                            from_json | to_nice_json:
                                #// ä»¥ä¸‹ã¯ cat ã‚’å®Ÿè¡Œã—ãŸã¨ãã« Ansible ã®ãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã‚‹å†…å®¹ã§ã™ã€‚åŠ å·¥ã•ã‚Œã¦ã„ã‚‹ãã†ã§ã™
                                (nothing): |
                                    "{'jwks_url': 'http://localhost:4646/.well-known/jwks.json', 'jwt_supported_algs': ['RS256', 'EdDSA'], 'default_role': 'nomad-workloads'}"
                                from_json: |
                                    "{'jwks_url': 'http://localhost:4646/.well-known/jwks.json', 'jwt_supported_algs': ['RS256', 'EdDSA'], 'default_role': 'nomad-workloads'}"
                                to_nice_json: |
                                    "\"{\\n  \\\"jwks_url\\\": \\\"http://localhost:4646/.well-known/jwks.json\\\",\\n  \\\"jwt_supported_algs\\\": [\\\"RS256\\\", \\\"EdDSA\\\"],\\n  \\\"default_role\\\": \\\"nomad-workloads\\\"\\n}\""
                                from_json | to_nice_json: |
                                    "{\n    \"default_role\": \"nomad-workloads\",\n    \"jwks_url\": \"http://localhost:4646/.well-known/jwks.json\",\n    \"jwt_supported_algs\": [\n        \"RS256\",\n        \"EdDSA\"\n    ]\n}"
                                quote: |
                                    "'{\n  \"jwks_url\": \"http://localhost:4646/.well-known/jwks.json\",\n  \"jwt_supported_algs\": [\"RS256\", \"EdDSA\"],\n  \"default_role\": \"nomad-workloads\"\n}'"
                    å¿œç”¨ã‚µãƒ³ãƒ—ãƒ«.yml:  #// æœªç¢ºèª
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                shell: /usr/bin/somecommand  options1
                                    options2
                                args:
                                    chdir: __Directory__
                                ignore_errors: True       #search: ansible ignore_errors
                                register: result  #search: ansible register
                    warn, è­¦å‘Šã‚’æŠ‘æ­¢ã—ã¾ã™:  #focus: warn
                        -   name: install poetry
                            shell:
                                cmd: curl -sSL https://install.python-poetry.org  | sponge |  POETRY_VERSION={{ poetryVersion }}  python -
                                warn: false
                    tar.gz ã‚’å±•é–‹ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«:  #search: Ansible tar example
                systemd:     #// ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒ‡ãƒ¼ãƒ¢ãƒ³ï¼‰ã®èµ·å‹•ãªã©ã€‚service ã®æ”¹è‰¯ç‰ˆ  #keyword: ansible systemctl, ansible systemd
                    #// ansible 2.2 ä»¥é™
                    å…¬å¼:  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/systemd_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ«:
                        #// sudo systemctl daemon-reload    #keyword: Ansible daemon-reload
                        #// sudo systemctl restart emperor.uwsgi.service
                        #// sudo systemctl enable  emperor.uwsgi.service
                        -   name: restart emperor.uwsgi.service
                            become: yes
                            systemd:
                                name: emperor.uwsgi.service  #// è¤‡æ•°æŒ‡å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚loop ã‚’ä½¿ã„ã¾ã™  #search: Ansible loop
                                state: restarted
                                daemon_reload: yes
                                enabled: yes

                        #// sudo systemctl stop cron
                        -   name: stop cron, if running
                            systemd:
                                name: cron
                                state: stopped
                    é–¢é€£:
                        service ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«:  #search: ansible service
                        systemctl status ã® Ansible:  #search: Ansible systemctl status
                sysvinit:    #// SysVã‚µãƒ¼ãƒ“ã‚¹ã®èµ·å‹•ãªã©  #keyword: ansible sysvinit, ansible init.d
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/sysvinit_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ«:
                        __Playbook__.yml:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                #// sudo /etc/init.d/__ServiceName__ start
                                -   name: make sure __ServiceName__ is started
                                    sysvinit:
                                        name: __ServiceName__
                                        state: started
                                        enabled: yes
                reboot:      #// å†èµ·å‹•  #keyword: ansible reboot
                    #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/reboot_module.html
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        #// reboot
                        -   name: Unconditionally reboot the machine with all defaults
                            become: yes
                            reboot:
                uri:  #// HTTP  #keyword: Ansible uri,  Ansible (url),  Ansible https get put post delete
                    å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/uri_module.html  #template: __DocumentVersion__
                    HTTP GET ã—ã¦ç‰¹å®šã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ãªã‚‹ã¾ã§å¾…ã¤å ´åˆ:
                        GET ã—ãŸå†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«.yml: |
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: HTTP GET
                                    uri:
                                        method: GET
                                        url: "http://node1:9200/_snapshot/my_backup/_all?pretty"
                                        timeout: 30  #// 30 second = default
                                        return_content: yes
                                    register: result
                                -   name: print GET response content
                                    debug:
                                        msg: "{{ result.content }}"
                        JSON ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«æ¥ã‚‹å ´åˆã®ã‚µãƒ³ãƒ—ãƒ«.yml: |
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: Wait for status green to load elasticsearch.yml
                                    uri:
                                        method: GET
                                        url: "http://node1:9200/_cluster/health/?level=shards&pretty"
                                        timeout: 30  #// 30 second = default
                                    register: result
                                    until: "result.json.status | default('') == 'green'"  #search: Ansible until
                                    delay: 3
                                    retries: 100  #// ãƒªãƒˆãƒ©ã‚¤æœ€å¤§å›æ•°ã€‚ã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ FAILED ã«ãªã‚Šã¾ã™
                        JSON ä»¥å¤–ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«æ¥ã‚‹å ´åˆã®ã‚µãƒ³ãƒ—ãƒ«.yml: |
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: Wait for starting ElasticSearch service
                                    uri:
                                        method: GET
                                        url: "http://node1:9200/_cat/nodes?v"
                                        timeout: 30  #// 30 second = default
                                        return_content: yes
                                    register: result
                                    until: "'node1' in result.content"  #search: Ansible until
                                    delay: 3
                                    retries: 100  #// ãƒªãƒˆãƒ©ã‚¤æœ€å¤§å›æ•°ã€‚ã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ FAILED ã«ãªã‚Šã¾ã™
                        å‚è€ƒ:
                            å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/uri_module.html  #template: __DocumentVersion__
                            è­°è«–: #ref: https://gist.github.com/mikeifomin/67e233cd461331de16707ef59a07e372
                    HTTP PUT ã—ã¦æˆåŠŸã‚’ç¢ºèªã™ã‚‹å ´åˆ:
                        ã‚µãƒ³ãƒ—ãƒ«.yml: | #keyword: Ansible uri PUT example
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: Set ElasticSearch reposirory and Wait for success
                                    uri:
                                        method: PUT
                                        url: "http://node1:9200/_snapshot/my_backup?pretty"
                                        headers:
                                            "Content-Type": "application/json"
                                        body:  #// body: | ã§ã‚‚ã‚ˆã„
                                            {
                                                "id": "1",
                                            }
                                        body_format: json
                                    register: result
                                    until: "result.json.acknowledged | default(false) == true"  #search: Ansible until
                                    delay: 3
                                    retries: 100
                    HTTP PUT >> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ:
                        æ‰‹é †: body ã®ä»£ã‚ã‚Šã« src ã‚’æŒ‡å®šã—ã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«:
                            #search: Ansible uri PUT example
                            å¤‰æ›´å‰: |
                                body:
                                    {
                                        "id": "1",
                                    }
                            å¤‰æ›´å¾Œ: |
                                src: __PathInPlayingServer__
                    ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ãªå ´åˆ: #ref: https://stackoverflow.com/questions/63702789/how-to-upload-a-file-to-nexus-using-ansible-modules
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ: #search: ansible get_url
                user:        #// ãƒ¦ãƒ¼ã‚¶ãƒ¼  #keyword: ansible user
                    #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/user_module.html
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€å±ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’è¿½åŠ ã—ã¾ã™:
                        ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œã‚‹å ´åˆ:  #search: ansible group
                        ã‚µãƒ³ãƒ—ãƒ« playbook.yml:  #// vagrant ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç„¡ã‘ã‚Œã°ä½œã‚Šã€docker ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã¾ã™ã€‚æ—¢å­˜ã®æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—ã¯ãã®ã¾ã¾æ‰€å±ã—ã¾ã™
                            #focus: vagrant, docker
                            #// sudo gpasswd --add  $USER  docker
                            -   name: Make the current user belong to the docker group
                                become: yes
                                user:
                                    name: vagrant
                                    shell: /bin/bash   #// çœç•¥å¯èƒ½
                                    groups: docker
                                    append: yes
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™:
                        ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                            -   name: Add a user
                                user: name=____ uid=____ group=____ update_password=always password=____
                    ãƒ›ãƒ¼ãƒ  ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ã‚’å¤‰æ›´ã—ã¾ã™: #keyword: ansible user home
                        æ–°è¦ä½œæˆã™ã‚‹å ´åˆ:
                            -   name: Create user1 HOME folder
                                become: yes
                                user:
                                    name: user1
                                    create_home: yes
                                    home: /home/user1
                        #search: Linux HOME folder
                    é–¢é€£: #search: ansible group  #search: ansible acl
                yum:         #// yum ã‚³ãƒãƒ³ãƒ‰ã€‚ CentOS7 ã§ RPMï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¢å¼ï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #keyword: ansible yum
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/yum_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ«:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                become: true
                                yum:
                                    pkg: ntp        #search: Ansible yum pkg
                                    state: present  #search: Ansible yum state
                                    allow_downgrade: yes
                    è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆ:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: ____
                                yum:
                                    name: [python-devel, python-crypto, libffi-devel]
                                become: true
                                become_user: root
                                environment: "{{ proxy_env }}"
                    pkg ã‚­ãƒ¼: #keyword: Ansible yum pkg  #// name ã‚­ãƒ¼ã‚‚åŒã˜æ„å‘³
                        - __PackageName__
                        - __PackageName__-__Version__  #// allow_downgrade: yes ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
                        - __URL__
                        - [ __PackageName__, __URL__, ... ]  #// è¤‡æ•°æŒ‡å®šã§ãã¾ã™
                    state ã‚­ãƒ¼: #keyword: Ansible yum state
                        installed, present:  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸçŠ¶æ…‹ã«ã—ã¾ã™ã€‚ OS ã‚’å†èµ·å‹•ã—ãŸã¨ãã‚‚ã‚µãƒ¼ãƒ“ã‚¹ã¯è‡ªå‹•çš„ã«èµ·å‹•ã—ã¾ã™(systemctl enable ç›¸å½“)
                        removed, absent:  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„çŠ¶æ…‹ã«ã—ã¾ã™ã€‚å³è¨˜ãƒªãƒ³ã‚¯å…ˆã«æ³¨æ„  #search: Ansible uninstall services
                        latest:  æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ã‚ã£ãŸã‚‰å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                            æ¯å›ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™
                        ï¼ˆã‚¿ã‚¹ã‚¯ãŒç„¡ã„å ´åˆï¼‰: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®çŠ¶æ…‹ã¯ãã®ã¾ã¾ã§ã™ã€‚absent ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãªã„ã¨ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã›ã‚“
                    allow_downgrade ã‚­ãƒ¼:
                        yes: ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’è¨±å¯ã—ã¾ã™
                        no: å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç„¡è¦–ã—ã¾ã™
                    disablerepo ã‚­ãƒ¼:
                        dnf install --disablerepo ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨åŒã˜ã€‚ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Š
                    Java 8 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ Ansible Playbook:  #keyword: Java 8 Ansible Playbook
                        -   hosts: ____
                            tasks:
                                -   name: install Java 8
                                    become: yes
                                    yum:
                                        pkg: java-1.8.0-openjdk
                                        state: present
                    jq RPM ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ Ansible Playbook:  #keyword: ansible jq
                        -   name: install epel-release
                            become: yes
                            yum:
                                name: epel-release
                                state: present
                        -   name: install jq RPM package for _____
                            become: yes
                            yum:
                                pkg: jq
                                state: present
                                enablerepo: epel
                    CentOS7 ã® yum ã¯ CentOS8 ã® dnf ã§ã™:  #search: ansible dnf  #keyword: ansible RPM
                    æ›´æ–°ã•ã‚Œãªã„ã¨ã: state="latest" update_cache="yes"
                    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: #keyword: Ansible yum trouble
                        proxy ç’°å¢ƒå¤‰æ•°: #keyword: Ansible yum proxy environment variable
                            #search: Ansible proxy  #search: Ansible debug
                        ã‚µãƒ¼ãƒãƒ¼ï¼ˆrepomd.xmlï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™:
                            Ansible ã§ç¢ºèªã™ã‚‹å ´åˆ:
                            å•é¡ŒãŒã‚ã‚‹å ´åˆã®å¯¾å‡¦æ³•:
                                #search: repodata/repomd.xml trouble
                        yum repos ã®å†…å®¹ã‚’ç¢ºèªã—ã¾ã™:  #search: yum repos
                            less  /etc/yum.repos.d/____.repo
                                baseurl
                                proxy
                        repolist ã«å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚ã‚‹ã‹ç¢ºèªã—ã¾ã™:
                            å•é¡ŒãŒã‚ã‚‹å ´åˆã®å¯¾å‡¦æ³•:
                                å¯¾å‡¦A. RPM ã‚’ç™»éŒ²ã—ã¾ã™:
                                å¯¾å‡¦B. ãƒªãƒã‚¸ãƒˆãƒªãŒãƒŸãƒ©ãƒ¼ã®å ´åˆã€ãƒŸãƒ©ãƒ¼ã‚’ä½œã‚Šç›´ã—ã¾ã™:
                yum_repository:  #// /etc/yum.repos.d/____.repo ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™
                    â—æ³¨æ„: dnf config-manager --add-repo ã‚³ãƒãƒ³ãƒ‰ ã§ .repo ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã¨åŒã˜å‡¦ç†ã‚’ã™ã‚‹å ´åˆã€
                        yum_repository ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä½¿ã„ã¾ã›ã‚“ã€‚shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã¾ã™
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html
                    ã‚µãƒ³ãƒ—ãƒ«:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: Add __RepositoryName__ repository
                                become: yes
                                ansible.builtin.yum_repository:
                                    baseurl: __URL__
                                    name: __SectionInRepoFile__       #// .repo ãƒ•ã‚¡ã‚¤ãƒ« ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³å
                                    description: __NameInRepoFile__   #// .repo ãƒ•ã‚¡ã‚¤ãƒ« ã® name ã‚­ãƒ¼
                                    enabled: yes
                                    gpgcheck: yes
                yum clean all:  #keyword: Ansible yum clean all
                    ã‚µãƒ³ãƒ—ãƒ«:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: yum clean all in target host
                                become: yes
                                shell:
                                    cmd: yum clean all
                                    warn: no  #// å³ã®è­¦å‘Šã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚[WARNING]: Consider using the yum module rather than running 'yum'.
            ã‚«ã‚¿ãƒ­ã‚° >> ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª, ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸:  #glossary: Ansible programming module
                git: #keyword: Ansible git  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/git_module.html  #// git clone/checkout ã§ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰ã—ã¾ã™
                    åŸºæœ¬:
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   name: ____
                                git:
                                    repo: 'https://foosball.example.org/path/to/repo.git'
                                    dest: /srv/checkout
                                    version: release-1.1.x
                        version: ãƒ–ãƒ©ãƒ³ãƒåã€ã‚¿ã‚°åãªã©ã€‚çœç•¥æ™‚ã¯ HEADï¼ˆgit clone ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ãã¨åŒã˜ï¼‰
                            ãŸã ã—ã€git clone æ¸ˆã¿ã®å ´åˆã¯ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ããªã„ã‚ˆã†ã§ã™ã€‚ï¼ˆgit 1.8.3.1ï¼‰
                            æ‰‹å‹•ã§ git checkout ã—ã¦ãã ã•ã„ã€‚
                    å®Ÿè¡ŒãŒçŸ­ã™ãã‚‹ã¨ã:
                        TASK [__TaskName__:set_fact] ã®ã¨ãã¯ã€ã¾ã  git clone ãªã©ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã›ã‚“ã€‚
                        TASK [__TaskName__] ã®ã¨ãã«å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚
                    å®Ÿè¡ŒãŒé•·ã™ãã‚‹ã¨ã:
                        git clone|checkout ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸã»ã†ãŒæ—©ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ã—å†ªç­‰æ€§ã‚’ç¢ºä¿ã™ã‚‹ã®ãŒé›£ã—ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
                    é€”ä¸­ã§æ­¢ã¾ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨ã:  #// .git ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ ãŒä¸­é€”åŠå ´ãªçŠ¶æ…‹ã«ãªã£ã¦ã€git ã‚¿ã‚¹ã‚¯ãŒå‹•ã‹ãªããªã‚‹ã¨ã
                        ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™:  #search: Ansible transaction file
                    å·®åˆ†è¡¨ç¤ºãŒé•·ã™ãã‚‹ã¨ã:  #search: disable Ansible diff
                    Git ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ããªã„ã¨ã:  #keyword: Ansible git URL trouble
                        æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€git ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¹ã‚¯ã§
                        ã‚¨ãƒ©ãƒ¼: |  #keyword: unable to access Failed to connect to Network is unreachable
                            fatal: unable to access '__URL__': Failed to connect to __IPAddress__: Network is unreachable"
                        å¯¾å‡¦A:
                            Ansible ã‚’ä½¿ã‚ãšã« git clone ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·ã‚„ãƒªãƒã‚¸ãƒˆãƒªã® URL ã« typo ãŒç„¡ã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                                echo  $https_proxy
                                git clone https://____.git
                                rm -rf __GitWorkingFolder__
                        å¯¾å‡¦B: |
                            Ansible ã§å®Ÿè¡Œã™ã‚‹ã¨ãã® https_proxy ç’°å¢ƒå¤‰æ•°ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
                                ansible-playbook __Options__  --check  -vvv  --start-at-task "__GitModuleTask__"  --step
                                (N)o/(y)es/(c)ontinue: y
                                ... https_proxy=__ProxyURL__ ...
                        å¯¾å‡¦C:
                            https ã—ã‹å—ã‘ä»˜ã‘ãªã„ã‚µãƒ¼ãƒãƒ¼ã®å ´åˆã¯ã€URL ã¯ https ã‹ã‚‰å§‹ã‚ã‚‹ã‚ˆã†ã«ã—ã¾ã™
                pip:
                    ã‚µãƒ³ãƒ—ãƒ«: |  #keyword: Ansible install poetry
                        -   name: install poetry
                            pip:
                                name: "poetry"      #// è¿½åŠ ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
                                version: "1.4.2"    #// è¿½åŠ ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
                                executable: "/home/user1/.pyenv/versions/3.9.1/bin/pip"   #// ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã®ä»®æƒ³ç’°å¢ƒã®ä¸­ã® pip
                                extra_args: "--no-index  -f /home/user1/.pyenv/pypi"       #// -f ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ.wheel ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ãŒç½®ã„ã¦ã‚ã‚‹å ´æ‰€ 
            ã‚«ã‚¿ãƒ­ã‚° >> ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†: #keyword: ansible text file  #glossary: Ansible file module
                acl: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/acl_module.html  #// setfacl ã‚³ãƒãƒ³ãƒ‰
                blockinfile: #keyword: ansible blockinfile module  #// ã‚µãƒ¼ãƒãƒ¼å†…ã® ãƒ†ã‚­ã‚¹ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’è¤‡æ•°è¡Œç·¨é›†ã—ã¾ã™
                    æ³¨æ„: â— BEGIN ANSIBLE MANAGED BLOCK ãªã©ã®ã‚¿ã‚°ãŒä»˜ãã¾ã™
                    å…¬å¼: https://docs.ansible.com/ansible/2.9_ja/modules/blockinfile_module.html  #template: __DocumentVersion__
                    åŸºæœ¬:
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   name: ____
                                blockinfile:
                                    path: /etc/ssh/sshd_config
                                    create: yes  #// çœç•¥ã™ã‚‹ã¨ no
                                    block: |

                                        # comment
                                        PasswordAuthentication no
                        å‡ºåŠ›ã®ã‚µãƒ³ãƒ—ãƒ«: |  #// æŒ‡å®šã—ãŸãƒ†ã‚­ã‚¹ãƒˆã®å‰å¾Œã®è¡Œã«ãƒãƒ¼ã‚«ãƒ¼ãŒä»˜ãã¾ã™  #keyword: BEGIN ANSIBLE MANAGED BLOCK
                            __ExistingContent__
                            # BEGIN ANSIBLE MANAGED BLOCK

                            # comment
                            PasswordAuthentication no
                            # END ANSIBLE MANAGED BLOCK
                    ä¸€éƒ¨ã‚’å¤‰æ•°ã®å€¤ã«ç½®ãæ›ãˆã‚‹:
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   name: ____
                                vars:
                                    __This_IP_Address__: "{{vagrant_network[inventory_hostname].ipv4.address}}"
                                    __DB1_IP_Address__:  "{{vagrant_network.db1.ipv4.address}}"  #search: Ansible dictionary
                                blockinfile:
                                    path: /path/to/file
                                    create: yes  #// çœç•¥ã™ã‚‹ã¨ no
                                    block: |

                                        # comment
                                        IP: {{__DB1_IP_Address__}}
                    marker:  #// ç·¨é›†ã™ã‚‹ç¯„å›²ã‚’ç¤ºã™ãƒãƒ¼ã‚«ãƒ¼ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ "ANSIBLE MANAGED BLOCK"ã€‚è¤‡æ•°ã®ç¯„å›²ã‚’ç·¨é›†ã™ã‚‹ã¨ãã¯è¡çªã—ãªã„ã‚ˆã†ã«ãƒãƒ¼ã‚«ãƒ¼ã‚’ç·¨é›†ã—ã¾ã™
                        è¨­å®šã®ã‚µãƒ³ãƒ—ãƒ«:
                            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨åŒã˜è¨­å®šã«ã™ã‚‹ã¨ã:
                                blockinfile:
                                    marker: ANSIBLE MANAGED BLOCK
                        ãƒãƒ¼ã‚«ãƒ¼ã®ã‚µãƒ³ãƒ—ãƒ«:  #search: BEGIN ANSIBLE MANAGED BLOCK
                        æ”¹è¡Œã‚’æŒ‡å®šã—ãŸã¨ã: æ”¹è¡ŒãŒç©ºç™½ã«ç½®ãæ›ã‚ã£ãŸãƒãƒ¼ã‚«ãƒ¼ã«ãªã‚Šã¾ã™
                    insertbefore:  #// ç·¨é›†ã™ã‚‹ç¯„å›²ã®ã™ãä¸‹ã‚’æŒ‡ã™æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
                        è¨­å®šã®ã‚µãƒ³ãƒ—ãƒ«:  #focus: after insert
                            blockinfile:
                                insertbefore: # after insert
                        å®Ÿè¡Œå¾Œã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹:
                            # BEGIN ANSIBLE MANAGED BLOCK
                            ...
                            # END ANSIBLE MANAGED BLOCK
                            # after insert
                copy:        #keyword: ansible copy module         #// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/copy_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/text_file/replace/1st/playbook.yml
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/file_example/text_file/lookup/playbook.yml
                    ã‚µãƒ³ãƒ—ãƒ«1.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: copy to __PathInServer__
                                copy:
                                    src: ./__RelativePathInControler__
                                    dest: __PathInServer__  #// ãƒªãƒ¢ãƒ¼ãƒˆã® $HOME ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹
                    æœ«å°¾ã®æ”¹è¡Œã‚’ç¶­æŒã—ã¾ã™, ç§˜å¯†éµã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: #keyword: ansible copy module newline EOF,  Ansible SSH key format
                        #// Ansible ã®ä»•æ§˜ã§ã¯ SSH ã‚­ãƒ¼ ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã§ SSH ã‚­ãƒ¼ã®æ›¸å¼ï¼ˆè¦æ”¹è¡Œï¼‰ã«åˆã‚ãªããªã‚‹ãŸã‚ã€SSH ã‚­ãƒ¼ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãã‚Œãã‚Œã§å¯¾å¿œãŒå¿…è¦ã§ã™
                        ã‚¨ãƒ©ãƒ¼, çŠ¶æ³: |
                            invalid format __User__@__Host__  Permission denied (publickey).
                        è­°è«–:  #ref: https://github.com/ansible/ansible/issues/30829
                            æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ”¹ã–ã‚“ã™ã‚‹æ„å‘³ãŒã‚ã‹ã‚Šã¾ã›ã‚“ã€‚
                        å¯¾å‡¦:  #// Ansible 2.0 ä»¥é™
                            line(content) å±æ€§ãŒã‚ã‚‹å ´åˆ:
                                ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã¾ã™: |  #// mode ã¯ "755", "600" ãªã©
                                    -   name: Ensure newline at end of file  # https://github.com/ansible/ansible/issues/30829
                                        lineinfile:
                                            path: ____
                                            line: ""
                                            insertafter: EOF
                                            mode: "600"
                            src å±æ€§ãŒã‚ã‚‹å ´åˆ:
                                ã‚¿ã‚¹ã‚¯ã‚’å¤‰æ›´ã—ã¾ã™: |
                                    -   name: Copy file with newline preserved
                                        template:
                                            src: ____
                                            dest: ____
                    dest ãŒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ .yml:  #// dest ã®æœ«å°¾ã« / ãŒç„¡ã„ã¨ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒå­˜åœ¨ã—ãªã„ã¨ãã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                        #å‰ç•¥  #see-above: ã‚µãƒ³ãƒ—ãƒ«1.yml
                        copy: src=index.html  dest=/var/www/html/
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: copy to __PathInServer__
                                    copy:
                                        src: ./_tmp_folder/     #// æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥
                                        dest: /path/to/folder   #// ./_tmp_folder/__File__ ã®å†…å®¹ã¯ /path/to/folder/__File__ ã«ã§ãã¾ã™
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:
                                        src: ./_tmp_folder
                                        dest: /path/to/folder   #// /path/to/folder/_tmp_folder ãŒã§ãã¾ã™
                    ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ Ansible ã‹ã‚‰æŒ‡å®šã—ã¾ã™: #keyword: Ansible copy content
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: Make a file in __PathInServer__
                                copy:
                                    dest: /path/to/file
                                    content: "{{ variable }}"
                    ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒ›ã‚¹ãƒˆ å†… ã®ã‚³ãƒ”ãƒ¼:
                        shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã¾ã™ã€‚copy ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä½¿ã„ã¾ã›ã‚“  #search: ansible shell
                    ãƒ•ã‚¡ã‚¤ãƒ«ã®å±æ€§ã®è©³ç´°.yml:
                        #å‰ç•¥  #see-above: ã‚µãƒ³ãƒ—ãƒ«1.yml
                        copy: src=/etc/ansible/hosts dest=/etc/ansible/hosts
                                owner=root group=root mode='644'
                    ãƒ­ã‚°è¡¨ç¤º:  #// ã‚³ãƒ”ãƒ¼ã—ãŸã¨ãã«è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹
                        ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’éè¡¨ç¤ºã«ã—ã¾ã™:  #search: Ansible no_log
                        è¡¨ç¤ºã•ã‚Œã‚‹ checksum: SHA1  #search: SHA1
                    é™¤å¤–:  #// copy ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã©ã‚’ã‚³ãƒ”ãƒ¼ã‹ã‚‰é™¤å¤–ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒæ–¹æ³•ã¯ã‚ã‚Šã¾ã™
                        .gitignore ã®å¯¾è±¡å¤–ã®ã¿ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:  #search: Ansible .gitignore
                file:        #keyword: ansible file module         #// ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¾ãŸã¯ãƒªãƒ³ã‚¯ã‚’ä½œã‚Šã¾ã™ã€‚ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™
                    å…¬å¼:  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/file_module.html  #template: __DocumentVersion__
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚‹ã‚µãƒ³ãƒ—ãƒ«.yml:  #keyword: ansible mkdir,  ansible folder
                        åŸºæœ¬:  #focus: path
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: create sub_folder  
                                    become: yes  #// sudo ãŒå¿…è¦ãªã¨ãã®ã¿
                                    file:
                                        state: directory
                                        path: __SubFolder__
                                        recurse: true  #// true = è¦ªã®è¦ªãŒç„¡ã‘ã‚Œã°ä½œã‚Šã¾ã™
                        è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™:
                            path: "{{ __FilePath__ | dirname }}"
                        æ‰€æœ‰è€…ãªã©ã‚’è¨­å®šã—ã¾ã™:  #focus: owner, group, mode
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: create sub_folder  
                                    become: yes  #// ä½œã‚‹ã®ã« root æ¨©é™ãŒå¿…è¦ãªã¨ãã®ã¿
                                    file:
                                        state: directory
                                        path: __SubFolder__
                                        owner: user
                                        group: group
                                        mode: "644"
                            #search: chown
                    ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:
                        ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ:  #search: ansible copy  #search: ansible template module
                        ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹å ´åˆ:  #keyword: ansible empty file touch
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: create new file                    #template) __Name__
                                    file:
                                        path: temporary_file
                                        state: touch
                        ç·¨é›†ã¨æ–°è¦ä½œæˆã®ä¸¡æ–¹ã«å¯¾å¿œã™ã‚‹å ´åˆ:  #search: Ansible lineinfile create
                        ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ playbook ã«æ›¸ãå ´åˆ:  #search: Ansible copy content
                    ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ä½œã‚Šã¾ã™:  #keyword: ansible ln
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: make symbolic link
                                become: yes  #// sudo ãŒå¿…è¦ãªã¨ãã®ã¿
                                file:
                                    state: link
                                    path: sub_folder_or_file  #// ãƒªãƒ³ã‚¯å…ƒã€‚ä½œã‚‰ã‚Œã‚‹ãƒªãƒ³ã‚¯ã®ãƒ•ã‚¡ã‚¤ãƒ«
                                    src:  sub_folder_or_file  #// src ã ã‘ã©ãƒªãƒ³ã‚¯å…ˆã€‚å®Ÿä½“ã®ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
                        #// ln ã‚³ãƒãƒ³ãƒ‰ã¨ç•°ãªã‚Šã€ã™ã§ã«ãƒªãƒ³ã‚¯ãŒå­˜åœ¨ã—ã¦ã„ã¦ã‚‚ãƒªãƒ³ã‚¯ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ›´æ–°ã•ã‚Œã¾ã™
                    ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«.yml:  #keyword: ansible rm,  Ansible file delete remove
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: remove sub_folder_or_file  
                                become: yes  #// sudo ãŒå¿…è¦ãªã¨ãã®ã¿
                                file:
                                    state: absent
                                    path: sub_folder_or_file  #template) path: __Path__
                    ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³:  #keyword: Ansible chmod permission
                        file:
                            mode: '755'
                    ã‚ªãƒ¼ãƒŠãƒ¼ã®å¤‰æ›´:  #keyword: Ansible chown  #// ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®æ‰€æœ‰è€…ã‚„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å¤‰ãˆã¾ã™
                        é€šå¸¸: |
                            -   hosts: __Hosts__
                                become: yes
                                tasks:
                                    -   name: Recursively change owner of __FolderPath__
                                        shell: chown -hR  __User__:__Group__  __FolderPath__
                        Ansible ã«ã“ã ã‚ã‚‹å ´åˆ: |  #// ãŠãã‚‰ãã‹ãªã‚Šé…ã„ã§ã™ï¼ˆæœªç¢ºèªï¼‰
                            -   hosts: __Hosts__
                                become: yes
                                tasks:
                                    -   name: Find all files and directories
                                        ansible.builtin.find:
                                            paths: __FolderPath__
                                            recurse: yes
                                        register: found_items

                                    -   name: Change owner of found files and directories
                                        ansible.builtin.file:
                                            path: "{{ item.path }}"
                                            owner: __User__
                                            group: __Group__
                                        loop: "{{ found_items.files }}"
                    ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ç§»å‹•ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«.yml:  #keyword: ansible mv
                        ã‚µãƒ³ãƒ—ãƒ«:
                            -   name: stat node folder
                                stat: path=/home/vagrant/node
                                register: foo_stat

                            -   name: Move node folder
                                become: yes
                                shell: mv  /home/vagrant/node  /opt/node
                                when: foo_stat.stat.exists
                lineinfile:  #keyword: ansible lineinfile module   #// ã‚µãƒ¼ãƒãƒ¼å†…ã® ãƒ†ã‚­ã‚¹ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ï¼‘è¡Œãšã¤ç·¨é›†ã—ã¾ã™
                    ç„¡ã‘ã‚Œã°è¡Œã‚’è¿½åŠ ã—ã¾ã™:  #// insertafter ã‚­ãƒ¼
                        æ³¨æ„: ç·¨é›†å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚å…ˆã« touch ã—ã¦ãã ã•ã„ #search: ansible touch
                        ï¼‘è¡Œã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: add an line if it does not exist
                                    become: yes  #// sudo ã™ã‚‹å ´åˆ
                                    lineinfile:
                                        path: /etc/example.conf
                                        line: 'Listen 8080'
                                        regexp: '^Listen '
                                        insertafter: '^#Listen '  #// ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ã«è¿½åŠ ã™ã‚‹ã¨ãã¯ insertafter: EOFã€‚insertbefore ã«ã‚‚ã§ãã¾ã™
                        è¤‡æ•°è¡Œã‚µãƒ³ãƒ—ãƒ«.yml:  #// è¦‹ã¤ã‹ã£ãŸã‚‰ç½®ãæ›ãˆã¾ã™ã€‚è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚‰ inserafter ã®è¨­å®šã«å¾“ã£ã¦è¿½åŠ ã—ã¾ã™
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: Set some kernel parameters
                                    lineinfile:
                                        dest: /etc/sysctl.conf
                                        line:   "{{ item.line }}"
                                        regexp: "{{ item.regexp }}"
                                        insertafter: EOF
                                    with_items:
                                        - { regexp: '\[Service\]',   line: '[Service]' }
                                        - { regexp: '^kernel.shmall =', line: 'kernel.shmall = 2097152' }
                                        - { regexp: '^kernel.shmmax =', line: 'kernel.shmmax = 134217728' }
                                        - { regexp: '^fs.file-max =',   line: 'fs.file-max = 65536' }
                        ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„ã¨ãã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°è¦ä½œæˆã—ã¾ã™: #keyword: Ansible lineinfile create
                            lineinfile:
                                create: yes
                    PATH ã‚’è¿½åŠ ã—ã¾ã™:  #search: Ansible PATH
                    ï¼‘è¡Œã‚’ç½®ãæ›ãˆã¾ã™:  #// backrefs: yes
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: replace line exmaple >> set domain-name-servers  #template) __Name__
                                    lineinfile: 
                                        path: /etc/example.conf
                                        regexp: '^(.*)option domain-name-servers(.*)$'
                                        line: 'option domain-name-servers 10.116.184.1,10.116.144.1,10.116.136.1;'
                                        backrefs: yes  #// ç½®ãæ›ãˆã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«.yml ã®èª¬æ˜:
                            path: å†…å®¹ã‚’ç½®ãæ›ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
                            regexp: ç½®ãæ›ãˆã‚‹è¡Œã«ãƒãƒƒãƒã™ã‚‹æ­£è¦è¡¨ç¾
                            line: ç½®ãæ›ãˆãŸå¾Œã®å†…å®¹
                            backrefs:  #keyword: Ansible lineinfile backrefs
                                yes: regexp ã«ä¸€è‡´ã™ã‚‹è¡ŒãŒç„¡ã‹ã£ãŸã‚‰ä½•ã‚‚ã—ã¾ã›ã‚“ã€‚ã‚ã£ãŸã‚‰ç½®ãæ›ãˆã¾ã™
                                no: regexp ã«ä¸€è‡´ã™ã‚‹è¡ŒãŒç„¡ã‹ã£ãŸã‚‰è¿½åŠ ã—ã¾ã™ï¼ˆï¼Ÿæœªç¢ºèªï¼‰
                        å‚è€ƒ: https://stackoverflow.com/questions/40788575/replace-a-line-in-a-config-file-with-ansible
                    ï¼‘è¡Œã‚’å‰Šé™¤ã—ã¾ã™:  #// state: absent
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: absent line exmaple >> remove domain-name-servers
                                    lineinfile: 
                                        path: /etc/example.conf
                                        regexp: '^(.*)option domain-name-servers(.*)$'
                                        state: absent   #// ã“ã®è¡ŒãŒã‚ã‚‹ã¨ã€regexp ã«ãƒãƒƒãƒã™ã‚‹è¡Œã‚’å‰Šé™¤ã—ã¾ã™
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚Šã¾ã™: #search: ansible mkdir
                    æ­£è¦è¡¨ç¾ã‚’ä½¿ã‚ãªã„ã§ç·¨é›†ã—ã¾ã™:  #// ç·¨é›†å¾Œã®å†…å®¹ã®è¡ŒãŒã‚ã‚Œã°ç·¨é›†ã—ã¾ã›ã‚“ã€‚ç„¡ã‘ã‚Œã°æœ«å°¾ã«è¿½åŠ ã—ã¾ã™
                        -   name: ____
                            lineinfile:
                                path: ____
                                line: __Contents__
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/lineinfile_module.html  #template: __DocumentVersion__
                    é–¢é€£ >> è¤‡æ•°è¡Œ:
                        replace:  #search: ansible replace module
                        blockinfile:  #search: ansible blockinfile module
                replace:     #keyword: ansible replace module,  Ansible sed  #// ã‚µãƒ¼ãƒãƒ¼å†…ã® ãƒ†ã‚­ã‚¹ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ç·¨é›†ã—ã¾ã™
                    å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/replace_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/text_file/replace/1st
                    ã‚µãƒ³ãƒ—ãƒ«:
                        å®Ÿè¡Œå‰: |
                            [section_B]
                            setting_A = 123
                            setting_B = 456
                            setting_C = 789
                        å®Ÿè¡Œå¾Œ: |
                            [section_B]
                            setting_A = 123
                            setting_B = 55555
                            setting_C = 789
                        playbook.yml :
                            -   name: replace in the file
                                replace:
                                    path: example.txt
                                    regexp: (\[section_B\](.|\s)*?setting_B =)(.*)
                                    replace: \1 55555
                    ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
                        after:  #// ç½®ãæ›ãˆã‚‹å¯¾è±¡ç¯„å›²ã®ï¼‘è¡Œä¸Šã®è¡Œã®å†…å®¹ã€‚æ­£è¦è¡¨ç¾ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                            ã‚µãƒ³ãƒ—ãƒ«: '# HTTP listener'
                        before:  #// ç½®ãæ›ãˆã‚‹å¯¾è±¡ç¯„å›²ã®ï¼‘è¡Œä¸‹ã®è¡Œã®å†…å®¹ã€‚æ­£è¦è¡¨ç¾ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                            ã‚µãƒ³ãƒ—ãƒ«: '# HTTPS listener'
                    å‚è€ƒ: #ref: https://stackoverflow.com/questions/47535197/regex-ansible-lineinfile-subsection
                stat:        #keyword: ansible stat module         #// ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å­˜åœ¨ãªã©
                    ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™: #keyword: Ansible stat exists
                        åŒã˜ã‚¿ã‚¹ã‚¯å†…ã®å ´åˆ:  #// ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°å¤±æ•—ã•ã›ã‚‹ãªã©
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: Check the ____ exists
                                    stat:
                                        path: "/checking/path"
                                    register: result
                                    failed_when: "result.stat.exists == false"
                        åˆ¥ã®ã‚¿ã‚¹ã‚¯ã®å ´åˆ:
                            tasks:
                                -   name: Check the __Name__ exists
                                    stat:
                                        path: "__FullPath__"
                                    register: __Name__

                                -   name: __TaskNameWhenExists__
                                    when: __Name__.stat.exists
                                    debug:
                                        msg: "The file or directory exists"

                                -   name: __TaskNameWhenNotExists__
                                    when: not __Name__.stat.exists
                                    debug:
                                        msg: "The file or directory does not exist"
                            #ref: https://phoenixnap.com/kb/ansible-check-if-file-exists
                        ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ã™ã‚‹å ´åˆ: | #keyword: Ansible transaction file  #// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸­ãªã‚‰ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã¨ã—ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é€”ä¸­ã§å¤±æ•—ã—ãŸã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™
                            -   name: Check __Path__ creating file exists
                                stat:
                                        path: "__Path___creating"
                                register: creating

                            -   name: Create __Path__ creating file
                                become: yes
                                file:
                                    path: "__Path___creating"
                                    state: touch

                            -   name: Remove __Path__ directory
                                become: yes
                                file:
                                    state: absent
                                    path: "__Path__"
                                when: creating.stat.exists

                            -   name: git clone or pull __Path__
                                git:
                                    repo: 'https://____'
                                    dest: "__Path__"
                                    version: "develop"
                                environment: "{{ proxy_env }}"

                            -   name: Remove __Path__ creating file
                                become: yes
                                file:
                                    state: absent
                                    path: "__Path___creating"
                template:    #keyword: ansible template module     #// ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã«ã‚ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€éƒ¨ã‚’ç½®ãæ›ãˆã¦ã€ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¾ã™
                    å‚è€ƒ:
                        - https://tekunabe.hatenablog.jp/entry/2019/03/03/ansible_template_intro
                        - https://docs.ansible.com/ansible/latest/user_guide/playbooks_templating.html
                        - https://docs.ansible.com/ansible/2.9_ja/modules/template_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/file_example/text_file/template/1st/playbook.yml
                    ã‚µãƒ³ãƒ—ãƒ«:  #// template ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ƒã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™
                        __Playbook__.yml:
                            -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                                -   name: create the file
                                    template:
                                        src: ./file.conf.template.j2
                                        dest: /etc/file.conf
                        ./file.conf.template.j2: |  #// ãƒ›ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã®ä¸­ã® Jinja2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«
                            Hello, {{ test_name }}
                        /etc/file.conf: |  #// ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã®ä¸­ã«ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
                            Hello, world
                    æ‰‹é †:
                        å¤‰æ•°ã®å€¤ã«ã‚ˆã£ã¦ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’å¤‰ãˆã¾ã™:
                            ã‚¿ã‚¹ã‚¯ã® src å±æ€§ï¼ˆã‚³ãƒ”ãƒ¼å…ƒï¼‰ã®å€¤ã‚’å¤‰æ•°å‚ç…§ã«ã—ã¾ã™
                            #search: Ansible vars condition
                        ã‚¿ã‚¹ã‚¯ã«ç›´æ¥ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™:
                            tasks/main.yml: |  #// vars ã«æŒ‡å®šã—ã¾ã™
                                -   name: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é…ç½®
                                    ansible.builtin.template:
                                        src: config.j2
                                        dest: /etc/myapp/config.conf
                                    vars:
                                        app_port: 8080
                                        app_name: "MyApplication"
                                        debug_mode: true
                            config.j2: |
                                port: "{{ app_port }}"
                    #â†“ ã‚¿ã‚¹ã‚¯ã®å±æ€§
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼, ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³:  #search: chown
                        mode='0644' owner="user1" group="group1"
                    #â†“ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ« ã®å†…å®¹
                    ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—:  #// {{ }} ã‚’ãã®ã¾ã¾å‡ºåŠ›ã—ã¾ã™
                        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«: |
                            var: "{{ "{{" }} quote {{ "}}" }}"
                        å‡ºåŠ›: |
                            var: "{{ quote }}"
                    è¨ˆç®—å¼:
                        å¤‰æ•°:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/file_example/text_file/template/1st/playbook.yml#vars:
                            vars:
                                string_variable: abc
                                number_variable: 123
                                refer: '{{ string_variable }}'
                                computed_variable: '{{ 3 * 4 }}'  #// 3 * 4 ã ã‘ã¯è¨ˆç®—ã•ã‚Œã¾ã›ã‚“
                        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: |  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/file_example/text_file/template/1st/setting.conf.template.j2#compute:
                            {{ string_variable }}
                            {{ number_variable }}
                            compute: {{ variable | int * 2 }}     #// 246
                            repeat:  {{ variable | string * 2 }}  #// 123123
                    Jinja2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«:  #keyword: Ansible Jinja2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«
                        - https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_templating.html  #template: __DocumentVersion__
                        - https://jinja.palletsprojects.com/en/3.0.x/templates/
                    ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:  #keyword: ansible filter in template
                        #// capitalize ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«æ¸¡ã•ã‚Œã‚‹å€¤ã‚’å¤§æ–‡å­—ã«ã—ã¾ã™
                        #// to_yaml ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŠã‚ˆã³ to_json ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯å¤‰æ•°ã®å€¤ã®å½¢å¼ã‚’å¤‰æ›´ã—ã¾ã™
                        å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html  #template: __DocumentVersion__
                        æ›¸å¼:
                            {{ __VariableName__ | __Filter__ }}
                        å®šç¾©å ´æ‰€: plugins/filter/____.py
                    è£œè¶³:
                        Ansible ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ Jinja2 ãƒ«ãƒ¼ãƒ—ã¨æ¡ä»¶ã‚’è¨±å¯ã—ã¾ã™ãŒã€Playbook ã§ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚
                        #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_variables.html#jinja2  #template: __DocumentVersion__
                unarchive:   #keyword: ansible unarchive           #// åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ã¾ã™
                    å…¬å¼:  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/unarchive_module.html  #template: __DocumentVersion__
                    ã‚µãƒ³ãƒ—ãƒ«.yml:  #// Ansible 2.0 ä»¥é™ã€‚ ä¸‹è¨˜ stat ãŒã‚ã‚‹ã»ã†ãŒå‹•ä½œã¯é€Ÿã„ã§ã™
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: Check Node.js exists
                                stat:
                                    path: "/opt/node-v{{ nodeJsVersion }}-linux-x64"
                                register: node

                            -   name: download and extract Node.js
                                become: true
                                unarchive:
                                    src: https://nodejs.org/dist/v{{ nodeJsVersion }}/node-v{{ nodeJsVersion }}-linux-x64.tar.xz
                                    dest: /opt
                                    remote_src: yes
                                    owner: root
                                    group: root
                                when: not node.stat.exists
                        #// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯å‰Šé™¤ã•ã‚Œã¾ã™  /home/vagrant/.ansible/tmp/ansible-tmp-1675834221.59-30906-115860282039913/node-v12.16.1-linux-x64.tarIB1VG9.xz
                    ã‚µãƒ³ãƒ—ãƒ« for Ansible 1.x.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: download Node.js
                                get_url:
                                    url: https://nodejs.org/dist/v__NodeJsVersion__/node-v__NodeJsVersion__-linux-x64.tar.xz
                                    dest: /home/vagrant

                            -   name: extract Node.js
                                become: true
                                unarchive:
                                    src: /home/vagrant/node-v__NodeJsVersion__-linux-x64.tar.xz
                                    dest: /opt
                                    owner: root
                                    group: root

                            -   name: delete Node.js package
                                file:
                                    state: absent
                                    path: /home/vagrant/node-v__NodeJsVersion__-linux-x64.tar.xz
                                when: not node.stat.exists
            ã‚«ã‚¿ãƒ­ã‚° >> ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹, ã‚­ãƒ¥ãƒ¼:  #glossary: Ansible database modules
                MySQL:  #keyword: Ansible MySQL,  Ansible MySQL module
                    URL: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/list_of_database_modules.html#mysql  #template: __DocumentVersion__
                    command:  #// MySQL command ã‚’ãã®ã¾ã¾æ›¸ã„ã¦å®Ÿè¡Œã—ã¾ã™ã€‚
                        æ³¨æ„: å†ªç­‰æ€§ã¯ã‚ã‚Šã¾ã›ã‚“
                        ã‚µãƒ³ãƒ—ãƒ«.yml:
                            vars:
                                mysql_client_username: mysql_user
                                mysql_client_password: ____
                                target_database_name: ____  #// ä¸‹è¨˜ mysql ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãªã„ã¨ãã¯ä¸è¦
                            tasks:
                                -   name: ____
                                    vars:
                                        mysql_command: >
                                            CREATE USER rpl_user@'%' IDENTIFIED BY 'P@ssword2';
                                    command: >
                                        mysql
                                            --user={{mysql_client_username}}
                                            --password={{mysql_client_password}}
                                            {{target_database_name}}
                                            --host={{inventory_hostname}}
                                            --execute="{{mysql_command}}"
                        2è¡Œã® mysql_command:
                            mysql_command: >
                                SET SQL_LOG_BIN=0;
                                CREATE USER rpl_user@'%' IDENTIFIED BY 'P@ssword2';
                        å¤‰æ•°ã‚’å‚ç…§ã™ã‚‹ mysql_command:
                            mysql_command: >
                                create database {{target_database_name}};
                    mysql_user:  #keyword: Ansible mysql_user module  #// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã‚Šã¾ã™
                        URL:
                            - https://docs.ansible.com/ansible/2.9_ja/ >> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½¿ç”¨ >> Module Index >> Database modules >> mysql_user  #template: __DocumentVersion__
                            - mysql_user: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/mysql_user_module.html  #template: __DocumentVersion__
                        ã‚µãƒ³ãƒ—ãƒ« >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ–°ã—ãä½œã‚Šã¾ã™:  #keyword: Ansible MySQL CREATE USER, Ansible MySQL GRANT
                            #// (@__Server__) mysql> CREATE USER __UserName__@'__Host__' IDENTIFIED BY '__Password__';
                            #// (@__Server__) mysql> GRANT __Privilege__  ON *.* TO __UserName__@'__Host__';
                            -   name: (@__Server__) create MySQL user
                                mysql_user:
                                    name:     "{{ mysql_example_username }}"
                                    password: "{{ mysql_example_password }}"
                                    host: localhost  #// mysql> SELECT user,host FROM mysql.user;
                                    priv: "*.*:ALL"
                                    state: present
                                    login_unix_socket: /var/lib/mysql/mysql.sock
                                    login_host: __MySqlServerName__   #// hosts ã¨é•ã†ã¨ãï¼Ÿ  #// login_unix_socket ã¨æ’ä»–ã‚‰ã—ã„
                                    login_user: root
                                    login_password: "{{ mysql_root_password }}"
                        ã‚µãƒ³ãƒ—ãƒ« >> è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ–°ã—ãä½œã‚Šã¾ã™:
                            -   name: create MySQL client user
                                mysql_user:
                                    update_password: on_create
                                    name: "{{ item.user }}"
                                    password: "{{ item.password }}"
                                    host: "{{ item.host }}"
                                    priv: "{{ item.privileges }}"
                                    state: present
                                    login_unix_socket: /var/lib/mysql/mysql.sock
                                    login_user: root
                                    login_password: "{{ mysql_root_password }}"
                                with_items:
                                    -   user: "{{ mysql_client_user_name }}"
                                        password: "{{ mysql_client_password }}"
                                        host: "%"
                                        privileges: "*.*:ALL,GRANT"
                                    -   user: "{{ mysql_client_user_name }}"
                                        password: "{{ mysql_client_password }}"
                                        host: "%"
                                        privileges: "*.*:ALL,GRANT"
                        ã‚µãƒ³ãƒ—ãƒ« >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ–°ã—ãä½œã‚Šã¾ã™ã€‚æš—å·åŒ–ã‚ã‚Š:
                            #// CREATE USER 'bob'@'localhost' IDENTIFIED BY '{{ mysql_client_password }}';
                            -   name: create database user using hashed password with all database privileges
                                mysql_user:
                                    name: bob
                                    password: '{{ mysql_client_password }}'
                                    encrypted: yes
                                    priv: '*.*:ALL'   #template) '__DB_Name__.*:__Privileges__'
                                    state: present
                                è£œè¶³:  #// out of playbook
                                    __Privileges__:
                                        ALL: å…¨ã¦ã®æ¨©é™
                        ã‚µãƒ³ãƒ—ãƒ« >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™:
                            #focus: absent
                              #// æœªç¢ºèª
                            -   name: (@__Server__) delete MySQL user
                                mysql_user:
                                    name: "{{ mysql_example_username }}"
                                    host: localhost  #// mysql> SELECT user,host FROM mysql.user;
                                    state: absent
                                    login_unix_socket: /var/lib/mysql/mysql.sock
                                    login_host: __MySqlServerName__  #// hosts ã¨é•ã†ã¨ãï¼Ÿ  #// login_unix_socket ã¨æ’ä»–ã‚‰ã—ã„
                                    login_user: root
                                    login_password: "{{ mysql_root_password }}"
                            #search: Ansible MySQL CREATE USER
                        others: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/mysql_user_module.html  #template: __DocumentVersion__
                        priv ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼:
                            æ›¸å¼: __DB_Name__.__TableName__:__PrivilegesCSV__
                            __PrivilegesCSV__:
                                ã‚µãƒ³ãƒ—ãƒ«:
                                    - "*.*:ALL PRIVILEGES"
                                    - "mysql.table1:INSERT,UPDATE,DELETE,CREATE"  #// æ¨©é™ã¯ã‚³ãƒ³ãƒã§åŒºåˆ‡ã‚Šã¾ã™ã€‚å‰å¾Œã«ç©ºç™½æ–‡å­—ã‚’å…¥ã‚Œãªã„ã§ãã ã•ã„
                                    - "db1.table1:INSERT/db1.table2:INSERT"  #// ãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚å«ã‚€æ¨©é™ã¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã§åŒºåˆ‡ã‚Šã¾ã™
                                æ¨©é™ä¸€è¦§:  #search: MySQL privileges
                            å¯¾å¿œã™ã‚‹ MySQL ã‚³ãƒãƒ³ãƒ‰: mysql>  GRANT __PrivilegesCSV__  ON `__DB_Name__`.`__TableName__`  ____
                        Playbook.yml ã® hosts ãŒ MySQL ã‚µãƒ¼ãƒãƒ¼ã¨ç•°ãªã‚‹å ´åˆ:  #search: Ansible  mysql_db  login_host
                    mysql_db:  #keyword: Ansible mysql_db module  #// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚Šã¾ã™
                        å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/mysql_db_module.html#mysql-db-module  #template: __DocumentVersion__
                        ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ–°ã—ãä½œã‚Šã¾ã™ >> Playbook.yml ã® hosts ãŒ MySQL ã‚µãƒ¼ãƒãƒ¼ã¨åŒã˜å ´åˆ:
                            -   name: create _____ database
                                mysql_db:
                                    name: __DatabaseName__
                                    state: present
                                    login_user:     "{{ mysql_client_username }}"
                                    login_password: "{{ mysql_client_password }}"
                        ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ–°ã—ãä½œã‚Šã¾ã™ >> Playbook.yml ã® hosts ãŒ MySQL ã‚µãƒ¼ãƒãƒ¼ã¨ç•°ãªã‚‹å ´åˆ:  #keyword: Ansible mysql_db module,  Ansible mysql_db login_host
                            æ–¹æ³•1:
                                -   name: create _____ database
                                    mysql_db:
                                        name: __DatabaseName__
                                        state: present
                                        login_host: localhost  #// mysql> SELECT user,host FROM mysql.user;
                                        login_unix_socket: /var/lib/mysql/mysql.sock
                                        login_user:     "{{ mysql_client_username }}"
                                        login_password: "{{ mysql_client_password }}"
                            æ–¹æ³•2:
                                -   name: create _____ database
                                    mysql_db:
                                        name: __DatabaseName__
                                        state: present
                                        target: db1  #// host name
                                        login_host:     localhost  #// mysql> SELECT user,host FROM mysql.user;
                                        login_user:     "{{ mysql_client_username }}"
                                        login_password: "{{ mysql_client_password }}"
                        MySQL ã¨ã®å¯¾å¿œ:  #// ä¸‹è¨˜ã®ã‚³ãƒ­ãƒ³ã®å·¦ã¯ MySQL ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã™
                            character set: encoding  #// æœªç¢ºèª
                            collate: collation   #// æœªç¢ºèª
                    mysql_replication:  #keyword: Ansible mysql_replication module
                        å…¬å¼: https://docs.ansible.com/ansible/latest/collections/community/mysql/mysql_replication_module.html
                        ã‚µãƒ³ãƒ—ãƒ« >> ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’ã—ã¾ã™:  #keyword: Ansible change master to, mysql_replication changemaster
                            #search: MySQL CHANGE MASTER TO command
                            -   name: Change to primary server
                                #// mysql> CHANGE MASTER TO
                                #// primary == master
                                mysql_replication:
                                    mode: changemaster
                                    master_host: "{{ mysql_replication_master_host_name }}"
                                    master_port: 3306
                                    master_user:     "{{ mysql_replication_username }}"
                                    master_password: "{{ mysql_replication_password }}"
                                    master_auto_position: yes
                                    login_unix_socket: /var/lib/mysql/mysql.sock
                                    login_user: root
                                    login_password: "{{ mysql_root_password }}"
                                when: mysql_primary_secondary == "primary"
                        ã‚µãƒ³ãƒ—ãƒ« >> ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹:
                            #// mysql> START SLAVE ç›¸å½“  #keyword: Ansible start slave
                            -   name: Start mysql replication
                                community.mysql.mysql_replication:
                                    mode: startslave
                RabbitMQ:
                    rabbitmq_vhost:  #ref: https://docs.ansible.com/ansible/2.9/modules/rabbitmq_vhost_module.html
            ã‚«ã‚¿ãƒ­ã‚° >> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯, ãƒã‚¦ãƒ³ãƒˆ:  #glossary: Ansible network modules
                (ipv4.address):  #search: ansible hostvars
                nmcli:  #// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã€IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š  #keyword: Ansible nmcli module
                    URL: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/nmcli_module.html  #template: __DocumentVersion__
                    #// nmcli ã‚³ãƒãƒ³ãƒ‰ã® Ansible ç‰ˆã€‚ nmcli ã®å‚è€ƒ https://www.kd2.jp/memo/centos7/nmcli.php
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            #// nmcli device show
                            #// nmcli connection show
                            #// sudo nmcli connection modify "System eth1" +ipv4.addresses 192.168.33.111/24
                            #// sudo nmcli connection up "System eth1"
                            -   name: add an ethernet connection with static IP (VIP) configuration
                                become: yes
                                block:
                                    -   name: nmcli connection modify command in the host
                                        nmcli:
                                            conn_name: "System eth1"
                                            type: ethernet
                                            ifname: eth1
                                            ip4: >-
                                                {{ ansible_eth1.ipv4.address }}/{{ sub_net_mask_bit_count }},
                                                {{ mysql_dynamic_primary_ip_address }}/{{ sub_net_mask_bit_count }}
                                            state: present
                                            autoconnect: yes
                                    -   name: nmcli connection up command in the host
                                        shell: sudo nmcli connection up "System eth1"
                uri:  #// HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆ  #keyword: Ansible uri module  #keyword: Ansible cURL, Ansible wget
                    å‚è€ƒ: https://stackoverflow.com/questions/30509058/post-json-to-api-via-ansible/30509908
                    é–¢é€£:
                        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸå†…å®¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¾ã™: get_url  #search: ansible get_url
                    ã‚µãƒ³ãƒ—ãƒ« >> GET:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: http request GET method
                                uri:
                                    url: http://example.com/
                                    method: GET
                    ã‚µãƒ³ãƒ—ãƒ« >> GET ã—ãŸå†…å®¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:
                        -   name: Make sure that cluster health is green
                            uri: url=http://{{ inventory_hostname }}:{{ es_http_port }}/_cluster/health method=GET
                            register: result
                            failed_when: "result.json.status != 'green'"
                        #serach: failed_when
                    ã‚µãƒ³ãƒ—ãƒ« >> POST:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: http request POST method
                                uri:
                                    url: http://www.myapi.com/create
                                    method: POST
                                    return_content: yes
                                    HEADER_Content-Type: application/json
                                    body: |
                                        {{ lookup('file','create_body.json') | to_json }}
                wait_for:  #// ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ãƒˆãŒé–‹ãã¾ã§å¾…ã¤ãªã©
                    #ref: https://docs.ansible.com/ansible/2.9_ja/modules/wait_for_module.html  #template: __DocumentVersion__
                    é–¢é€£: #search: Ansible pause
                mount:  #// Linux mount ã‚³ãƒãƒ³ãƒ‰  #keyword: Ansible mount
                    æ³¨æ„: éæ¨å¥¨ã€‚Ansible ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ›¸ã‹ã‚ŒãŸãƒã‚¦ãƒ³ãƒˆçŠ¶æ…‹ã¨ VM ã®ãƒã‚¦ãƒ³ãƒˆçŠ¶æ…‹ã«é•ã„ãŒã‚ã‚‹ã¨ã€æ­£ã—ãå‹•ä½œã—ã¾ã›ã‚“ã€‚
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            #// mount -t __Type__  __DeviceName__  __MountPoint__
                            -   name: mount NFS shared folder
                                become: yes
                                shell: mount -t __Type__ "__DeviceName__" "__MountPoint__"
                                # mount:  #// This does not mount if the status in Anaible database and the VM status were different.
                                #     path: __MountPoint__
                                #     src: __DeviceName__
                                #     fstype: __Type__
                                #     state: present
                    å‚è€ƒ:  #search: Linux mount
                seboolean:  #// SELinux booleans  #keyword: Ansible seboolean module
                    URL: #ref: https://docs.ansible.com/ansible/latest/collections/ansible/posix/seboolean_module.html
                    å‚è€ƒ >> SELinux boolean: #search: SELinux boolean
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                            -   name: Allow httpd SELinux boolean
                                block:
                                    #// sudo setsebool -P __PolicyName__ __OnOrOff__
                                    -   name: httpd_can_network_connect
                                        become: yes
                                        seboolean:
                                            name: httpd_can_network_connect
                                            state: yes
                                            persistent: yes

                                    -   name: __PolicyName__
                                        become: yes
                                        seboolean:
                                            name: __PolicyName__
                                            state: yes
                                            persistent: yes
                selinux:  #// SELinux  #keyword: Ansible selinux module
                    URL: #ref: https://docs.ansible.com/ansible/2.9_ja/modules/selinux_module.html  #template: __DocumentVersion__
                (audit2allow):  #keyword: Ansible audit2allow
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   name: Allow __Service__ SELinux module
                            block:
                                -   name: Allow __Service__ SELinux module - audit2allow
                                    become: yes
                                    shell: grep __ServiceName__ /var/log/audit/audit.log | sudo audit2allow -M __NewPolicyName__

                                -   name: Allow __Service__ SELinux module - semodule
                                    become: yes
                                    shell: semodule -i __NewPolicyName__.pp

                                -   name: Restart __Service__ server processes
                                    become: yes
                                    systemd:
                                        name: __ServiceName__
                                        state: restarted
                                        enabled: yes

                        -   name: Make sure that __Service__ service is running
                            service_facts:
                            register: result
                            failed_when: result.ansible_facts.services['__ServiceName__.service'].state != 'running'
                    å‚è€ƒ:
                        audit2allow: #search:
            ã‚«ã‚¿ãƒ­ã‚° >> ãã®ä»–:
                fail: #keyword: Ansible fail  #// Ansible ã‚’å®Ÿè¡Œä¸­ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¾ã™
                    å®Ÿè¡Œå‰ã«å¤‰æ•°å€¤ã§åˆ¤å®šã™ã‚‹å ´åˆ: #keyword: Ansible fail when
                        æ›¸å¼: |
                            -   name: __CheckingTaskName__
                                fail: msg="__ErrorMessage__"
                                when: __Condition__

                            -   name: __NextTaskName__
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            -   name: check migrate version
                                fail: msg="migrate version is too largeer than schema_last_major_version"
                                when: release_version | split('.') | first | int  >  mysql_schema_migration.schema_last_major_version | int
                            -   name: task for new version
                                ...:
                    ãƒ­ã‚°ã« error ãŒå«ã¾ã‚Œã¦ã„ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹å ´åˆ: |  #keyword: Ansible error log check
                        -   name: error check in the log of install __Operation__
                            shell: grep -i  "error"  "/vagrant/working/__Operation__.log";  test  "$?" != 0
                            register: log_result
                            ignore_errors: true

                        -   name: stop and show the error message
                            when: log_result.rc != 0  #// found error keyword
                            fail: 
                                msg: "See working/__Operation__.log"
                    çµ‚äº†ã‚³ãƒ¼ãƒ‰ã§åˆ¤å®šã™ã‚‹å ´åˆ: |  #// fatal: [__HostName__]: FAILED! => {"changed": false, "msg": "See working/_error.log"}
                        -   name: command
                            shell: "__CommandLine__"
                            register: result
                            ignore_errors: true

                        -   name: error check of command
                            when: result.rc != 0
                            fail: 
                                msg: "See working/_error.log"
                iptables: #keyword: Ansible iptables module  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/iptables_module.html
                å†èµ·å‹•:
                    Ansible ã§ãƒ›ã‚¹ãƒˆã‚’å†èµ·å‹•ã—ã¦ç¶šãã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã©ã®ã‚ˆã†ã« playbook ã‚’æ›¸ã‘ã°ã„ã„ã§ã—ã‚‡ã†ã‹ã€‚:
                        https://chat.openai.com/c/ca466a9c-4553-40f6-a5bb-3daf89a91730
            é–¢é€£ >> ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ, å§”ä»»: #search: local_action
        ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: #keyword: Ansible filter  #// ã‚«ã‚¹ã‚¿ãƒ  ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html  #template: __DocumentVersion__
            #ref: https://docs.ansible.com/ansible/latest/plugins/filter.html#enabling-filter-plugins
            template å†…:  #search: ansible filter in template
            å®šç¾©æ¸ˆã¿ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: #keyword: Ansible built in filter  #glossary: Ansible
                ï¼ˆåˆ†é¡ï¼‰:
                    æœªå®šç¾©æ™‚: default, ternary
                    ãƒªã‚¹ãƒˆ: min, max, flatten, unique, union, intersect, difference, symmetric_difference, zip, subelements
                    è¾æ›¸: dict2items
                    æ–‡å­—åˆ—: regex_search,  regex_replace,  to_json,  to_yaml
                #â†“ ABC é †
                default: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#defaulting-undefined-variables
                    {{ __Variable__ | default(5) }}  #// __Variable__ ãŒæœªå®šç¾©ã ã£ãŸã‚‰ 5
                    {{ __TrueOrFalse__ | default(__Value__, true) }}
                    __Name__: {{ __Variable__ | default(omit) }}  #// æœªå®šç¾©ã ã£ãŸã‚‰ __Name__ ã‚’æŒ‡å®šã—ãªã„
                dict2items: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#dict-filter
                    {{ __Dictionary__ | dict2items }}
                    {{ __Dictionary__ | dict2items(key_name='__KeyName__', value_name='__ValueName__') }}
                        #// { a: b } ã‚’ {__KeyName__: a, __ValueName__:b } ã«å¤‰æ›ã—ã¾ã™
                difference: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List1__ | difference(__List2__) }}
                flatten: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ [__Variable1__, [__Variable21__, __Variable22__]] | flatten }}  #// [__Variable1__, __Variable21__, __Variable22__]
                    {{ __List__ | flatten }}
                    {{ __List__ | flatten(levels=1) }}  #// æ·±ã• 1 ã¾ã§
                intersect: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List1__ | intersect(__List2__) }}  #// è¦ç´ ã®çµåˆã¨ unique
                items2dict: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#items2dict-filter
                    {{ tags | items2dict }}
                        #// {key:__Key__, value: __Value__} ã‚’ {__Key__: __Value__} ã«ã—ã¾ã™
                    {{ tags | items2dict(key_name='__KeyName__', value_name='__ValueName__') }}
                        #// {__KeyName__:__Key__, __ValueName__: __Value__} ã‚’ {__Key__: __Value__} ã«ã—ã¾ã™
                min, max: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List__ | min }}
                    {{ [__Variable__, __Variable__] | min }}
                regex_search: #// æ­£è¦è¡¨ç¾  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#id19  #template: __DocumentVersion__
                    "{{ 'foobar' | regex_search('(foo)') }}" : "foo" #// æœªç¢ºèª
                    #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Ansible regex_search
                regex_replace:
                subelements:  #// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªã‚¹ãƒˆâ†’å±æ€§ã®ãƒªã‚¹ãƒˆ  #ref:  https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#id10
                    #focus: users, emails
                    playbook: |  #focus: subelements, example.com, item
                        tasks:
                            -   name:
                                debug:
                                    msg: "User {{ item.0.name }} has email {{ item.1 }}"
                                loop: "{{ users | subelements('emails') }}"
                    å‡ºåŠ›: |
                        User A has email alice@example.com     #// å®Ÿéš›ã¯æ¬¡ã®è¡Œã¨ã®é–“ã«ä»–ã®æƒ…å ±ã®ãƒ­ã‚°ãŒã‚ã‚Šã¾ã™
                        User A has email alice@sub.example.com
                        User B has email bob@example.com
                    users å¤‰æ•°ã®å€¤: |  #// å®šç¾©ã‚µãƒ³ãƒ—ãƒ«
                        -   name: A
                            emails:
                                - alice@example.com
                                - alice@sub.example.com
                        -   name: B
                            emails:
                                - bob@example.com
                    subelements ã‚’é€šã—ãŸå¾Œ: |  #// loop ã«ã‚ˆã£ã¦ item ã«å…¥ã‚‹å€¤ã€‚ 0 ã¯ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‰ã€1 ã¯ãƒ•ãƒ©ãƒƒãƒˆã«ã—ãŸå±æ€§ã®å€¤
                        -   item:
                                0:
                                    name: A
                                    emails:
                                        -   alice@example.com
                                        -   alice@sub.example.com
                                1: alice@example.com
                        -   item:
                                0:
                                    name: A
                                    emails:
                                        -   alice@example.com
                                        -   alice@sub.example.com
                                1: alice@sub.example.com
                        -   item:
                                0:
                                    name: B
                                    emails:
                                        -   bob@example.com
                                1: bob@example.com
                symmetric_difference: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List1__ | symmetric_difference(__List2__) }}  #// å¯¾ç§°çš„ãªé•ã„
                ternary:  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#id22
                    æ¡ä»¶ã«ã‚ˆã‚‹å€¤: |
                        {{ (name == "John") | ternary('Mr','Ms') }}  #// name ãŒ John ãªã‚‰ Mr
                to_json: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#filters-for-formatting-data
                    {{ __Variable__ | to_json }}
                    {{ __Variable__ | to_nice_json }}
                    {{ __Variable__ | to_nice_json(indent=__2__) }}
                    {{ __Variable__ | to_nice_json(indent=__8__, width=__4000__) }}
                    {{ __Variable__ | from_json }}
                to_yaml: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#filters-for-formatting-data
                    {{ __Variable__ | to_yaml }}
                    {{ __Variable__ | to_nice_yaml }}
                    {{ __Variable__ | from_yaml }}
                    {{ __Variable__ | from_yaml_all }}  #// è¤‡æ•°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® YAML
                union: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List1__ | union(__List2__) }}  #// è¦ç´ ã®çµåˆ
                unique: |  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#list-filters
                    {{ __List__ | unique }}
                zip:  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#zip-zip-longest
                    ã‚³ãƒ¼ãƒ‰: |  #// 2ã¤ã®ãƒªã‚¹ãƒˆã‹ã‚‰ã€ãƒšã‚¢ã®ãƒªã‚¹ãƒˆã‚’ä½œã‚Šã¾ã™
                        {{ [1,2,3] | zip(['a','b','c','d','e','f']) | list }}
                    çµæœ: |  #// è¦ç´ æ•°ã¯å°‘ãªã„ã»ã†ã¨åŒã˜ã«ãªã‚Šã¾ã™
                        [(1, 'a'), (2, 'b'), (3, 'c')]
                    å¿œç”¨: |
                        {{ dict(keys_list | zip(values_list)) }}
                zip_longest:  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_filters.html#zip-zip-longest
                    ã‚³ãƒ¼ãƒ‰: |  #// 2ã¤ã®ãƒªã‚¹ãƒˆã‹ã‚‰ã€ãƒšã‚¢ã®ãƒªã‚¹ãƒˆã‚’ä½œã‚Šã¾ã™
                        {{ [1,2,3] | zip_longest(['a','b','c','d','e','f'], [21, 22, 23], fillvalue='X') | list }}
                    çµæœ: |  #// è¦ç´ æ•°ã¯å¤šã„ã»ã†ã¨åŒã˜ã«ãªã‚Šã¾ã™
                        [(1, 'a', 21), (2, 'b', 22), (3, 'c', 23), ('X', 'd', 'X'), ('X', 'e', 'X'), ('X', 'f', 'X')]
                Jinja2 ã§ä½¿ãˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:  #search: Jinja2 filter
                    Jinja2 ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³:  #search: Ansible version
            ã‚«ã‚¹ã‚¿ãƒ  ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³: #keyword: Ansible custom filter plug in  #// ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                #ref: https://docs.ansible.com/ansible/2.9_ja/dev_guide/developing_plugins.html#filter
                æ‰‹é †:
                    æœ‰åŠ¹åŒ–:  #keyword: enable Ansible custom filter plug in  #ref: https://docs.ansible.com/ansible/latest/plugins/filter.html#enabling-filter-plugins
                        ansible.cfg ã® filter_plugins ã‚’è¨­å®šã—ã¾ã™  #search: ansible.cfg  filter_plugins
                å®šç¾©ã¨ä½¿ç”¨:
                    åŸºæœ¬ ã‚µãƒ³ãƒ—ãƒ«:  #// reverse_string ã‚’å®šç¾©ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«  #focus: reverse_string  #// ä¸€è¦§ã®è¾æ›¸ã‚’è¿”ã™ FilterModule.filters ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ›¸ãã¾ã™
                        playbook.yml: |
                            version | reverse_string
                        __AnsibleProject__/filter_plugins/____.py : |  #// å ´æ‰€ã¯å¤‰æ›´ã§ãã¾ã™  #search: ansible.cfg  filter_plugins
                            def reverse_string(s):
                                return s[::-1]

                            class FilterModule(object):
                                def filters(self):
                                    return {
                                        'reverse_string': reverse_string
                                    }
                    ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚ã‚Š:  #focus: reverse_string
                        playbook.yml: |
                            version | split('.')
                        __AnsibleProject__/filter_plugins/____.py : |
                            def str_split(s, separator):
                                return s.split(separator)

                            class FilterModule(object):
                                def filters(self):
                                    return {
                                        'split': str_split
                                    }
                ãƒ•ã‚¡ã‚¤ãƒ«:  #// ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ã‚’ç½®ãå ´æ‰€
                    ãƒ•ã‚¡ã‚¤ãƒ«:
                        æ¢ã™:  #// æ—¢å­˜ã® Ansible ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã§ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ãŒã‚ã‚‹å ´æ‰€ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¢ã—ã¾ã™
                            ä¸‹è¨˜ã‚’å…¨æ–‡æ¤œç´¢ã—ã¾ã™:
                                class FilterModule(object):  #focus: FilterModule
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:  #search: ansible.cfg  filter_plugins
        ãƒ—ãƒ©ã‚°ã‚¤ãƒ³: #keyword: Ansible plug in  #// Jinja2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€ãƒ•ãƒƒã‚¯ãªã©
            #ref: https://docs.ansible.com/ansible/2.9_ja/plugins/plugins.html  #template: __DocumentVersion__
            #ref: https://docs.ansible.com/ansible/2.9_ja/dev_guide/developing_plugins.html  #template: __DocumentVersion__
            ã‚«ã‚¿ãƒ­ã‚°:  #// ã‚³ã‚¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆCore Pluginsï¼‰, ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆBuilt-in Pluginsï¼‰, ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£è£½ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
                vars: #keyword: Ansible vars plug in type  #// å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’å¢—ã‚„ã—ã¾ã™
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/dev_guide/developing_plugins.html#vars  #template: __DocumentVersion__
                    æœ‰åŠ¹åŒ–: #keyword: enable Ansible vars plug in  #// Ansible 2.10 ã‚ˆã‚Š
                        ansible.cfg: |  #ref: https://docs.ansible.com/ansible/latest/plugins/vars.html#enabling-vars-plugins
                            vars_plugins         = ./plugins/vars         #// å€¤ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® Python ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹
                            vars_plugins_enabled = host_group_vars,__CustomVers__
                        host_group_vars: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
                        __CustomVers__: ã‚«ã‚¹ã‚¿ãƒ  ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ã® Python ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰ .py ã‚’é™¤ã„ãŸã‚‚ã®ã€‚vars_plugins ã«æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚ã‚‹ .py
                        #search: ansible.cfg
                        #search: Ansible plug in debug
                        #// æœ‰åŠ¹åŒ–ã—ãªã„ã¨ ã‚«ã‚¹ã‚¿ãƒ  Vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ç”Ÿæˆã•ã‚Œã¦ã‚‚ get_vars ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã°ã‚Œã¾ã›ã‚“
                    DEFAULT_VARS_PLUGIN_PATH ã‚³ãƒ³ãƒ•ã‚£ã‚°ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é…ç½®ã™ã‚‹å ´æ‰€ã‚’è¨­å®šã—ã¾ã™:  #search: ansible.cfg
                ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—: #keyword: Ansible lookup plug in type  #glossary: Ansible lookup
                    env: | #keyword: Ansible env plug in,  Ansible ç’°å¢ƒå¤‰æ•°  #// ç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ã—ã¾ã™
                            {{ lookup("env", "__VariabeName__") }}
                        #search: Ansible vars
                    dig: #keyword: Ansible dig plug in  #// ãƒ›ã‚¹ãƒˆåã‚’ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¤‰æ›ã—ã¾ã™  #ref: https://docs.ansible.com/ansible/2.7/plugins/lookup/dig.html
                        æ›¸å¼: |
                            {{ lookup("dig", "__HostName__") }}
                        ã‚µãƒ³ãƒ—ãƒ«:
                            Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒä½¿ã†ãƒ—ãƒ­ã‚­ã‚·ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹:  #search: Ansible docker_container proxy
                    template:  #// control ãƒãƒ¼ãƒ‰ ã«ã‚ã‚‹ Jinja2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰å¤‰æ•°ã®å€¤ã‚’åŸ‹ã‚ãŸãƒ†ã‚­ã‚¹ãƒˆ
                        å€¤ã®ã‚µãƒ³ãƒ—ãƒ«:
                            "{{ lookup('template', '../templates/table.j2') }}"
                        è¿”ã‚Šå€¤ã®å‹:
                            YAML ã¨ã—ã¦æ„å‘³ã‚’æŒã¦ã° dict / list ã«è‡ªå‹•å¤‰æ›ã•ã‚Œã¾ã™ã€‚
                            JSON ã§ã‚‚ YAML ã¨ã—ã¦æ„å‘³ã‚’æŒã¦ã° dict / list ã«è‡ªå‹•å¤‰æ›ã•ã‚Œã¾ã™ã€‚
                            ãã‚Œä»¥å¤–ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆï¼Ÿ
                    file:  #// control ãƒãƒ¼ãƒ‰ ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚AnsibleUnsafeText å‹ãŒè¿”ã‚Šã¾ã™
                        "{{ lookup('file', '../file/table.csv') }}"
                ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯: #keyword: Ansible callback plug in type  #// ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã¾ã™
                    å…¬å¼: #ref: https://docs.ansible.com/ansible/2.9_ja/plugins/callback.html  #template: __DocumentVersion__
                        #ref: https://docs.ansible.com/ansible/latest/plugins/callback.html
                    ä¸€è¦§: |  #keyword: list Ansible callback plug in  #ref: https://docs.ansible.com/ansible/latest/collections/index_callback.html
                        $ ansible-doc -t callback -l | sort  #// Ansible 2.9.27 default
                            actionable           shows only items that need attention                                                                                                           
                            aws_resource_actions summarizes all "resource:actions" completed                                                                                                    
                            cgroup_memory_recap  Profiles maximum memory usage of tasks and full execution using cgroups                                                                        
                            cgroup_perf_recap    Profiles system activity of tasks and full execution using cgroups                                                                             
                            context_demo         demo callback that adds play/task context                                                                                                      
                            counter_enabled      adds counters to the output items (tasks and hosts/task)                                                                                       
                            debug                formatted stdout/stderr display                                                                                                                
                            default              default Ansible screen output                                                                                                                  
                            dense                minimal stdout output                                                                                                                          
                            foreman              Sends events to Foreman                                                                                                                        
                            full_skip            suppresses tasks if all hosts skipped                                                                                                          
                            grafana_annotations  send ansible events as annotations on charts to grafana over http api                                                                          
                            hipchat              post task events to hipchat                                                                                                                    
                            jabber               post task events to a jabber server                                                                                                            
                            json                 Ansible screen output as JSON                                                                                                                  
                            junit                write playbook output to a JUnit file                                                                                                          
                            logdna               Sends playbook logs to LogDNA                                                                                                                  
                            logentries           Sends events to Logentries                                                                                                                     
                            log_plays            write playbook output to log file                                                                                                              
                            logstash             Sends events to Logstash                                                                                                                       
                            mail                 Sends failure events via email                                                                                                                 
                            minimal              minimal Ansible screen output                                                                                                                  
                            nrdp                 post task result to a nagios server through nrdp                                                                                               
                            null                 Don't display stuff to screen                                                                                                                  
                            oneline              oneline Ansible screen output                                                                                                                  
                            osx_say              notify using software speech synthesizer                                                                                                       
                            profile_roles        adds timing information to roles                                                                                                               
                            profile_tasks        adds time information to tasks                                                                                                                 
                            say                  notify using software speech synthesizer                                                                                                       
                            selective            only print certain tasks                                                                                                                       
                            skippy               Ansible screen output that ignores skipped status                                                                                              
                            slack                Sends play events to a Slack channel                                                                                                           
                            splunk               Sends task result events to Splunk HTTP Event Collector                                                                                        
                            stderr               Splits output, sending failed tasks to stderr                                                                                                  
                            sumologic            Sends task result events to Sumologic                                                                                                          
                            syslog_json          sends JSON events to syslog                                                                                                                    
                            timer                Adds time to play stats                                                                                                                        
                            tree                 Save host events to files                                                                                                                      
                            unixy                condensed Ansible output                                                                                                                       
                            yaml                 yaml-ized Ansible screen output                                                                                                                
                    ansible.builtin.default: #keyword: Ansible default plug in  #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/default_callback.html
                        æ¦‚è¦: stdout ã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ã™
                        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼: #glossary: Ansible
                            display_skipped_hosts:  #ref: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/default_callback.html#parameter-display_skipped_hosts
                                #// ã‚¹ã‚­ãƒƒãƒ—ã—ãŸãƒ›ã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¾ã›ã‚“
                    timer, åŸºæœ¬: #keyword: Ansible timer plug in
                        timer ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æœ‰åŠ¹ã«ã—ã¾ã™:
                            (@control) /etc/ansible/ansible.cfg ã«è¨­å®šã™ã‚‹å ´åˆ:
                                callback_whitelist:  #// 2.15 ä»¥é™ callback_whitelist ã¯éæ¨å¥¨ã«ãªã‚Š callbacks_enabled ã«ä»£ã‚ã‚Šã¾ã—ãŸ
                                å¤‰æ›´å‰: |
                                    #callback_whitelist = timer, mail
                                å¤‰æ›´å¾Œ: |
                                    #callback_whitelist = timer, mail
                                    callback_whitelist = timer
                            (@control) ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹å ´åˆ:
                                ANSIBLE_CALLBACKS_ENABLED=timer
                            å…¬å¼: #ref: https://docs.ansible.com/ansible/latest/reference_appendices/config.html#callbacks-enabled
                        timer ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è©¦ã—ã¾ã™: |  #focus: seconds  #// æœ€å¾Œã«å‡¦ç†æ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                            $ ansible-playbook  playbook-0.yml
                                :
                            Playbook run took 0 days, 0 hours, 0 minutes, 1 seconds
                    ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°:
                        v2_on_file_diff: #keyword: Ansible v2_on_file_diff plug in  #// ã‚³ãƒ”ãƒ¼å…ˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒå¤‰åŒ–ã—ãŸã¨ã
                            æ¦‚è¦:  #ref: https://ansible.readthedocs.io/projects/runner/en/latest/ansible_runner.display_callback/#ansible_runner.display_callback.callback.awx_display.CallbackModule.v2_on_file_diff
                                copy ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ãŸã³ã« v2_on_file_diff ãŒå‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€
                                ã‚³ãƒ”ãƒ¼å…ˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒå¤‰åŒ–ã—ãŸã¨ãã« v2_on_file_diff ãŒå‘¼ã°ã‚Œã¾ã™ã€‚
                                é€šå¸¸ã€å¼•æ•°ã«æ¸¡ã•ã‚ŒãŸå†…å®¹ã«ã‚ˆã£ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã‹ã‚‰å¿…è¦ãªå‡¦ç†ã‚’ã—ã¾ã™ã€‚
                            _task.args:  #// ã‚¿ã‚¹ã‚¯åï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åï¼Ÿï¼‰ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼
                                ã‚µãƒ³ãƒ—ãƒ«: |  #focus: _task.args
                                    class CallbackModule(ansible.plugins.callback.default.CallbackModule):
                                        def v2_on_file_diff(self, result):
                                            print(result._task.args.values())
                        v2_playbook_on_stats: #keyword: Ansible v2_playbook_on_stats plug in  #// playbook ã®å®Ÿè¡Œã®æœ€å¾Œã®ã¨ã
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼: #keyword: Ansible inventory plug in type  #ref: https://docs.ansible.com/ansible/2.9_ja/plugins/inventory.html  #template: __DocumentVersion__
                    ä¸€è¦§: |  #keyword: list Ansible inventory plug in
                        $ ansible-doc -t inventory -l | sort  #// Ansible 2.9.27 default
                            advanced_host_list  Parses a 'host list' with ranges                                                                                                                
                            auto                Loads and executes an inventory plugin specified in a YAML config                                                                               
                            aws_ec2             EC2 inventory source                                                                                                                            
                            aws_rds             rds instance source                                                                                                                             
                            azure_rm            Azure Resource Manager inventory plugin                                                                                                         
                            cloudscale          cloudscale.ch inventory source                                                                                                                  
                            constructed         Uses Jinja2 to construct vars and groups based on existing inventory                                                                            
                            docker_machine      Docker Machine inventory source                                                                                                                 
                            docker_swarm        Ansible dynamic inventory plugin for Docker swarm nodes                                                                                         
                            foreman             foreman inventory source                                                                                                                        
                            gcp_compute         Google Cloud Compute Engine inventory source                                                                                                    
                            generator           Uses Jinja2 to construct hosts and groups from patterns                                                                                         
                            gitlab_runners      Ansible dynamic inventory plugin for GitLab runners                                                                                             
                            hcloud              Ansible dynamic inventory plugin for the Hetzner Cloud                                                                                          
                            host_list           Parses a 'host list' string                                                                                                                     
                            ini                 Uses an Ansible INI file as inventory source                                                                                                    
                            k8s                 Kubernetes (K8s) inventory source                                                                                                               
                            kubevirt            KubeVirt inventory source                                                                                                                       
                            linode              Ansible dynamic inventory plugin for Linode                                                                                                     
                            netbox              NetBox inventory source                                                                                                                         
                            nmap                Uses nmap to find hosts to target                                                                                                               
                            online              Online inventory source                                                                                                                         
                            openshift           OpenShift inventory source                                                                                                                      
                            openstack           OpenStack inventory source                                                                                                                      
                            scaleway            Scaleway inventory source                                                                                                                       
                            script              Executes an inventory script that returns JSON                                                                                                  
                            toml                Uses a specific TOML file as an inventory source                                                                                                
                            tower               Ansible dynamic inventory plugin for Ansible Tower                                                                                              
                            virtualbox          virtualbox inventory source                                                                                                                     
                            vmware_vm_inventory VMware Guest inventory source                                                                                                                   
                            vultr               Vultr inventory source                                                                                                                          
                            yaml                Uses a specific YAML file as an inventory source                                                                                                
                    constructed: #keyword: Ansible constructed inventory,  constructed  #// Jinja2 ã‚’ä½¿ã£ã¦ã€æ—¢å­˜ã®ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã«åŸºã¥ã„ã¦å¤‰æ•°ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
                        #ref: https://docs.ansible.com/ansible/2.9_ja/plugins/inventory/constructed.html  #template: __DocumentVersion__
                        é–¢é€£ >> ãƒ›ã‚¹ãƒˆåã®ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®š:  #search: Ansible host pattern
                        æ‰‹é †, ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                                ansible.cfg: |
                                    [inventory]
                                    enable_plugins = __OtherPlugIns__, constructed
                                inventory.config,  ____.config:
                                    ...  #search: constructed.yml
                            ãƒ›ã‚¹ãƒˆåã®ãƒ‘ã‚¿ãƒ¼ãƒ³:  inventory_hostname.startswith('__Prefix__')  #search: Ansible constructed expression
                            And æ¡ä»¶: "'web' in group_names  and  site == 'tokyo'"  #search: Ansible constructed example compose groups
                            å€¤ã‚’ç¢ºèªã—ã¾ã™:  #search: Ansible constructed hosts
                        ãƒ•ã‚¡ã‚¤ãƒ«:  #// å¤‰æ•°ã¨ ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— å ã‚’å®šç¾©ã—ã¾ã™
                            inventory.config,  ____.config : #keyword: constructed.yml  #// ä¸€èˆ¬çš„ã«ã¯ constructed.yml ã¨ã„ã†åå‰ãŒä½¿ã‚ã‚Œã‚‹ã‚‰ã—ã„ï¼Ÿ
                                #â†“YAML ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
                                plugin: constructed  #// å›ºå®š
                                compose, å¤‰æ•°: #keyword: Ansible constructed compose  #// å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™
                                    __VariableName__: __Value__  #search: Ansible constructed expression
                                    #// compose ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’ compose ã®ä¸­ã§å‚ç…§ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“
                                groups, ãƒ›ã‚¹ãƒˆä¸€è¦§: #keyword: Ansible constructed groups  #// ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®šç¾©ã—ã¾ã™
                                    å®šç¾© >> æ›¸å¼: |
                                            __GroupName__: __TrueOrFalse__  #search: Ansible constructed expression
                                        #// __TrueOrFalse__ ã®éƒ¨åˆ†ãŒçœŸã«åˆ¤å®šã•ã‚Œã‚‹å ´åˆã®ã¿ inventory_hostname å¤‰æ•°ã®ãƒ›ã‚¹ãƒˆåãŒ __GroupName__ ã«æ‰€å±ã—ã¾ã™
                                        #// __GroupName__ ã¯ playbook.yml ã® hosts ãªã©ã«æŒ‡å®šã—ã¾ã™
                                        #// â—æ³¨æ„: æœ€æ–° Ansible ã§ã¯ __GroupName__ ã®æ–‡å­—ã«ãƒã‚¤ãƒ•ãƒ³ã¯ä½¿ãˆã¾ã›ã‚“  #search: Ansible constructed hyphen
                                    å‚ç…§:
                                        hosts:  #// Playbook ãƒ•ã‚¡ã‚¤ãƒ« ã® hosts
                                            - __GroupName__
                                        Jinja2 ã‚¿ã‚°: |
                                            - {{ groups['__GroupName__'] }}
                                            - {{ groups['__GroupName__'] }} | first
                                keyed_groups: #keyword: Ansible constructed keyed_groups
                                    ã‚µãƒ³ãƒ—ãƒ«: |
                                        plugin: constructed
                                        keyed_groups:  #// ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— å ã‚’å®šç¾©ã—ã¾ã™
                                            #// ä»¥ä¸‹ã¯ã€ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— å ãŒ env1___Env2Value__ ã«ãªã‚Šã¾ã™ã€‚env2 ã®å€¤ãŒ main ãªã‚‰ã€env1_main ã¨ã„ã† ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ãŒä½œã‚‰ã‚Œã¾ã™
                                            -   prefix: env1    #// ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— å ã®æ¥é ­è¾ã‚’æŒ‡å®šã—ã¾ã™ã€‚
                                                key: env2       #// ãƒ›ã‚¹ãƒˆå¤‰æ•°ã®åå‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚
                            __Value__ ã‚„ __TrueOrFalse__ ã®éƒ¨åˆ†ã®æ›¸å¼:  #keyword: Ansible constructed expression
                                å€¤ã®ã‚µãƒ³ãƒ—ãƒ«:
                                    -   inventory_hostname.startswith('__Prefix__')
                                    -   inventory_hostname | regex_search('__RegularExpression__')     #// | ã®å‰å¾Œã«ç©ºç™½ç½®ã‘ãªã„ã‹ã‚‚ï¼Ÿ
                                    -   "'__Part__' in inventory_hostname  or  '__Part2__' in inventory_hostname"
                                    -   "'web' in group_names  and  'tokyo' in group_names"
                                    -   "'tokyo' if '120' in inventory_hostname else 'osaka'"
                                YAML ã®ã‚µãƒ³ãƒ—ãƒ« A:
                                    groups:  #// ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãƒãƒƒãƒã™ã‚‹ãƒ›ã‚¹ãƒˆã‚’ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã«è¨­å®šã—ã¾ã™
                                        db_hosts: inventory_hostname.startswith('db')   #// db_____ ã«ãƒãƒƒãƒ
                                        main_hosts: inventory_hostname|regex_search('app.*1-.*')     #// app___1__ ã«ãƒãƒƒãƒ
                                        other_hosts:  inventory_hostname|regex_search('app.*[^1]-.*')  #// app___2__ ãªã©ã«ãƒãƒƒãƒ
                                YAML ã®ã‚µãƒ³ãƒ—ãƒ« B: #keyword: Ansible constructed example compose groups
                                    #focus: site
                                    compose:
                                        site: "'tokyo' if '120' in inventory_hostname else 'osaka'"
                                    groups:
                                        tokyo: "site == 'tokyo'"
                                        osaka: "site == 'osaka'"
                                        web_tokyo: "'web' in group_names  and  site == 'tokyo'"
                                        dbx_osaka: "'dbx' in group_names  and  site == 'osaka'"
                            ç¢ºèªæ–¹æ³•: #keyword: Ansible constructed hosts   #// æ­£è¦è¡¨ç¾ãªã©ã«ãƒãƒƒãƒã—ãŸãƒ›ã‚¹ãƒˆåã‚’ä¸€è¦§ã—ã¾ã™
                                ansible -i __InventoryFilePath__ __GroupName__ --list-hosts
                                #search: Ansible evaluated host names
                        å¤‰æ•°:
                            inventory_hostname:
                            group_names:
                        ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (constructed):
                            - #// skipping: no hosts matched  #keyword: Ansible constructed hyphen
                                æ‰‹é †: ansible-playbook ã§ãƒ‡ãƒ—ãƒ­ã‚¤
                                ã‚¨ãƒ©ãƒ¼: |
                                    skipping: no hosts matched
                                å¯¾å‡¦:
                                    æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Ansible ã§ã¯ constructed ã® inventory.config ã® group ã§å®šç¾©ã™ã‚‹åå‰ã«ãƒã‚¤ãƒ•ãƒ³ã‚’ä½¿ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
                                    #search: Ansible constructed groupss
                                å¯¾å¿œçŠ¶æ³:
                                    NG: ansible-playbook 2.9.27
                                    OK: ansible-playbook 2.7.10
                ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: #keyword: Ansible filter plug in
                    #search: Ansible filter
                ä»–ã‚‚ã‚ã‚Šã¾ã™:
            ã‚«ã‚¹ã‚¿ãƒ  ãƒ—ãƒ©ã‚°ã‚¤ãƒ³: #keyword: Ansible custom plug in
                ã‚«ã‚¹ã‚¿ãƒ  vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:
                    #search: Ansible vars plug in type
                ã‚«ã‚¹ã‚¿ãƒ  ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #search: Ansible custom filter plug in
                _display (print ç›¸å½“):  #keyword: Ansible _display,  Ansible plug in -vvv print  #// -v ï½ -vvv ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«å¿œã˜ãŸè¡¨ç¤º
                    æ¦‚è¦ã‚³ãƒ¼ãƒ‰: |  #focus: _display
                        class VarsModule(BaseVarsPlugin):
                            def method(self):
                                self._display.vvv("Found vars dir %s" % d)
                                self._display.error(ex)
            ãƒ•ã‚¡ã‚¤ãƒ«: #keyword: Ansible plug in files
                å ´æ‰€:  #// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç½®ã„ã¦ã‚ã‚‹å ´æ‰€
                    lookup ãƒ—ãƒ©ã‚°ã‚¤ãƒ³: #search: ansible.cfg  lookup_plugins
                    filter ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #search: ansible.cfg  filter_plugins
                è¦‹ã¤ã‹ã‚‰ãªã„ã¨ã:  #search: Ansible no filter named trouble
            ã‚³ãƒ¼ãƒ‰:
                Ansible æ¨™æº–:
                    callback ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:
                        - __AnsibleVenv__/lib/python____/site-packages/ansible/plugins/callback/default.py ãªã©
                        - /usr/lib/python____/site-packages/ansible/plugins/callback/default.py ãªã©
                ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‡ãƒãƒƒã‚°:  #keyword: Ansible plug in debug
                    vars ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:
                        _display ãŒä½¿ãˆã¾ã™: |  #// æœªç¢ºèª
                            class VarsModule(BaseVarsPlugin):
                                def __init__(self):
                                    super(VarsModule, self).__init__()
                                    self._display.error(ex)
                    ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:
                        debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã‹ã‚‰ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’å‘¼ã³å‡ºã—ã¾ã™:  #search: Ansible debug
                            playbook ã«ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã¾ã™: |
                                -   name: filter plug in debug print
                                    debug: 'msg="{{ "example" | my_filter }}"'
                                    failed_when: true
                        ã§ãã‚‹ã“ã¨:
                            - è¿”ã‚Šå€¤ã®è¡¨ç¤º
                            - ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã¨ãã®ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®è¡¨ç¤º
                        ã§ããªã„ã“ã¨:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: ansible plug in debug
                            Python ã‚³ãƒ¼ãƒ‰ã§ã®ä»¥ä¸‹:
                                pdb
                                print
                                logger
        Molecule: #keyword: Ansible Molecule  #// Ansible Roleã®ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«
            æ³¨æ„ç‚¹: molecule ã¯å°‚ç”¨ã®ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ä½¿ã†ãŸã‚ã€ä½œæˆã—ãŸ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã«å•é¡ŒãŒã‚ã£ã¦ã‚‚æ°—ã¥ã‘ã¾ã›ã‚“ã€‚
                ãƒ†ã‚¹ãƒˆãŒä¸­é€”åŠç«¯ã§ã‚ã‚‹ãŸã‚ã€VirtualBox ãªã©ã§ä½œã£ãŸ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰ ã§å®Ÿéš›ã«å‹•ä½œã•ã›ã‚‹ã»ã†ãŒã‚ˆã„
            Lint: PlaybookãŒYAMLã®æ–‡æ³•ã«å¾“ã£ã¦ã„ã‚‹ã‹
            Provision: 2å›ç›®ã®å®Ÿè¡Œã§ä¸è¦ãªå¤‰æ›´ãŒå…¥ã‚‰ãªã„ã‹
            Verify: åˆ¥ã®ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ä½œã£ãŸç’°å¢ƒã‚’ãƒ†ã‚¹ãƒˆã€‚åˆ¥é€”ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            #ref: https://qiita.com/satken2/items/d631ee5820597609a467
        Galaxy:  #// ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ãŒé–‹ç™ºã—ãŸãƒ­ãƒ¼ãƒ«ã®æ¤œç´¢ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€å…±æœ‰  #keyword: ansible Galaxy
            https://docs.ansible.com/ansible/2.9_ja/galaxy/user_guide.html  #template: __DocumentVersion__
    ãƒ•ã‚¡ã‚¤ãƒ«: #keyword: Ansible files  #// playbook.yml
        ï¼ˆæ§‹æˆä¾‹ï¼‰:
            - __Project__/group_vars/
            - __Project__/group_vars/all/____.yml  #search: Ansible group_vars/all.yml
            - __Project__/group_vars/__GroupName__/____.yml
            - __Project__/hosts/              #search: ansible inventory file
            - __Project__/hosts/__GroupName__/
            - __Project__/playbooks/____.yml  #search: ansible playbook
            - __Project__/plugin/             #search: Ansible plug in files
            - __Project__/roles/              #search: Ansible roles folders
            - __Project__/roles/handlers  #// æœ€å¾Œã®å†èµ·å‹•ãªã©
            - __Project__/roles/meta      #// ä¾å­˜ã™ã‚‹ãƒ­ãƒ¼ãƒ«ãªã©
            - __Project__/roles/tasks     #// ãƒ¡ã‚¤ãƒ³å‡¦ç†
            - __Project__/roles/template  #// ãƒ•ã‚¡ã‚¤ãƒ«
            - __Project__/roles/vars      #// å¤‰æ•°
            - __Project__/ansible.cfg         #search: ansible.cfg
        Playbook ãƒ•ã‚¡ã‚¤ãƒ«(*.yml):  #keyword: ansible playbook, Playbook ãƒ•ã‚¡ã‚¤ãƒ«, Playbook.yml, Playbook.yaml, __Playbook__.yml
            å‚è€ƒ:
                - https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks.html  #template: __DocumentVersion__
                - https://www.vagrantup.com/docs/provisioning/ansible_intro
            ç‰¹æ®Šè¨˜å·ï¼ˆPlaybook ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰:
                "{{ }}": å¤‰æ•°å‚ç…§ã€‚ vars ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™ #search: ansible vars
            å®Ÿè¡Œã™ã‚‹: #keyword: Ansible å®Ÿè¡Œ
                ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼:  #search: Ansible ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒŠãƒ¼
                å®Ÿè¡Œé †åº:  #search: Ansible å®Ÿè¡Œé †åº
                ä¾å­˜é–¢ä¿‚:  #search: Ansible dependencies
                ãƒãƒ³ãƒ‰ãƒ©ãƒ¼:  #search: Ansible role handlers
            ã‚µãƒ³ãƒ—ãƒ«ã¨èª¬æ˜:
                ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/
                åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«: | #keyword: Ansible playbook-0.yml  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/playbook-0.yml
                    -   hosts: __ServerName__
                        tasks:
                            -   name: Hello Ansible!
                                debug:
                                    msg: Hello Ansible!
                ãã®ä»–ã®ã‚µãƒ³ãƒ—ãƒ«: |  #keyword: playbook1.yml  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#playbook-basics  #template: __DocumentVersion__
                    ---
                    -   hosts: all                     #search: ansible hosts
                        remote_user: root
                        become: yes                    #search: ansible become
                        tasks:         #// ãƒ—ãƒ¬ã‚¤ã¯ã€ã‚¿ã‚¹ã‚¯ã¨åŒæ§˜ã«ã€ Playbook ã§æŒ‡å®šã•ã‚ŒãŸé †åºã§ä¸Šã‹ã‚‰ä¸‹ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                            -   name: ensure ntpd is at the latest version        #search: ansible task name
                                yum: pkg=ntp state=latest                         #search: ansible yum
                    -   import_playbook: __RelativePath__                         #search: ansible import_playbook
            æš—å·åŒ–ã™ã‚‹ï¼ˆPlaybook ãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã‚’ï¼‰:  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/vault.html  #template: __DocumentVersion__
            hosts: #keyword: ansible hosts  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°å…ˆã®ã‚µãƒ¼ãƒãƒ¼åã€ã¾ãŸã¯ã‚µãƒ¼ãƒãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—å
                å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#playbook-hosts-and-users  #template: __DocumentVersion__
                    #see-above: playbook1_yml
                all: ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ã™ã¹ã¦ã®ã‚µãƒ¼ãƒãƒ¼
                __GroupName__:
                    - ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã«å®šç¾©ãŒã‚ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—å  #search: Ansible inventory group
                    - constructed ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® .config ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ãŒã‚ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—å  #search: Ansible constructed plug in
                __HostName__:  ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ« ã«å®šç¾©ãŒã‚ã‚‹ãƒ›ã‚¹ãƒˆå    #search: Ansible inventory host
                __CSV__: hosts ã«ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—åã‚„ãƒ›ã‚¹ãƒˆåã‚’æŒ‡å®šã§ãã¾ã™
                    inventory_hostname å¤‰æ•°ã§ãƒ›ã‚¹ãƒˆåã‚’å–å¾—ã§ãã¾ã™
                    ä¸¦åˆ—ã«å®Ÿè¡Œã—ã¾ã™
                ãƒ›ã‚¹ãƒˆA â‡’ ãƒ›ã‚¹ãƒˆB â‡’ ãƒ›ã‚¹ãƒˆA ã®é †ã§å®Ÿè¡Œã™ã‚‹ã¨ã:  #keyword: Ansible host interaction
                    å˜ç´”ãªã‚±ãƒ¼ã‚¹:
                        -   hosts: hostA
                            tasks:
                                - debug: msg="hostA 1"

                        -   hosts: hostB
                            tasks:
                                - debug: msg="hostB 1"

                        -   hosts: hostA
                            tasks:
                                - debug: msg="hostA 2"
                    ãƒ­ãƒ¼ãƒ«ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹:
                        Playbook.yml:

                            -   hosts: hostA
                                vars:
                                    interaction_step: 1
                                tasks:
                                    - debug: msg="hostA 1"
                                    - import_role: name="interaction"

                            -   hosts: hostB
                                tasks:
                                    - debug: msg="hostB 1"

                            -   hosts: hostA
                                vars:
                                    interaction_step: 2
                                tasks:
                                    - debug: msg="hostA 2"
                                    - import_role: name="interaction"

                        roles/interaction/tasks/main.yml:

                            -   import_tasks: ./step1.yml
                                when: interaction_step == 1

                            # do the task in related hosts

                            -   import_tasks: ./step2.yml
                                when: interaction_step == 2

                        roles/interaction/tasks/step1.yml:
                            -   name: task step 1
                                debug: msg="task step 1"

                        roles/interaction/tasks/step2.yml:
                            -   name: task step 2
                                debug: msg="task step 2"
                ãƒ›ã‚¹ãƒˆåã‚’å‚ç…§ã—ã¾ã™:  #// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰
                    "{{ inventory_hostname }}"  #search: inventory_hostname
                ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ, å§”ä»» >> local_action: #keyword: local_action
                    #ref: https://stackoverflow.com/questions/56048959/ansible-local-action-example-how-does-it-work
                    #ref: https://docs.ansible.com/ansible/latest/user_guide/playbooks_delegation.html
                é–¢é€£:
                    ãƒ›ã‚¹ãƒˆ:  #search: ansible inventory host
                    ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ãƒ•ã‚¡ã‚¤ãƒ«:  #search: Ansible inventory file
                    --connection=local ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #search: ansible-playbook --connection=local
            become é–¢é€£:  #// æ¨©é™æ˜‡æ ¼ã€‚ãƒ—ãƒ¬ã‚¤å…¨ä½“ã§ã¯ãªãç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚  #keyword: ansible become,  Ansible sudo
                ã‚µãƒ³ãƒ—ãƒ«1.yml:
                    -   tasks:  #// roles/__RoleName__/tasks/____.yml ã§ã¯ tasks ã®è¡Œã¯ä¸è¦
                        -   name: install MySQL RPM package for CentOS7
                            become: yes
                            yum:
                                pkg: https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
                                state: present
                become:  #// æ¨©é™æ˜‡æ ¼ã€‚ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ ã®ä¸­ã§æ¨©é™æ˜‡æ ¼ã—ã¾ã™
                    å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/become.html  #template: __DocumentVersion__
                        #see-above: playbook1_yml
                    yes: æ¨©é™æ˜‡æ ¼ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã—ã¾ã™
                become_user:  #// æ¨©é™æ˜‡æ ¼æ™‚ã®ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã®ãƒ¦ãƒ¼ã‚¶ï¼å
                    ã“ã‚Œã‚’çœç•¥ã™ã‚‹ã¨ root ã‚’æŒ‡å®šã—ãŸã¨ãã¨åŒã˜å‡¦ç†ã‚’ã—ã¾ã™ã€‚
                    Ansible ã‚’å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã™ã‚‹ã¨ãã¯ã€"{{ lookup('env','USER') }}"
                    æ¨©é™æ˜‡æ ¼ã™ã‚‹ã¨ãã¯ã€become ã‚‚ yes ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€
                    become_user ã‚‚æŒ‡å®šã™ã‚‹ã¨æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œã™ã‚‹ã ã‘ã§æ˜‡æ ¼ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                    ä»£ã‚ã‚Šã«ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚„ãƒªãƒ³ã‚¯ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ 755 ã‚„ 777 ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚
                ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã«æŒ‡å®šã™ã‚‹å ´åˆ: #search: ansible-playbook become option
            tasks:  #// ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚„ã€ã‚²ã‚¹ãƒˆ ãƒã‚·ãƒ¼ãƒ³ã«æœŸå¾…ã™ã‚‹çŠ¶æ…‹  #keyword: ansible tasks in Playbook.yaml
                #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ãŸãƒ­ã‚°ã‹ã‚‰ã‚¿ã‚¹ã‚¯ã®å†…å®¹ï¼ˆã“ã“ï¼‰ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã¯ã€name: __TaskName__ ã§ grep ã—ã¾ã™
                ã‚µãƒ³ãƒ—ãƒ«: |  #see-below: å€¤ã«è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å ´åˆ
                    -   tasks:
                        -   name: template configuration file
                            template:
                                src: template.j2
                                dest: /etc/foo.conf
                name ãƒˆãƒ”ãƒƒã‚¯:  #// ã‚¿ã‚¹ã‚¯å  #search: ansible task name
                    æ¦‚è¦:
                        - name ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å€¤ã¯ãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚å°‘ã—è‡ªç„¶è¨€èªé¢¨ã«æ›¸ãã¾ã™
                        - name ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å€¤ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã‚’ã™ã‚‹ã¨ãã« nofity ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å€¤ã«æŒ‡å®šã—ã¾ã™ã€‚ #search: Ansible notify
                __ModuleName__:  #// ä¸Šè¨˜ã® template  #ref: https://docs.ansible.com/ansible/2.9_ja/modules/__ModuleName___module.html  #see-below: ansible_module  #template: __DocumentVersion__
                    #// tasks ã®ç›´ä¸‹ã« __ModuleName__ ã‚’æ›¸ã‘ã‚‹ã“ã¨ã‚’ Action Shorthand ã¨å‘¼ã³ã¾ã™  https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#action-shorthand  #template: __DocumentVersion__
                    åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰:  copy, shell, template, yum ãªã©  #search: ansible modules catalog
                environment ã‚»ã‚¯ã‚·ãƒ§ãƒ³:  #keyword: Ansible environment in server,  ansible environment  #// ã“ã®ã‚¿ã‚¹ã‚¯ã«é™ã‚Šãƒ›ã‚¹ãƒˆå†…ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™
                    #search: Ansible shell env
                    å‚è€ƒ:
                        - https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_environment.html  #template: __DocumentVersion__
                        - https://stackoverflow.com/questions/27733511/how-to-set-linux-environment-variables-with-ansible
                    ã‚µãƒ³ãƒ—ãƒ«:
                        -   hosts: all
                            remote_user: root
                            tasks:
                                -   name: Install cobbler
                                    package:
                                        name: cobbler
                                        state: present
                                    environment:                                         #// ã“ã“
                                        http_proxy: http://proxy.example.com:8080
                    â—æ³¨æ„: CLI ã‹ã‚‰å®Ÿè¡Œã™ã‚‹å ´åˆã¨ã€Ansible ã§å®Ÿè¡Œã™ã‚‹å ´åˆã§ã¯ç’°å¢ƒå¤‰æ•°ã¯ç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                        debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã§ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ç¢ºèªã—ã¦ãã ã•ã„  #search: Ansible debug
                    no_proxy ãªã©ã®è¨­å®š: #keyword: Ansible proxy,  Ansible http_proxy,  https_proxy,  no_proxy
                        1ã‹æ‰€ã«æ›¸ãå ´åˆ:  #// ãŸã¨ãˆã°ã€ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šã‚’ 1ã‹æ‰€ã«ã¾ã¨ã‚ã¦æ›¸ãå ´åˆ
                            #focus: proxy_env
                            tasks/main.yml: |
                                -   name: debug print              #// ãƒ‡ãƒãƒƒã‚°ã™ã‚‹å ´åˆã®ã¿æ›¸ãã¾ã™
                                    debug: msg="{{ proxy_env }}"   #// ãƒ‡ãƒãƒƒã‚°ã™ã‚‹å ´åˆã®ã¿æ›¸ãã¾ã™

                                -   name: install minio
                                    yum: name="minio"
                                    become: yes
                                    become_user: root
                                    environment: "{{ proxy_env }}"
                            group_vars/____/____.yml: |
                                proxy_env:
                                    http_proxy:  "http://{{ proxy_host }}:{{ proxy_port }}/"
                                    https_proxy: "http://{{ proxy_host }}:{{ proxy_port }}/"
                                    no_proxy: "____"
                        å˜ç´”ãªå®Ÿè£…ã®å ´åˆ: |
                            -   name: ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
                                shell: your_command
                                environment:
                                    no_proxy: "localhost,127.0.0.1,.example.com"
                                    http_proxy: "{{ http_proxy }}"
                                    https_proxy: "{{ https_proxy }}"
                    è¾æ›¸ã‚’æŒ‡å®šã—ãŸå ´åˆ:  #keyword: Ansible dictionary environment in server  #// è¾æ›¸ã‚’æŒ‡å®šã™ã‚‹ã¨ã€è¾æ›¸ã®å†…å®¹ãŒå±•é–‹ã•ã‚Œã¾ã™
                        ã‚³ãƒ¼ãƒ‰: |  #focus: second_vars,  variable1
                            vars:
                                first_variables:
                                    variable1: value1
                                    variable2: value2
                                second_vars: "{{ first_variables }}"
                            environment: "{{ second_vars }}"
                        åŒã˜å‹•ä½œã‚’ã™ã‚‹ã‚³ãƒ¼ãƒ‰: |
                            environment:
                                variable1: value1
                                variable2: value2
                    VM å†…ã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ç¶šã‘ã‚‹å ´åˆ:  #search: Ansible lineinfile module
                        lineinfile ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ /etc/profile (CentOS7) ãªã©ã‚’ç·¨é›†ã—ã¾ã™
                    import_tasks ã«ã¾ã¨ã‚ã¦å®šç¾©ã™ã‚‹å ´åˆ: |  #keyword: Ansible import_tasks environment  #search: ansible environment in server
                        -   name: ____
                            import_tasks: ____.yml
                            environment:
                                __Name__: __Value__
                    block ã§å®šç¾©ã™ã‚‹å ´åˆ: |  #focus: LD_LIBRARY_PATH   #// block å¿…è¦ãªã„ã‹ã‚‚
                        -   name: environment variabe example
                            block:
                                -   name: shell in environment variabe example
                                    become: yes
                                    become_user: root
                                    shell:
                                        cmd: "echo ${LD_LIBRARY_PATH}"
                            environment:
                                LD_LIBRARY_PATH: "/etc/lib"
                    ã‚³ãƒãƒ³ãƒ‰ã«åŸ‹ã‚è¾¼ã‚€å ´åˆ:
                        playbook.yml: |
                            -   name: ____
                                shell: __Name__="__Value__"  __Command__
                        å‚è€ƒ >> ã‚³ãƒãƒ³ãƒ‰ãŒé•·ã„ã¨ã, è¤‡æ•°è¡Œ:  #search: Ansible shell long command
                    env ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ ã¯æœªã‚µãƒãƒ¼ãƒˆ:
                        playbook.yml: |
                            -   name: ____
                                shell:
                                    cmd: __Command__
                                    env:
                                        __Name__: __Value__
                        ã‚¨ãƒ©ãƒ¼: |
                            Unsupported parameters for (command) module: env Supported parameters
                vars:  #// ï¼‘ã¤ã®ã‚¿ã‚¹ã‚¯ã®ä¸­ã‹ã‚‰ã ã‘å‚ç…§ã§ãã‚‹å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™  #keyword: Ansible tasks.vars
                    ã‚µãƒ³ãƒ—ãƒ« __Playbook__.yml:
                        tasks:
                            -   vars:
                                    __Name1__: __Value1__
                                    __Name2__: __Value2__
                                include_vars: "__FilePath__.yml"
                                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/role_example/vars/5_include_vars/playbook.yml#include_vars
                ignore_errors ã‚»ã‚¯ã‚·ãƒ§ãƒ³:  #// ã‚¿ã‚¹ã‚¯ãŒå¤±æ•—ã—ãŸã¨ã—ã¦ã‚‚ç„¡è¦–ã—ã¦ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æˆåŠŸã•ã›ã¾ã™  #keyword: ansible ignore_errors
                    yes: ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã‚‚ç„¡è¦–ã—ã¾ã™
                    ã‚¨ãƒ©ãƒ¼ã‹ã‚¨ãƒ©ãƒ¼ã§ãªã„ã‹ã§åˆ†å²:  #search: Ansible when ignore_errors
                failed_when: #keyword: Ansible failed_when  #// æ¡ä»¶ã«ã‚ˆã£ã¦ã¯ã‚¿ã‚¹ã‚¯ã‚’å¤±æ•—ã•ã›ã¾ã™
                    å¼•æ•°: å¤±æ•—ã™ã‚‹æ¡ä»¶
                    ï¼ˆé–¢é€£ï¼‰å®Ÿè¡Œçµæœã§ã¯ãªãå¤‰æ•°å€¤ã§åˆ¤å®šã™ã‚‹å ´åˆ: #search: Ansible fail when
                    ã‚µãƒ³ãƒ—ãƒ«: |
                        -   name: get root password
                            shell: grep "password" /var/log/mysqld.log | awk '{print $(NF)}'
                            register: result
                            failed_when: result.rc == 2  or  result.rc == 4  #// .rc = çµ‚äº†ã‚³ãƒ¼ãƒ‰
                    ãƒ—ãƒ¬ã‚¤ã‚’ä¸­æ­¢ã™ã‚‹å ´åˆ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_error_handling.html#id7  #template: __DocumentVersion__
                        #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã€ã¾ãŸã¯ä¸¡æ–¹
                        failed_when ã‚’ true ã«è¨­å®šã—ã¾ã™: |
                            #// å®Ÿè¡Œã—ãŸå¾Œã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                            -   name: temporary exit
                                debug: msg="temporary exit"
                                failed_when: true
                        any_errors_fatal ã‚’ true ã«è¨­å®šã—ã¾ã™: |  #focus: any_errors_fatal
                            -   hosts: all
                                tasks:
                                    -   name: Check IP address
                                        debug: var=hostvars[inventory_hostname].ansible_all_ipv4_addresses
                                        failed_when: g_host[inventory_hostname].ipv4.address != hostvars[inventory_hostname].ansible_all_ipv4_addresses[1]
                                any_errors_fatal: true
                    ãƒ‡ãƒãƒƒã‚°:
                        ã‚µãƒ³ãƒ—ãƒ«: |  #// failed_when ã«æŒ‡å®šã™ã‚‹æ¡ä»¶å¼ã‚’ debug msg ã® {{ }} ã®ä¸­ã«ã‚³ãƒ”ãƒšã—ã¦ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚æ›´ã«æ§‹æˆã™ã‚‹å¤‰æ•°ã®å€¤ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                            -   name: debug print 1
                                debug: msg="{{ result.rc == 2  or  result.rc == 4 }}"
                            -   name: debug print 2
                                debug: msg="{{ result.rc }}"
                                failed_when: true
                    ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³:  #// çµ‚äº†ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã‚„è¤‡åˆæ¡ä»¶
                        çµ‚äº†ã‚³ãƒ¼ãƒ‰: |  #focus: result
                            register: result  #search: Ansible register  #// åŒã˜ã‚¿ã‚¹ã‚¯å†…ã§ã§ãã‚‹ã‹æœªç¢ºèª
                            failed_when: result.rc == 2
                        ãƒ­ã‚°ã« error ãŒå«ã¾ã‚Œã¦ã„ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹å ´åˆ:  #search: Ansible error log check
                        stdout, stderr ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹:
                            å«ã¾ã‚Œã¦ã„ã‚‹ã¨ã: |  #focus: in
                                failed_when: "'FAILED' in __Register__.stdout"
                            å«ã¾ã‚Œã¦ã„ãªã„ã¨ã: |  #focus: not in
                                failed_when: "'FAILED' not in __Register__.stdout"
                        æ¼”ç®—å­:
                            ==, !=
                        and æ¡ä»¶:
                            failed_when:
                                - __Condition1__
                                - __Condition2__
                        or æ¡ä»¶:
                            1è¡Œã«æ›¸ãã¨ã:
                                failed_when: __Condition1__  or  __Condition2__
                            è¤‡æ•°è¡Œã«æ›¸ãã¨ã:
                                failed_when: >  #// ( ) ã„ã‚‹ï¼Ÿ
                                    (__Condition1__)  or
                                    (__Condition2__)
                    ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³:  #// å¤‰æ•°ã®å€¤ã‚’ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™:  #search: Ansible variable varidation
                    ã‚¨ãƒ©ãƒ¼ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å ´åˆ:  #search: Ansible fail
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_error_handling.html#controlling-what-defines-failure  #template: __DocumentVersion__
                    é–¢é€£:  #search: Ansible when
                register ã‚»ã‚¯ã‚·ãƒ§ãƒ³: #keyword: Ansible register  #// ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã«é–¢ã™ã‚‹æƒ…å ±ã‚’å¤‰æ•°ã«ä»£å…¥ã—ã¾ã™
                    ã‚µãƒ³ãƒ—ãƒ«:  #focus: result,  result.stdout
                        -   name: get root password
                            shell: grep "password" /var/log/mysqld.log | awk '{print $(NF)}'
                            register: result          #keyword: ansible result
                        -   name: print root password
                            debug: var=result.stdout  #// æ¨™æº–å‡ºåŠ›ã®å†…å®¹
                    ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:  #// register ã«æŒ‡å®šã—ãŸå¤‰æ•°ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
                        changed: #keyword: register Ansible changed  #// å¤‰æ›´ã®æœ‰ç„¡
                            å†…å®¹: ã‚¿ã‚¹ã‚¯ã«ã‚ˆã£ã¦å¯¾è±¡ãƒ›ã‚¹ãƒˆã«å¤‰åŒ–ãŒã‚ã£ãŸã‹ã©ã†ã‹  #search: Ansible å†ªç­‰æ€§
                            ã‚µãƒ³ãƒ—ãƒ« playbook.yml: |  #focus: register,  yum_result,  when,  changed
                                tasks:
                                    -   name: httpd ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                                        yum:
                                            name: httpd
                                            state: present
                                        register: yum_result

                                    -   name: çµæœã‚’è¡¨ç¤ºã—ã¾ã™
                                        debug:
                                            msg: "httpd ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚ï½ã‚’ã—ã¦ãã ã•ã„ã€‚"
                                        when: yum_result.changed
                            è¤‡æ•°æ¡ä»¶ã®ã‚µãƒ³ãƒ—ãƒ« playbook.yml: |  #focus: and,  restarted
                                tasks:
                                    -   name: httpd ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
                                        yum:
                                            name: httpd
                                            state: present
                                        register: yum_result

                                    -   name: /etc/httpd/conf/httpd.conf ã«è¨­å®šã‚’è¿½åŠ ã—ã¾ã™
                                        lineinfile:
                                            path: /etc/httpd/conf/httpd.conf
                                            line: 'ServerTokens Prod'
                                            state: present
                                        register: file_edit_result

                                    -   name: restarted.changed ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’è¨­å®šã—ã¾ã™
                                        set_fact:
                                            restarted: {changed: false}

                                    -   name: ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã—ã¾ã™
                                        become: true
                                        systemd:
                                            name: docker
                                            state: restarted
                                            daemon_reload: yes
                                            enabled: yes
                                        register: restarted
                                        when: yum_result.changed  and  file_edit_result.changed

                                    -   name: çµæœã‚’è¡¨ç¤ºã—ã¾ã™
                                        debug:
                                            msg: "httpd ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚ï½ã‚’ã—ã¦ãã ã•ã„ã€‚"
                                        when: restarted.changed
                            å†èµ·å‹•ã™ã‚‹ã‚¿ã‚¹ã‚¯ã® ãƒ™ã‚¹ãƒˆ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:  #search: Ansible restart task
                        json: #keyword: register Ansible json  #// HTTP ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® JSON
                            å†…å®¹: ansible uri ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® JSONã€‚
                            ã‚µãƒ³ãƒ—ãƒ« playbook.yml: |
                                -   name: Wait for status green
                                    uri:
                                        url: "http://node1:9200/_cluster/health/?level=shards&pretty"
                                        method: GET
                                    register: result
                                    until: "result.json.indices['logs-my_app-default'].status == 'green'"
                                    delay: 3
                                    retries: 100
                        content: #keyword: register Ansible content  #// HTTP ãƒ¬ã‚¹ãƒãƒ³ã‚¹å…¨ä½“ (?)
                            å†…å®¹: ansible uri ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å…¨ä½“ã®æ–‡å­—åˆ—(?)ã€‚
                                ãŸã ã—ã€return_content ãŒ yes ã§ãªã„ã¨ content ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚
                                content ã‹ã‚‰ JSON ã®ä¸­ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚
                                register ã«æŒ‡å®šã—ãŸå¤‰æ•°ãŒ result ã®å ´åˆã€
                            ã‚µãƒ³ãƒ—ãƒ« playbook.yml: |
                                -   name: Wait for status green
                                    uri:
                                        url: "http://node1:9200/_cluster/health/?level=shards&pretty"
                                        method: GET
                                        return_content: yes
                                    register: result
                                    until: "'green' in result.content"
                    ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã‚’èª¿ã¹ã‚‹: |  #focus: pyenv_versions  #keyword: Ansible grep
                        -   name: check if Python is installed for {{ user }}
                            become: true
                            become_user: "{{ user }}"
                            shell: pyenv versions | grep '{{ pythonVersion }}'  ||  true  #// true ãŒç„¡ã„ã¨è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã¨ãã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                            register: pyenv_versions

                        -   name: install Python for {{ user }}
                            become: true
                            become_user: "{{ user }}"
                            shell: pyenv install -v {{ pythonVersion }}
                            when: pyenv_versions.stdout == ""
                    ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã§å¤‰æ•°å®šç¾©ã™ã‚‹: #keyword: Ansible register cat
                        ã‚µãƒ³ãƒ—ãƒ«: |  #focus: result,  result.stdout
                            -   name: get unseal key 1
                                shell: cat  /home/user1/.secrets/vault_initial.log  |  grep  "Unseal Key 1:"  |  awk  '{print $NF}'
                                register: result
                            -   name: debug print
                                debug: msg="{{ result.stdout }}"
                        control ãƒãƒ¼ãƒ‰ å†… ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆ:  #search: Ansible lookup plug in type
                    å®Ÿè¡Œçµæœã«ã‚ˆã£ã¦ã¯å¤±æ•—ã•ã›ã‚‹å ´åˆ: #search: ansible failed_when
                    å®Ÿè¡ŒçµæœãŒæœŸå¾…å€¤ã«ãªã‚‹ã¾ã§å¾…ã¤: #search: ansible until
                until:  #// ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡ŒçµæœãŒæœŸå¾…å€¤ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™  #keyword: Ansible until
                    æ›¸å¼:
                        __Module__:
                            register: result
                            until: "'green' in result.content"
                            retries: 100
                    ã‚µãƒ³ãƒ—ãƒ«:
                        #search: ansible uri
                    ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³:  #// ä¸‹è¨˜ã®æ¡ä»¶ãŒçœŸã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™
                        æ¦‚è¦: Jinja2 ã®å¼ã§ã™
                        ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® JSON ã®ç‰¹å®šã®å€¤ãŒç­‰ã—ã„:
                            - "result.json.status == 'green'"  #// json ã‚„ status ãŒç„¡ã„ã¨ FAILED ã«ãªã‚Šã¾ã™
                            - "'json' in result  and  'status' in result.json  and  result.json.status == 'green'"  #// é•·ã„â€¦
                            - "result.json.status | default('') == 'green'"  #// json ã‚„ status ãŒç„¡ãã¦ã‚‚ FAILED ã«ãªã‚Šã¾ã›ã‚“  #search: Ansible no attribute
                            - "result.json.exitCode | default(99) == 0"  #// 0 == '0' ã¯å½ã¨åˆ¤å®šã•ã‚Œã¾ã™
                            - "result.json.indices['logs-my_app-default'].status == 'green'"  #// JavaScript ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã«ä½¿ãˆãªã„æ–‡å­—ãŒã‚ã‚‹å ´åˆ
                        ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® content ã®ã©ã“ã‹ã®å€¤ã«å«ã‚€: "'green' in result.content"  #focus: in
                        ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® content ã®ã©ã“ã‹ã®å€¤ã«å«ã¾ãªã„: "'green' not in result.content"  #focus: not in
                    result ã®å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                        -v ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                notify ã‚»ã‚¯ã‚·ãƒ§ãƒ³:  #// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰ ã«å¤‰åŒ–ãŒã‚ã£ãŸã¨ãã«é€šçŸ¥ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ  #search: Ansible notify
                    å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_intro.html#handlers  #template: __DocumentVersion__
                    å‹•ä½œåŸºæœ¬:
                        - ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ãƒãƒ¼ãƒ‰ ã«å¤‰åŒ–ãŒã‚ã£ãŸã¨ãã« handlersï¼ˆã®ã‚¿ã‚¹ã‚¯ï¼‰ã‚’å®Ÿè¡Œã—ã¾ã™
                        #search: Ansible role handlers
                    å‹•ä½œè©³ç´°:  #keyword: Ansible notify behavior
                        - å¤‰æ›´ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç­‰ï¼‰ãŒè¡Œã‚ã‚ŒãŸã¨ãã ã‘ handlers ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                            ãŸã¨ãˆã° yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«æŒ‡å®šã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã™ã§ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãŸã‚‰ handlers ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚
                            #search(ChatGPT3.5): Ansible ã® role ã‚’ä½¿ã‚ãªã„ã§ playbook ã«æ›¸ã‹ã‚ŒãŸ notify ã«ã‚ˆã‚‹é€šçŸ¥ã‚’å—ã‘ã‚‹ handlers ã¯ã©ã“ã«æ›¸ã‘ã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹
                        - ãƒ—ãƒ¬ã‚¤å†…ã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã§ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ã‚¿ã‚¹ã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
                        - notify ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é †ç•ªã§ã¯ãªãã€handlers ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã®é †ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
                        - ã‚¤ãƒ™ãƒ³ãƒˆåã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã™
                        - è¤‡æ•°ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ã¦ã‚‚ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã®ã¯ï¼‘å›ã ã‘ã§ã™
                        - | #// åŒã˜ listen ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã¨ã
                            ã™ã¹ã¦ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ roles/__FirstRole__/handlers/main.ymlï¼ˆãªã©ï¼Ÿï¼‰ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                        - | #// åŒã˜ name ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã
                            å…ˆã«å®Ÿè¡Œã™ã‚‹ãƒ­ãƒ¼ãƒ«ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ roles/__FirstRole__/handlers/main.yml ã ã‘æœ‰åŠ¹ã§ã™ã€‚
                                #// playbook.yml
                                roles:
                                    - __FirstRole__
                                    - __SecondRole__
                        - ãƒ›ã‚¹ãƒˆA â‡’ ãƒ›ã‚¹ãƒˆB â‡’ ãƒ›ã‚¹ãƒˆA ã®é †ã§å®Ÿè¡Œã™ã‚‹ã¨ã  #search: Ansible host interaction
                        #search: Ansible è¨­è¨ˆ
                    ãƒãƒ³ãƒ‰ãƒ©ãƒ¼:  #keyword: Ansible handlers
                        åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå ´åˆ:  #search: Ansible role handlers
                        åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå ´åˆ:  #search: Ansible notify to handlers.name
                    handlers.name ãŒå®šç¾©ã—ãŸã‚¿ã‚¹ã‚¯ã‚’ nofity ã‹ã‚‰èµ·å‹•ã™ã‚‹å ´åˆ: #keyword: Ansible notify to handlers.name
                        #focus: restart memcached
                        -   tasks:
                            -   name: template configuration file
                                template:
                                    src: template.j2
                                    dest: /etc/foo.conf
                                notify:
                                    - restart memcached
                                    - restart apache
                        -   handlers:
                            -   name: restart memcached
                                __ModuleName__: ____
                            -   name: restart apache
                                __ModuleName__: ____
                    notify ãŒå®šç¾©ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’ã€handlers.listen ãŒå¿œç­”ã™ã‚‹å ´åˆ: #keyword: Ansible notify to handlers.listen
                        #focus: template configuration file updated
                        -   tasks:
                            -   name: template configuration file
                                template:
                                    src: template.j2
                                    dest: /etc/foo.conf
                                notify:
                                    - template configuration file updated  #// 0å€‹ä»¥ä¸Šã®ã‚¤ãƒ™ãƒ³ãƒˆ ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒèµ·å‹•ã—ã¾ã™
                        -   handlers:
                            -   name: ____
                                listen: template configuration file updated
                                __ModuleName__: ____
                tags ã‚»ã‚¯ã‚·ãƒ§ãƒ³:  #search: Ansible tags
                when: #keyword: Ansible when,  Ansible conditions
                    æ¦‚è¦: ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã—ã¾ã™
                    å…¬å¼: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_conditionals.html  #template: __DocumentVersion__
                    åŸºæœ¬:
                        ã‚µãƒ³ãƒ—ãƒ« ã‚³ãƒ¼ãƒ‰ playbook.yml:
                            tasks:
                                -   name: ____
                                    shell: __Command__  #// when ã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ãã ã‘ shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã¾ã™
                                    when: __VariableName__ == __Value__  #// when ã¯ shell ã®ä¸Šã§ã‚‚ä¸‹ã§ã‚‚å‹•ãã¯å¤‰ã‚ã‚Šã¾ã›ã‚“
                                        #search: Ansible conditions
                    èµ·å‹•æ™‚ã«åˆ†å²å…ˆã‚’æŒ‡å®šã™ã‚‹å ´åˆ: #keyword: Ansible when --extra-vars  #// ansible-playbook ã‚³ãƒãƒ³ãƒ‰èµ·å‹•æ™‚ã«æŒ‡å®šã—ãŸå¤‰æ•°ã®å€¤ã«ã‚ˆã£ã¦åˆ†å²ã—ã¾ã™
                        #focus: target
                        ã‚µãƒ³ãƒ—ãƒ« ã‚³ãƒ¼ãƒ‰ playbook.yml:
                            tasks:
                                -   name: Check target variable specified by ansible-playbook command    #keyword: Ansible variable varidation
                                    debug: var=target
                                    failed_when: target != 'local'  and  target != 'server'

                                -   name: ____
                                    shell: __Command__
                                    when: target == 'local'  #// target ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨ __Command__ å®Ÿè¡Œå‰ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                        ã‚³ãƒãƒ³ãƒ‰:
                            - ansible-playbook  __PlayBook__.yml  -i __InventoryFile__  --extra-vars 'target=local'  --check  #// dry run
                        ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆ: #keyword: Ansible uninstall services
                            â—æ³¨æ„: é–“é•ãˆã¦ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„ã‚ˆã†ã«ã€ç‰¹æ®Šãªç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã„ãªã„ã¨å®Ÿè¡Œã§ããªã„ã‚ˆã†ã«ã—ã¾ã™
                            playbook.yml:
                                when: confirm == 'remove-__Service__'
                            ansible-playbook ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                                --extra-vars 'confirm=remove-__Service__'
                    ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã«ã‚ˆã‚‹åˆ†å²: #keyword: Ansible when ignore_errors
                        ã‚µãƒ³ãƒ—ãƒ« ã‚³ãƒ¼ãƒ‰ playbook.yml:
                            tasks:
                                -   command: git --version
                                    register: install_check
                                    ignore_errors: True

                                -   when: install_check is failed
                                    command: /bin/something

                                -   when: install_check is succeeded
                                    command: /bin/something_else

                                -   when: install_check is skipped
                                    command: /bin/still/something_else
                    ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®æœ‰ç„¡ã«ã‚ˆã‚‹åˆ†å²:  #search: Ansible stat exists
                    ãƒ«ãƒ¼ãƒ—ã®ä¸­ã®æ¡ä»¶: #keyword: Ansible loop conditions
                        æ¡ä»¶ã®ã‚µãƒ³ãƒ—ãƒ«:
                            - ==, !=, <, >, <=, >=, and, or, in, not in  #// Python (?)
                            - inventory_hostname != 'db1'
                            - ansible_facts['os_family'] == "Debian"
                            - ansible_facts['lsb']['major_release']|int >= 6
                            - true or "yes"|bool
                            - not __VariableName__
                            - __VariableName__ is defined
                            - __VariableName__ is undefined
                            - ( ansible_facts[â€˜distributionâ€™] == "CentOS"  and
                                ansible_facts[â€˜distribution_major_versionâ€™] == "6" ) or (____)
                        åˆ—æŒ™ã™ã‚‹ï¼ˆé…åˆ—ã‚’æŒ‡å®šã™ã‚‹ï¼‰ã¨ and æ¡ä»¶ã«ãªã‚Šã¾ã™:
                        æ¡ä»¶ã‚’æº€ãŸã™ item ã®ã¿å®Ÿè¡Œã—ã¾ã™:
                            tasks:
                                -   name: ____
                                    loop: [ 0, 2, 4, 6, 8, 10 ]
                                    when: item > 5  #// 6, 8, 10 ã®ã¨ãã ã‘å®Ÿè¡Œã—ã¾ã™
                                    command: echo {{ item }}
                        ï¼‘ã¤ã§ã‚‚æº€ãŸã•ãªã„ã¨ãã¯å®Ÿè¡Œã—ã¾ã›ã‚“:
                            åŸºæœ¬:
                                tasks:
                                    -   name: ____
                                        loop: "{{ mylist|default([]) }}"
                                        when: item > 5
                                        command: echo {{ item }}
                            item ãŒè¾æ›¸ã®ã¨ã:
                                tasks:
                                    -   name: ____
                                        loop: "{{ query('dict', mydict|default({})) }}"
                                        when: item.value > 5
                                        command: echo {{ item }}
                    ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ã« when ã‚’æŒ‡å®šã—ãŸã¨ã:
                        #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_conditionals.html#applying-when-to-roles-imports-and-includes  #template: __DocumentVersion__
                        -   when: "'reticulating splines' in output"
                            import_tasks: tasks/sometasks.yml
                    ç„¡æ¡ä»¶ã«ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™: #keyword: Ansible skip
                        ã‚µãƒ³ãƒ—ãƒ« ã‚³ãƒ¼ãƒ‰:
                            when: false  #// name ã¨åŒã˜ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®æ·±ã•ã«æ›¸ãã¾ã™
                        "tags: never ã¨ã®é•ã„":  #keyword: Ansible when false vs tags never
                            - when: false ã¯ã‚¹ã‚­ãƒƒãƒ—ã€‚ãƒ­ã‚°è¡¨ç¤ºã‚ã‚Š  #// ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã¨ãã€ä¸€æ™‚åœæ­¢ã‚ã‚Š
                            - tags: never ã‚‚ã‚¹ã‚­ãƒƒãƒ—ã€‚ãƒ­ã‚°è¡¨ç¤ºç„¡ã—  #// ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã¨ãã€ä¸€æ™‚åœæ­¢ãªã—
                                #search: Ansible tags never
                    ã‚¹ã‚­ãƒƒãƒ—ã®è­¦å‘Šè¡¨ç¤ºã‚’ç„¡ãã—ã¾ã™: #keyword: Ansible disable warning,  don't show hide
                        ANSIBLE_DISPLAY_SKIPPED_HOSTS=False  ansible-playbook  ____
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/single_vm_ansible/GoCD/run-playbook.sh#ANSIBLE_DISPLAY_SKIPPED_HOSTS
                        #ref: https://stackoverflow.com/questions/39189549/how-can-i-hide-skipped-tasks-output-in-ansible
                    ãƒ­ãƒ¼ãƒ«ã®ãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã®åˆ†å²: #search: ansible roles design
                    é–¢é€£:
                        æ¡ä»¶ã«ã‚ˆã£ã¦ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹å ´åˆ:  #search: Ansible failed_when
                        å¤‰æ•°ã«ã‚ˆã£ã¦å€¤ã‚’å¤‰ãˆã‚‹å ´åˆ:  #search: Ansible vars condition
                loop:  #// for æ–‡ã®ã‚ˆã†ã«ã‚¿ã‚¹ã‚¯ã‚’ç¹°ã‚Šè¿”ã—å®šç¾©ã—ã¾ã™  #keyword: ansible loop, ansible item
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_loops.html  #template: __DocumentVersion__
                    delegate_to >> __Playbook__.yml ã®ã‚µãƒ³ãƒ—ãƒ«: |
                        ---
                        -   hosts: all
                            become: yes
                            gather_facts: False

                            tasks:
                                -   name: Copy file
                                    copy:
                                        src: /etc/ansible/qiita.txt
                                        dest: /tmp/dir
                                    delegate_to: "{{ item }}"
                                    loop: "{{ ['group1', 'group2'] }}"
                    __Playbook__.yml ã®ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                        #// group2 ã¯ã‚°ãƒ«ãƒ¼ãƒ—åã§ã™  #search: ansible groups
                        #// item ã¯ loop ã«æŒ‡å®šã—ãŸé…åˆ—ã®è¦ç´ ã§ã™
                        #// ä»¥ä¸Šã‹ã‚‰ã€ä¸Šè¨˜ Copy file ã‚¿ã‚¹ã‚¯ã¯ group2 ã«æ‰€å±ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã®ä¸­ã§ã‚³ãƒ”ãƒ¼ã‚’å®Ÿè¡Œã—ã¾ã™
                    ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ«ãƒ¼ãƒ—ã—ã¾ã™: #keyword: Ansible object loop
                        tasks:
                            -   name: ...
                                pip:
                                    name: "{{ item.name }}"
                                    version: "{{ item.version }}"
                                loop:
                                    - {name: 'dnspython', version: '1.16.0'}
                                    - {name: 'PyMySQL',   version: '0.10.1'}
                    ã‚­ãƒ¼ã§ãƒ«ãƒ¼ãƒ—ã—ã¾ã™: #keyword: Ansible key loop  #focus: item,  with_items
                        vars:
                            __DictionaryName__:
                                __Field1__: __Value1__
                                __Field2__: __Value2__
                        tasks:
                            -   name: ____
                                debug:
                                    msg: "{{ item }}: {{ __DictionaryName__[item] }}"  #// key: value å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                                with_items: "{{ __DictionaryName__.keys() }}"
                    å¤‰æ•°ã§ã¯ãªã„é…åˆ—ã‚’ãƒ«ãƒ¼ãƒ—ã—ã¾ã™:
                        -   name: loop example
                            debug: var={{ item.user }}
                            loop:
                                - { user: "sample1", password: "{{ test_password }}" }
                                - { user: "sample2", password: "{{ test_password }}" }
                    with_items ã¨ include_tasks ã®çµ„ã¿åˆã‚ã›:  #search: Ansible with_items include_tasks
                    block å…¨ä½“ã‚’ãƒ«ãƒ¼ãƒ—ã—ã¾ã™:
                        ã§ãã¾ã›ã‚“ã€‚åˆ¥ã® playbook ã‚’ãƒ«ãƒ¼ãƒ—ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã™: #keyword: Ansible block include
                            ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/variable_exapmle/include/playbook.yml#include: block.yml arguments=
                            __Playbook__.yml ã®ã‚µãƒ³ãƒ—ãƒ«: |  #focus: arguments
                                tasks:
                                    -   name: include_tasks loop
                                        include: block.yml arguments={{ item }}  #// block.yml ã®å³ã‚’ç©ºç™½ï¼’ã¤ã«ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                                        loop:
                                            -   property_1: Value_1_1
                                                property_2: Value_1_2

                                            -   property_1: Value_2_1
                                                property_2: Value_2_2
                            block.yml ã®ã‚µãƒ³ãƒ—ãƒ«: |
                                #// This file is included from playbook.yml

                                -   name: property_1
                                    debug:
                                        msg: "arguments.property_1: {{ arguments.property_1 }}"

                                -   name: property_2
                                    debug:
                                        msg: "arguments.property_2: {{ arguments.property_2 }}"
                        å‚è€ƒ:
                            Ansible blockå˜ä½ã§Loopã—ãŸã„ï¼ã§ã‚‚ã€å‡ºæ¥ãªã„ ã®ã§: #ref: https://qiita.com/tbuchi888/items/c03e7cbce8608b1c55f1
                loop_control:  #keyword: ansible loop_control  #// ãƒ«ãƒ¼ãƒ—ã«é–¢ã™ã‚‹è¨­å®š
                    loop_var:  #// ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®åå‰ã‚’å¤‰æ›´ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ item ã§ã™
                    #search: with_items
                with_items:  #keyword: ansible with_items  #// vars ã¨åŒæ§˜ã«å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™ãŒã€ãƒ«ãƒ¼ãƒ—å¤‰æ•°ãŒä½¿ãˆã¾ã™
                    #// loop ã¨ã»ã¼åŒã˜ã§ã™ã€‚ ãƒã‚¹ãƒˆã—ãŸé…åˆ—ãŒæŒ‡å®šã•ã‚ŒãŸã¨ãã¯ã€ãƒ•ãƒ©ãƒƒãƒˆã«å±•é–‹ã—ã¦ãƒ«ãƒ¼ãƒ—ã—ã¾ã™
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_loops.html#loop-with  #template: __DocumentVersion__
                    åŸºæœ¬:
                        #search: Ansible key loop
                        #snip:
                            ã‚µãƒ³ãƒ—ãƒ«:  #focus: item,  with_items
                                -   name: ____
                                    debug:
                                        msg: "{{ item }}: {{ __DictionaryName__[item] }}"  #// key: value å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                                    with_items: "{{ __DictionaryName__.keys() }}"
                    with_items ã¨ include_tasks ã®çµ„ã¿åˆã‚ã›ã®å ´åˆ:  #keyword: Ansible with_items include_tasks
                        -   name: ____
                            include_tasks: sub_task.yml  #// å¤‰æ•°ã«å…¥ã£ã¦ã„ã‚‹é…åˆ—ã®è¦ç´ æ•°ã«ã‚ˆã‚‹ãŸã‚ import_tasks ã¯ä½¿ãˆã¾ã›ã‚“
                            with_items: "{{ item_list }}"  #// ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã«å…¥ã‚‹å€¤ã®é…åˆ—
                            loop_control:  #// ãƒ«ãƒ¼ãƒ—ã«é–¢ã™ã‚‹è¨­å®š
                                loop_var: loop_item  #// sub_task.yml ã®ä¸­ã§å‚ç…§ã§ãã‚‹ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã€‚ with_items ã®è¦ç´ 
                block:  #// ã‚¿ã‚¹ã‚¯ã‚’ã¾ã¨ã‚ã¾ã™  #keyword: ansible block
                    å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_blocks.html  #template: __DocumentVersion__
                    __Playbook__.yml ã‚µãƒ³ãƒ—ãƒ«: |
                        -   tasks:
                            -   name: install, configure, and start Apache
                                block:
                                    -   name: install httpd and memcached          #// ã‚¿ã‚¹ã‚¯
                                        yum:
                                            name:
                                                - httpd
                                                - memcached
                                            state: present
                                    -   name: apply the foo config template        #// ã‚¿ã‚¹ã‚¯
                                        template:
                                            src: templates/src.j2
                                            dest: /etc/foo.conf
                                    -   name: start service bar and enable it      #// ã‚¿ã‚¹ã‚¯
                                        service:
                                            name: bar
                                            state: started
                                            enabled: True
                                    -   name: i force a failure                    #// ã‚¿ã‚¹ã‚¯
                                        command: /bin/false                        #// å¿…ãšå¤±æ•—ã™ã‚‹
                                    -   debug:                                     #// å¤±æ•—ã—ãŸã‚‰æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“
                                        msg: 'I never execute, due to the above task failing, :-('
                                rescue:
                                    -   debug:
                                        msg: 'I caught an error, can do stuff here to fix it, :-)'
                                always:
                                    -   debug:
                                        msg: "This always executes, :-)"
                                when: ansible_facts['distribution'] == 'CentOS'    #// ä»¥ä¸‹ã®è¨­å®šã¯ä¸Šè¨˜å…¨ã¦ã®ã‚¿ã‚¹ã‚¯ã«é©ç”¨ã•ã‚Œã¾ã™
                                become: true
                                become_user: root
                                ignore_errors: yes
                    __Playbook__.yml ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                        rescue:  #// block ã®ä¸­ã§å¤±æ•—ã—ãŸã¨ãã«å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³  #keyword: ansible rescue
                            ansible_failed_task å¤‰æ•°, ansible_failed_result å¤‰æ•°ã‚’å‚ç…§ã§ãã¾ã™:
                        always:  #// block ã®ä¸­ã§æˆåŠŸãƒ»å¤±æ•—ã«é–¢ã‚ã‚‰ãšå®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³  #keyword: ansible always
                include*: #// å‹•çš„ã«ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚è©•ä¾¡ã•ã‚Œã‚‹å‹•çš„ã‚¿ã‚¹ã‚¯ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚(?) #keyword: ansible include
                    å‚è€ƒ: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_reuse.html  #template: __DocumentVersion__
                    #// ãƒ«ãƒ¼ãƒ—å†…ã«æ›¸ã‘ã¾ã™ã€‚æ³¨æ„ç‚¹ã¯ã€ https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_reuse.html#id3  #template: __DocumentVersion__
                    include_tasks: #keyword: Ansible include_tasks  #// é–¢é€£: import_tasks  #// dynamic include
                        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ¸¡ã—ã¾ã™:
                            playbooks/main_playbook.yml: |
                                tasks:
                                    -   name: add pyenv shims to PATH
                                        include_tasks: ../sub_tasks/add_path.yml
                                        vars:
                                            extra_path: /home/vagrant/.pyenv/shims
                            sub_tasks/add_path.yml: |  #// tasks: ã®è¡Œã¯ä¸è¦
                                    -   name: 'Add {{ extra_path }} if PATH does not exist for CentOS'  #// åˆ¥ã®è¡Œã«è¿½åŠ ã™ã‚‹
                                        become: true
                                        lineinfile:
                                            path: /etc/profile
                                            line: 'export PATH="{{ extra_path }}:$PATH"'
                                            insertafter: EOF
                                        when: lookup('file', '/etc/profile') is not search('^\s*PATH\s*=')
                        ãƒ«ãƒ¼ãƒ—ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ¸¡ã—ã¾ã™:  #search: Ansible with_items include_tasks
                            playbooks/main_playbook.yml: |
                                tasks:
                                    -   name: add pyenv shims to PATH
                                        include_tasks: ../sub_tasks/add_path.yml
                                        with_items:
                                            - /home/vagrant/.pyenv/bin
                                            - /home/vagrant/.pyenv/shims
                                        loop_control:
                                            loop_var: extra_path  #// ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ã™ã‚‹ YAML ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã§å‚ç…§ã§ãã‚‹å¤‰æ•°ã€‚ with_items ã®è¦ç´ 
                            sub_tasks/add_path.yml:  #// ä¸Šè¨˜
                    include_role: #keyword: Ansible include_role   #// é–¢é€£: import_roles
                    include: #// 2.16 ã‹ã‚‰ deprecated ã«ãªã‚Šã¾ã—ãŸã€‚tasks ã®ä¸­ãŒæ›¸ã‹ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚
                        ã‚µãƒ³ãƒ—ãƒ«: #search: Ansible block include
                import*: #glossary: Ansible  #// é™çš„ã«ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚Playbook è§£ææ™‚ã«ã™ã¹ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚
                    import:  #keyword: ansible import
                    import_playbook:  #keyword: ansible import_playbook
                        æ³¨æ„ >> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç•°ãªã‚‹å ´åˆ:
                            ã¾ã¨ã‚ãŸ playbook ã‚’ä½œã‚‰ãªã„ã“ã¨: #keyword: Ansible import only playbook problem
                                ã¾ã¨ã‚ãŸ playbook ã®ã‚µãƒ³ãƒ—ãƒ«:
                                    release3.11.yml:
                                        - import_playbook: playbook-A.yml
                                        - import_playbook: playbook-B.yml
                                    #// åˆ‡ã‚Šæˆ»ã—ã®ã¾ã¨ã‚ãŸ playbook ã‚‚ä½œã‚‰ãªã„
                                å¯¾å‡¦:
                                    -   playbook ã‚’1ã¤ãšã¤å®Ÿè¡Œã™ã‚‹æ‰‹é †ã«ã™ã‚‹ã€‚
                                    -   ãŸã ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚ˆã†ã«ã‚»ãƒƒãƒˆã®ã‚‚ã®ã¯ä¸€åº¦ã«å®Ÿè¡Œã™ã‚‹ï¼Ÿï¼ˆä¸€åº¦ã«ã§ãã‚Œã°ï¼‰
                                    -   å¤±æ•—ã—ãŸ playbook ã®ã¿åˆ‡ã‚Šæˆ»ã—ã™ã‚‹æ‰‹é †ã«ã™ã‚‹ï¼ˆã§ãã‚‹ï¼‰ã€‚ï¼ˆ1ã¤ãšã¤åˆ‡ã‚Šæˆ»ã™ã‚³ãƒãƒ³ãƒ‰ã«ã™ã‚‹ï¼‰
                                ä¸æ¡ç”¨ç†ç”±:
                                    -   ä¸€éƒ¨ã® playbook ã ã‘ version ã‚’å¤‰ãˆã‚‹ï¼ˆçµ±ä¸€ã—ãªã„ï¼‰ã“ã¨ãŒã§ããªã„ãŸã‚ã€‚--extra-vars 'release_version=3.11.0'
                                            ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã«æŒ‡å®šã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã¯ 1ç¨®é¡ã§ã‚ã‚‹ãŸã‚
                                    -   Ansible ã§ã¯ import_playbook ã—ãŸä¸€éƒ¨ã® playbook ã®æˆåŠŸã‚’ç¢ºèªã§ããªã„ãŸã‚ï¼ˆãƒ­ã‚°ã«è¡¨ç¤ºã•ã‚Œã‚‹çµæœã¯ãƒ›ã‚¹ãƒˆã”ã¨ã«ãªã£ã¦ã—ã¾ã†ï¼‰
                                    -   ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†ã¯ãƒªãƒªãƒ¼ã‚¹æ‰‹é †ã®ä¸­ã§ã¯è¡Œã‚ãªã„ï¼ˆã¨ã„ã†ãƒ«ãƒ¼ãƒ«ãŒå¤šã„ï¼‰ãŸã‚
                        åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«:
                            ./parent.yaml: |
                                -   import_playbook: ./child.yml
                            ./child.yml: |
                                -   hosts: centos7_51
                                    tasks:
                                        -   name: create target database
                                            mysql_db:
                                                login_user: user1
                        ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’å‚ç…§ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«:  #focus: vars
                            ./parent.yaml: |
                                -   import_playbook: ./child.yml
                            ./child.yml: |
                                -   hosts: "{{ my_hosts }}"
                                    vars_files: [../vars.yml]
                                    vars:
                                        databaseVersion: 3.1.1
                                        user: user1
                                    tasks:
                                        -   name: create target database {{ databaseVersion }}
                                            mysql_db:
                                                login_user: "{{ user }}"
                            ./vars.yml: |
                                my_hosts: centos7_51
                        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ä»˜ãã‚µãƒ³ãƒ—ãƒ«:  #focus: user
                            ./parent.yaml: |
                                -   import_playbook: database/playbook.yml
                                    vars:
                                        user: user1
                            ./database/playbook.yml: |
                                -   hosts: centos7_51
                                    vars:
                                        databaseVersion: 3.1.1
                                        # user: user1
                                    tasks:
                                        -   name: create target database {{ databaseVersion }}
                                            mysql_db:
                                                login_user: "{{ user }}"
                        æ³¨æ„: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãªã©ã®å¤‰æ•°å®šç¾©ã¯ playbook ã®ä¸­ã«æ›¸ãã»ã†ãŒåˆ†ã‹ã‚Šã‚„ã™ãã€å®Ÿè¡Œã—ã‚„ã™ã„ã§ã™ã€‚
                            ã©ã†ã—ã¦ã‚‚å¯å¤‰ã«ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ãªã‚‰ã€playbook ã®ä¸­ã« {{ ____ }} ã‚’æ›¸ãã¾ã™ã€‚
                        æ—§ï¼‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ä»˜ãã‚µãƒ³ãƒ—ãƒ«:
                            ./parent.yaml:
                                - #
                                    import_playbook: playbooks/__Sub__/playbook.yml
                                    vars:
                                        __Sub___hosts: user1
                                        __Sub___username: "{{ common_password }}"
                                        __Sub___vars_files: ../../group_vars/all.yml
                                #// __Sub___vars_files ã¯ parent.yaml ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰å‚ç…§ã§ãã‚‹å¤‰æ•°
                                #// ï¼ˆä¸Šè¨˜ã® common_password ï¼‰ã‚’å‚ç…§ã—ã¦æ¸¡ã™ã¨ãã«å¿…è¦ã§ã™ã€‚
                                #// ãªãœãªã‚‰ã€å‚ç…§ã—ãŸå¤‰æ•°ã®å€¤ã‚’æ¸¡ã™ã®ã§ã¯ãªãã€å¤‰æ•°å‚ç…§ã‚’æ¸¡ã—ã¦ã„ã‚‹ãŸã‚ã€
                                #// __Sub__ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰å¤‰æ•°ã‚’å‚ç…§ã§ããªã„ã‹ã‚‰ã§ã™ã€‚
                            ./playbooks/__Sub__/playbook.yml:
                                - #
                                    hosts: "{{ __Sub___hosts }}"
                                    vars_files: ["{{ __Sub___vars_files }}"]
                                    tasks:
                                        - #
                                            name: create target database
                                            mysql_db:
                                                login_user: "{{ __Sub___username }}"
                    import_tasks:  #// static include
                        åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«: |
                            -   name: ____
                                import_tasks: ____.yml
                        ç’°å¢ƒå¤‰æ•°: #search: Ansible import_tasks environment
                    import_roles:  #search: ansible roles
                    ã‚°ãƒ©ãƒ•è¡¨ç¤º: #keyword: ansible-playbook-grapher,  Ansible tree  #// import include ã®æ§˜å­ã‚’ã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã—ã¾ã™
                        #ref: https://github.com/haidaraM/ansible-playbook-grapher
                        pip install ansible-playbook-grapher
                        sudo yum install -y  graphviz
                        ansible-playbook-grapher  __PlaybookFilePath__
                        ï¼ˆ___.svg ãŒä½œã‚‰ã‚Œã¾ã™ï¼‰
                        #search: Ansible system debug
                delegate_to:  #keyword: ansible delegate_to  #// å®Ÿè¡Œã™ã‚‹ãƒã‚·ãƒ¼ãƒ³ã‚’å¤‰æ›´ã—ã¾ã™ã€‚localhost ã‚’æŒ‡å®šã™ã‚‹ã¨ SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ã„ã¾ã›ã‚“
                    å‚è€ƒ:
                        - https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_delegation.html  #template: __DocumentVersion__
                        - https://qiita.com/fumiya-konno/items/d2d6b67296e5ee94340b
                    .gitignore ã®å¯¾è±¡å¤–ã®ã¿ã‚³ãƒ”ãƒ¼ã™ã‚‹å ´åˆ:  #keyword: Ansible .gitignore
                        playbook.yml: |
                            tasks:
                                -   name: make playwright_example folder that does not have .gitignore releated files
                                    shell:
                                        chdir: /vagrant/service_example/playwright_example
                                        cmd: git checkout-index -fau --prefix="/vagrant/working/"
                                    delegate_to: localhost

                                -   name: install Playwright project example
                                    copy:
                                        src: /vagrant/working/service_example/playwright_example/
                                        dest: "/home/vagrant/playwright_example/"
                                        mode: '755'

                                -   name: delete playwright_example folder that does not have .gitignore releated files
                                    file:
                                        state: absent
                                        path: /vagrant/working/service_example/playwright_example
                                    delegate_to: localhost
                        è£œè¶³:
                            localhost: control ãƒãƒ¼ãƒ‰ã§ã™
                            git checkout-index: .gitignore ã®å¯¾è±¡å¤–ã®ã¿ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                    å¤ã„ã‚µãƒ³ãƒ—ãƒ«:
                        __Playbook__.yml ã®ã‚µãƒ³ãƒ—ãƒ«: |
                            ---
                            -   name: test play
                                hosts: webservers
                                serial: 2

                                tasks:
                                    name: take out of load balancer pool
                                    command: /usr/bin/take_out_of_pool {{ inventory_hostname }}
                                    delegate_to: 127.0.0.1
                        __Playbook__.yml ã®ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                            #// delegate_to: 127.0.0.1 ã«ã‚ˆã£ã¦ã€Ansible ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ãƒã‚·ãƒ¼ãƒ³ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™
                            #// å¯¾è±¡ã®ãƒ›ã‚¹ãƒˆã®åå‰ã¯ inventory_hostname å¤‰æ•°ã®å€¤ã§ã™
            handlers:  #// ã‚¤ãƒ™ãƒ³ãƒˆ ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
                name ãƒˆãƒ”ãƒƒã‚¯:  #search: Ansible notify to handlers.name
                listen ãƒˆãƒ”ãƒƒã‚¯:  #search: Ansible notify to handlers.listen
            vars:  #// å¤‰æ•°å®šç¾©ã€‚__Playbook__.yml ã® hosts ã‚­ãƒ¼ã”ã¨  #keyword: ansible vars in Playbook.yml
                å‚ç…§: â‡’ #search: ansible vars
                æ³¨æ„: role ã‚’ä½¿ã†å ´åˆã€ã“ã“ï¼ˆ__Playbook__.ymlï¼‰ã«å¤‰æ•°ã®å®šç¾©ã‚’æ›¸ãã¨ã€ä¾å­˜ã™ã‚‹ role ã®å‡¦ç†ã§å¤‰æ•°ã‚’å‚ç…§ã§ããªããªã‚Šã¾ã™  #search: ansible vars in role folder
                ã‚µãƒ³ãƒ—ãƒ«:
                    __Playbook__.yml:
                        vars:  #// hosts ã¨åŒã˜ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®æ·±ã•
                            __Name1__: __Value1__  #// å¤‰æ•°åã«ä½¿ãˆã‚‹æ–‡å­—ã¯ã€æ–‡å­—ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆï¼Ÿï¼‰ã€æ•°å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢
                            __Name2__: __Value2__
                        include_vars: "__FilePath__.yml"
                        vars_files:                        #see-below: ansible_vars_files
                            - /vars/external_vars.yml
            vars_files:  #// å¤‰æ•°å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®å‚ç…§  #keyword: Ansible vars_files in Playbook.yml
                ã‚µãƒ³ãƒ—ãƒ« Playbook.yml:
                    -   hosts: ____
                        vars_files: [vars.yml]
                        tasks:
                            ____
                    #search: define Ansible dictionary variable
                ã‚µãƒ³ãƒ—ãƒ«(2) Playbook.yml:
                    - #
                        hosts: ____
                        vars_files:
                            - /vars/external_vars.yml
                            - ../../group_vars/all.yml
                        tasks:
                            ____
                vars.yml:
                    __Name1__: __Value1__  #// å¤‰æ•°åã«ä½¿ãˆã‚‹æ–‡å­—ã¯ã€æ–‡å­—ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆï¼Ÿï¼‰ã€æ•°å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢
                    __Name2__: __Value2__
            include_vars:  #// å¤‰æ•°å®šç¾©ã®ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™  #keyword: Ansible include_vars in Playbook.yml
                é–¢é€£ >> vars_files:  #// hosts ã¨åŒã˜æ·±ã•ã§å®šç¾©ã™ã‚‹å¤‰æ•°ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™
                    #search: Ansible vars_files in Playbook.yml
                pre_tasks ã§ include_vars ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ« Playbook.yml:
                    - name: mysql schema migration
                      vars:
                        mysql_schema_migration:
                          schema_list: "{{ mysql_schema_list.schema_list }}"
                      pre_tasks:
                        - name: load schema list
                          include_vars:
                            file: mysql-schema-list.yml
                            name: mysql_schema_list  #// mysql_schema_list.__VariableName__ ã§å‚ç…§ã™ã‚‹ã‚ˆã†ãªè¨­å®šã§ã™
            import_playbook:  #search: ansible import_playbook
            roles:  #// ãƒ­ãƒ¼ãƒ« #keyword: ansible roles
                è¨­è¨ˆ: #keyword: ansible roles design  #// ä½¿ã†ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã”ã¨ã«ä½œã‚Šã¾ã™
                    ä½¿ã†ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã”ã¨ã«ä½œã‚Šã¾ã™:
                    ãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«ä½œã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯åˆ¥ã«ã—ã¾ã™:
                        ãƒ­ãƒ¼ãƒ«ã«è¤‡æ•°ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é…ç½®ã™ã‚‹ã“ã¨ã¯éæ¨å¥¨ã€‚
                        å‹•ä½œã¯ã§ãã‚‹ãŒã€çŠ¶æ³ã®è¡¨ç¤ºãŒè¤‡é›‘ã«ãªã‚‹ãŸã‚ã€‚
                        ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã« --step ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€when ãŒ false ã§ã‚‚ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆä¸€æ™‚åœæ­¢ï¼‰ã—ã¦ã—ã¾ã†ãŸã‚ã€‚
                        #ref: https://stackoverflow.com/questions/28945082/how-to-do-best-organization-of-install-and-delete-in-the-same-ansible-playbook
                    ãƒ›ã‚¹ãƒˆã¯ãƒ­ãƒ¼ãƒ«ã‚’ä½¿ã†å´ãŒè¨­å®šã—ã¾ã™:
                å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_reuse_roles.html  #template: __DocumentVersion__
                # ç‰¹å®šã® vars_filesã€ã‚¿ã‚¹ã‚¯ã€ãŠã‚ˆã³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è‡ªå‹•çš„ã«èª­ã¿è¾¼ã‚€æ–¹æ³•
                ã‚µãƒ³ãƒ—ãƒ« roles ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼:
                    #focus: __RoleName__, shell, shared_folder, my_shared_folder
                    group_vars/:
                        all.yml:
                            my_shared_folder: ____
                    roles/:
                        __RoleName__/:
                            defaults/:  #// ã¾ãŸã¯ vars
                                main.yml:
                                    role:
                                        shared_folder: "{{ my_shared_folder }}"
                            tasks/:
                                main.yml:
                                    # sudo umount  "${share_}"
                                    -   name: Unmount shared folder
                                        become: yes
                                        become_user: root
                                        shell: umount  "{{ role.shared_folder }}"
                    playbook.yml:
                        -   name: Unmount shared folder
                            hosts: ____
                            roles: [__RoleName__]
                Playbook.yml ã¸ãƒ­ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™:  #keyword: ansible roles in Playbook.yaml, ansible import_role, ansible include_role
                    ã‚µãƒ³ãƒ—ãƒ« ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:  #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/
                    æ–°ã—ã„æ›¸ãæ–¹ï¼‰import_role ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§é™çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ:  #// å‹•çš„ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ã®ã¨ãã¯ include_role
                        playbook.yml:
                            -   hosts: __Host__
                                tasks:
                                    -   name: import __RoleName__
                                        import_role:
                                            name: __RoleName__
                        roles/__RoleName__/tasks/main.yml: |
                            -   import_role: name=example
                    å¤ã„æ›¸ãæ–¹ï¼‰roles ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§é™çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: |
                            ---
                            -   hosts: __Host__
                                roles:
                                    - common
                                    - webservers
                                    - role: '___/roles/__RoleName__'
                        #// rules ã®å­è¦ç´ ã«åŒã˜åå‰ã®ãƒ­ãƒ¼ãƒ«ãŒã‚ã£ã¦ã‚‚å®Ÿè¡Œã™ã‚‹ã®ã¯ï¼‘å›ã§ã™
                        #// 2å›å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ãƒ­ãƒ¼ãƒ«ã®è¤‡è£½ãŠã‚ˆã³å®Ÿè¡Œ https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_reuse_roles.html#id5  #template: __DocumentVersion__
                        #//    ç•°ãªã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ ã¾ãŸã¯ allow_duplicates: true
                    role ã«ã‚ˆã‚‹ä¾å­˜è§£æ±ºï¼ˆå¤ã„æ›¸ãæ–¹ï¼‰: |  #focus: __ChildRole1__, __ChildRole11__
                        __Playbook__.yml:
                            -   roles:
                                -   __ChildRole1__
                                -   __ChildRole2__
                        roles/__ChildRole1__/meta/main.yml:  #// ãƒ«ãƒ¼ãƒˆã® Playbook ã® role ã«æ›¸ãã»ã†ãŒåˆ†æ•£ã—ãªã„ã®ã§ã€ãƒ‡ãƒãƒƒã‚°æ™‚ã«é€”ä¸­ã‹ã‚‰å®Ÿè¡Œã—ã‚„ã™ããªã‚Šã¾ã™
                            dependencies:
                                -   { role: __ChildRole11__ }
                                -   { role: __ChildRole12__ }
                        roles/__ChildRole1__/tasks/main.yml
                            -   name: install python
                                yum: name="python"
                                become: yes
                                become_user: root
                                environment: "{{ proxy_env }}"
                        roles/__ChildRole11__/meta/main.yml:   #// ä¸Šè¨˜ã¨åŒæ§˜
                        roles/__ChildRole11__/tasks/main.yml:  #// ä¸Šè¨˜ã¨åŒæ§˜
                        roles/__ChildRole12__/meta/main.yml:   #// ä¸Šè¨˜ã¨åŒæ§˜
                        roles/__ChildRole12__/tasks/main.yml:  #// ä¸Šè¨˜ã¨åŒæ§˜
                        roles/__ChildRole2__/meta/main.yml:    #// ä¸Šè¨˜ã¨åŒæ§˜
                        roles/__ChildRole2__/tasks/main.yml:   #// ä¸Šè¨˜ã¨åŒæ§˜
                ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼æ§‹æˆ: #keyword: Ansible roles folders  #ğŸŒŸ  #// ãƒ­ãƒ¼ãƒ«åˆ¥ã®è¨­å®šã¯ä¸‹è¨˜ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«é…ç½®ã—ã¾ã™
                    roles ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ä½ç½®:
                        - __FolderHavingPlaybook__/roles/
                        #ã¾ãŸã¯
                        - /etc/ansible/roles/
                        #ã¾ãŸã¯
                        - è¿½åŠ ã® roles_path
                    roles/__RoleName__/tasks/main.yml :  #keyword: Ansible tasks in role folder  #// å‡¦ç†å†…å®¹ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
                        tasks ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹å ´åˆã®ã‚µãƒ³ãƒ—ãƒ«: |
                            -   include: install.yml
                                become: yes
                            -   include: configure.yml
                                become: yes
                        #// when ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å ´åˆåˆ†ã‘ã™ã‚‹ã“ã¨ã‚‚ã‚ˆãã‚ã‚Šã¾ã™  #search: ansible when
                    roles/__RoleName__/handlers/main.yml :  #keyword: Ansible role handlers  #// ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒã‚ã£ãŸã‚‰ã€reload web server ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«:
                            tasks/main.yml: |  #// ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒã‚ã£ãŸã‚‰ã€reload web server ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ï¼ˆå¤‰æ›´ãŒãªã‹ã£ãŸã¨ãã®å‹•ä½œã¯æœªç¢ºèªï¼‰
                                -   name: copy nginx conf
                                    template:
                                        src: "nginx.conf.j2"
                                        dest: "/etc/nginx/conf.d/example.conf"
                                    notify:
                                        -   reload web server    #// handlers/main.yml ã® name ã¾ãŸã¯ listen
                            handlers/main.yml: |  #// reload web server ã‚¤ãƒ™ãƒ³ãƒˆãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ï¼ˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼‰reload nginx
                                -   name: reload nginx
                                    service:
                                        name: nginx
                                        state: reloaded
                                    become: yes
                                    listen: "reload web server"    #// name ã§ã‚‚ãƒˆãƒªã‚¬ãƒ¼ã§ãã‚‹ã®ã§ã€listen ã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“
                        name, listen:  #// ã‚¤ãƒ™ãƒ³ãƒˆå
                            - notify ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ ã« listen ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®å€¤ã‚’è¨­å®šã—ã¾ã™  #search: Ansible notify
                            - listen ãŒå­˜åœ¨ã—ãªã„ã¨ãã¯ã€name ã®å€¤ã‚’ notify ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ ã«è¨­å®šã—ã¾ã™
                        ä½¿ã†ã‚±ãƒ¼ã‚¹:
                            handlers ã¯å¤‰æ›´ã—ãŸã‚‰å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã¨ã„ã†ã‚ˆã‚Šã‹ã¯ã€
                            è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ…‹ã‚’å¤‰æ›´ã—ã¦ã€
                            æœ€å¾Œã«å†èµ·å‹•ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä½¿ã†ã¨ã„ã†èªè­˜ã§ã„ã‚‹ã¨é©åˆ‡ã«ä½¿ãˆã¾ã™ã€‚
                        å‹•ä½œè©³ç´°:  #search: Ansible notify behavior
                    roles/__RoleName__/defaults/main.yml :  #search: ansible default vars in role folder  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¤‰æ•°
                    roles/__RoleName__/vars/main.yml :      #search: ansible vars in role folder
                    roles/__RoleName__/templates/main.yml :
                    roles/__RoleName__/meta/main.yml :  #search: Ansible dependencies
                    roles/__RoleName__/__Others__/main.yml :
                å®Ÿè¡Œé †åº: #keyword: Ansible å®Ÿè¡Œé †åº
                    å®Ÿè¡Œé †åº:
                        #// å‚è€ƒ: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_reuse_roles.html#id4  #template: __DocumentVersion__
                        - pre_tasks
                        - roles
                            #// ä¾å­˜å…ˆï¼ˆå­ãƒ­ãƒ¼ãƒ«ã® tasks/*.ymlï¼‰ã‚’å…ˆã«å®Ÿè¡Œã—ã¾ã™  #search: Ansible dependencies
                            #// è¤‡æ•°ã® roles ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åŒã˜ä¾å­˜å…ˆãŒæŒ‡å®šã•ã‚Œã‚‹ã¨ãã¯ 1åº¦ã ã‘å®Ÿè¡Œã—ã¾ã™
                            #// tasks/main.yml ã‚’å®Ÿè¡Œå¾Œã€é€šçŸ¥ã‚’å—ã‘ãŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ handlers/main.yml ãŒå‹•ä½œã—ã¾ã™  #search: Ansible role handlers
                        - tasks
                        - post_tasks
                    å®Ÿè¡Œé †åºã‚’ç¢ºèªã—ã¾ã™:
                        #search: Ansible --list-tasks
                    #search: Ansible è¨­è¨ˆ
                ä¾å­˜é–¢ä¿‚: #keyword: Ansible dependencies
                    playbook => roles:  #search: ansible roles in Playbook.yaml
                    roles => roles:
                        å ´æ‰€: roles/__RoleName__/meta/main.yml
                        å†…å®¹ã®ã‚µãƒ³ãƒ—ãƒ«:  #// bike ã¯ wheel ã«ä¾å­˜ã—ã¦ã„ã¾ã™
                            roles/bike/meta/main.yml: |
                                ---
                                dependencies:
                                - role: wheel
                                    vars:
                                    n: 1
                                - role: wheel
                                    vars:
                                    n: 2
                    æ¡ä»¶ä»˜ãä¾å­˜:  #// æœªç¢ºèª  #focus: when
                        playbook.yml : |
                            roles:
                                -   role: base_rpms
                                -   role: python
                                    when: python_is_used
                    é–¢é€£ >> ãƒãƒ³ãƒ‰ãƒ©ãƒ¼:  #search: Ansible role handlers
                è¤‡æ•°ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹ãƒ­ãƒ¼ãƒ«:
                    - ãƒ­ãƒ¼ãƒ«ã§ã¯ãªã import ã™ã‚‹ Playbook ã«æ›¸ãã¾ã™  #search: ansible import_playbook
                    - https://serverfault.com/questions/970405/ansible-multiple-hosts-in-one-role
            serial:  #// ä¸¦åˆ—å®Ÿè¡Œã®æœ€å¤§æ•°  #keyword: Ansible serial
                çœç•¥ã—ãŸå ´åˆ: æœ€å¤§æ•°ã®åˆ¶é™ã‚’ä»˜ã‘ãšã€ã™ã¹ã¦ä¸¦åˆ—å‹•ä½œã—ã¾ã™
                1: #// ã‚µãƒ¼ãƒãƒ¼1ã¤ãšã¤å®Ÿè¡Œã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãª ãƒ­ãƒ¼ãƒªãƒ³ã‚° ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ ã®å ´åˆã¯ã“ã‚Œ
                    ã‚µãƒ³ãƒ—ãƒ« playbook.yml:
                        -   hosts: [node1, node2, node3]
                            serial: 1  #// node1 name 1 => node1 name 2 => node2 name 1 => node2 name 2 => node3 name 1 => node3 name 2
                            tasks:

                            -   name: 1) Install the service
                                become: yes
                                yum:
                                    pkg: ["/home/vagrant/Downloads/service-1.0.0.rpm"]
                                    state: present

                            -   name: 2) Start and reload the service
                                become: yes
                                systemd:
                                    name: __ServiceName__
                                    state: restarted
                                    daemon_reload: yes
                                    enabled: yes
                æ³¨æ„: |
                    [WARNING]: Could not match supplied host pattern, ignoring: [node1
                    ã®ã‚ˆã†ã«ãƒ›ã‚¹ãƒˆåã« [ ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€é…åˆ—ï¼ˆã‚¢ãƒ¬ã‚¤ï¼‰ã®æŒ‡å®šæ–¹æ³•ã‚’æ­£ã—ãã—ã¦ãã ã•ã„  #search: Ansible join
                å‚è€ƒ:
                    Delegation, Rolling Updates, and Local Actions: #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_delegation.html  #template: __DocumentVersion__
                __Playbook__.yml: |
                    ---
                    -   name: test play
                        hosts: webservers
                        serial: 2  #// 2= 2å°ãšã¤ã€‚ 30%=å…¨ä½“ã®30%ã®å°æ•°ãšã¤
                        gather_facts: False

                        tasks:
            pre_tasks:
                _: ãƒ­ãƒ¼ãƒ«ã‚’å«ã‚€ä»–ã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã®å‰ã«ãã‚Œã‚‰ã®ã‚¿ã‚¹ã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
                å‚è€ƒ:
                    Set the order of task execution in Ansible with these two keywords: #ref: https://www.redhat.com/sysadmin/ansible-pretasks-posttasks
            post_tasks:
                å‚è€ƒ:
                    Set the order of task execution in Ansible with these two keywords: #ref: https://www.redhat.com/sysadmin/ansible-pretasks-posttasks
        roles/:  #search: Ansible roles folders  #search: ansible roles
        group_vars/:  #search: Ansible group_vars/all.yml
        ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«:  #search: ansible inventory file
        ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«, ã‚³ãƒ³ãƒ•ã‚£ã‚®ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: #keyword: ansible.cfg, ansible configurations  #// Configuration file
            æ¦‚è¦:
                èª¬æ˜:
                    - https://docs.ansible.com/ansible/2.9_ja/installation_guide/intro_configuration.html  #template: __DocumentVersion__
                    - https://www.vagrantup.com/docs/provisioning/ansible_intro#the-ansible-configuration-file
                ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®è¦‹æ–¹: #keyword: ansible.cfg reference
                    å…¬å¼ã‚³ãƒ¼ãƒ‰ã‹ã‚‰:
                        æ‰‹é †: https://github.com/ansible/ansible  >>  repo:ansible/ansible  __Keyword__
                        ã‚µãƒ³ãƒ—ãƒ«: https://github.com/ansible/ansible  >>  repo:ansible/ansible  ssh_args
                    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰:
                        grep ã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‹¬è‡ªã® ansible.cfg ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
                    ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰:  #// æƒ…å ±ãŒä¸è¶³ã—ã¦ã„ã¾ã™
                        ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹:
                            #ref: https://docs.ansible.com/ansible/latest/reference_appendices/config.html
                            #ref: https://docs.ansible.com/ansible/2.9_ja/reference_appendices/config.html#common-options  #template: __DocumentVersion__
                        ã‚µãƒ³ãƒ—ãƒ«:
                            ACTION_WARNINGS:
                                Description: ï¼ˆèª¬æ˜ï¼‰
                                Default:     True
                                Ini Section: defaults
                                Ini Key:     action_warnings
                                Environment: ANSIBLE_ACTION_WARNINGS
                        ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜:
                            - ACTION_WARNINGS ã¯è¨­å®šåã§ã™ã€‚ansible-config ã‚³ãƒãƒ³ãƒ‰ã«æŒ‡å®šã—ã¾ã™: |
                                $ ansible-config dump | grep ACTION_WARNINGS
                                ACTION_WARNINGS(default) = True
                            - Ini Section ã¨ Ini Key ã¯ã€ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã Ini å½¢å¼ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã‚­ãƒ¼ã§ã™:
                                ansible.cfg : |
                                    [defaults]
                                    action_warnings = False
                            - Environment ã¯ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹ã¨ãã®ç’°å¢ƒå¤‰æ•°åã§ã™:
                                ANSIBLE_ACTION_WARNINGS=False  ansible-config dump
            æ‰‹é †:  #// è¨­å®šæ–¹æ³•
                ansible.cfg ã«è¨­å®šã™ã‚‹å ´åˆ:
                    ã‚µãƒ³ãƒ—ãƒ«:
                        lookup_plugins = __LookUpPlugInPath__
                        filter_plugins = __CustomFilterPlugInPath__
                ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹å ´åˆ:
                    DEFAULT_LOOKUP_PLUGIN_PATH=__LookUpPlugInPath__
                    DEFAULT_FILTER_PLUGIN_PATH=__CustomFilterPlugInPath__
            å ´æ‰€:
                ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€: |
                    $ ansible --version
                    ...
                        config file = /home/user1/project/ansible.cfg
                å€™è£œ:  #// ä¸‹è¨˜ã¯ä¸ŠãŒå„ªå…ˆã€‚ä¸‹è¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åŒã˜è¨­å®šé …ç›®ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ãã€ä¸Šã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šã»ã©å„ªå…ˆã•ã‚Œã¾ã™ã€‚
                    -   __CurrentFolder__/ansible.cfg
                    -   ~/.ansible.cfg
                    -   /etc/ansible/ansible.cfg
            å†…å®¹:  #// ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ« ã®å†…å®¹   #glossary: ansible.cfg  #search: ansible.cfg reference
                lookup_plugins:  #keyword: ansible.cfg  lookup_plugins
                    ansible.cfg : |  #search: ansible.cfg
                        [defaults]
                        lookup_plugins = __LookUpPlugInPath__
                    #search: Ansible lookup plug in
                filter_plugins:  #keyword: ansible.cfg  filter_plugins  #ref: https://docs.ansible.com/ansible/latest/reference_appendices/config.html#default-filter-plugin-path
                    ansible.cfg : |  #search: Ansible plug in files
                        [defaults]
                        filter_plugins = __CustomFilterPlugInPath__
                    çœç•¥æ™‚: __AnsibleProject__/filter_plugins/____.py
                    #search: Ansible custom filter plug in
                profile_tasks: #keyword:  #// ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚åˆ»ã¨å‡¦ç†æ™‚é–“ã‚’è¡¨ç¤ºã—ã¾ã™
                    è¡¨ç¤ºä¾‹:
                        å„ã‚¿ã‚¹ã‚¯å®Ÿè¡Œé–‹å§‹æ™‚:
                            TASK [__TaskName__] ******************************************************************************************************************
                            Wednesday 02 February 2022  02:22:22 +0000 (0:00:01.754)       0:00:05.206 **** 
                                #// æ—¥æ™‚    ãƒ—ãƒ¬ã‚¤é–‹å§‹ã‹ã‚‰ã®çµŒéæ™‚é–“
                        ãƒ—ãƒ¬ã‚¤ã®æœ€å¾Œ:  #// æ™‚é–“ãŒã‹ã‹ã£ãŸã‚¿ã‚¹ã‚¯ã®é †ä½
                            Wednesday 02 February 2022  04:56:00 +0000 (0:00:32.747)       0:10:34.700 **** 
                            =============================================================================== 
                            Wait for starting ElasticSearch node --------------------------------------------------------------------------------------- 118.81s
                            Restart ElasticSearch to load elasticsearch.yml ----------------------------------------------------------------------------- 51.25s
                            Restore all ElasticSearch index --------------------------------------------------------------------------------------------- 32.75s
                    /etc/ansible/ansible.cfg:  #// å ´æ‰€ã¯ã‚³ãƒãƒ³ãƒ‰ ansible --version ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                        ç·¨é›†å‰: |
                            #callback_whitelist = timer, mail
                        ç·¨é›†å¾Œ: |
                            #callback_whitelist = timer, mail
                            callback_whitelist = profile_tasks
                        ä»¥ä¸Šã§ Ansible ã‚’å®Ÿè¡Œã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™:
            ã‚³ãƒãƒ³ãƒ‰:
                è¡¨ç¤º:
                    - ansible --version  #// ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ãªã©ã‚’è¡¨ç¤ºã—ã¾ã™  #see-above: ansible --version
                    - ansible-config dump  #// ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ•ã‚£ã‚®ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™
                    - ansible-config dump --only-changed  #see-above: ansible-config dump --only-changed
                    - ansible-config dump | grep __ConfigurationName__  #see-below: ansible-config dump | grep
        ã‚µãƒ¼ãƒãƒ¼ã«ç½®ãä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«:  #search: ansible file module
        ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #search: Ansible plug in files
    è¨­å®š: #settings:
        __DocumentVersion__: 2.9_ja
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆAnsibleï¼‰:  #keyword: Ansible trouble shooting
        - ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã™ã‚‹:  #search: Ansible step
        - ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã—ã¾ã†: #keyword: Ansible skip
            ãƒ­ã‚°: |
                TASK [__Role__ : __Task__] **********************************************************************
                skipping: [__FQDN__]
            ãƒªãƒ¢ãƒ¼ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã®çŠ¶æ…‹ãŒå¤‰ã‚ã£ãŸå ´åˆ:
                ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã« --flush-cache ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã¾ã™ã€‚
                Gathering Facts ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
            ã‚¿ã‚¹ã‚¯ã«æ¡ä»¶ãŒã‚ã‚‹å ´åˆ:
                when, changed_when, creates ãªã©ã®æ¡ä»¶ã‚’æº€ãŸã™ã‹ç¢ºèªã—ã¾ã™
        - ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ãªã©: #keyword: Ansible error  #ref: https://docs.ansible.com/ansible/2.9_ja/user_guide/playbooks_error_handling.html  #template: __DocumentVersion__
            ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¾ã™:
                #search: Ansible  failed_when
                #search: Ansible  fail
            ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã—ã¾ã™:  #search: Ansible ignore_errors
        - æ–‡æ³•ã‚¨ãƒ©ãƒ¼ãŒæ­£ã—ããªã„: #search: VSCode Ansible syntax error
        - å†…éƒ¨ã§ä½¿ã£ã¦ã„ã‚‹ Python: #search: Ansible version
        - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸã¨ãã®ã‚¨ãƒ©ãƒ¼:  #keyword: Ansible system debug,  Ansible version up playbook.yml
            å¯¾å‡¦:
                ãƒªã‚»ãƒƒãƒˆã—ã¾ã™:
                    - ansible.cfg ã‚„ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ« ã‚’ç©ºã«ã—ã¦ã‹ã‚‰ã€å°‘ã—ãšã¤å¾©å…ƒã•ã›ã¾ã™
                å¤‰æ•°å‚ç…§ playbook (_var_test.yml) ã§è©¦ã—ã¾ã™: #keyword: Ansible _var_test.yml
                    - debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã‹ä½¿ã‚ãªã„æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãª playbook ã‚’ä½¿ã„ã¾ã™  #search: Ansible debug
                    - å‚ç…§ã™ã‚‹å¤‰æ•°ã«ã‚ˆã£ã¦çµæœãŒå¤‰ã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å‚ç…§ã—ãªã„å¤‰æ•°ãªã‚‰ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç™»éŒ²ã—ã¦ã„ãªãã¦ã‚‚å‚ç…§ã§ãã¾ã™
                    - ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ãƒ›ã‚¹ãƒˆã«ã‚ˆã£ã¦ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ•°ãŒå¤‰ã‚ã‚Šã¾ã™  #search: Ansible group_vars YAML
                å®Ÿè¡Œã™ã‚‹ playbook ã®æœ€åˆã®ã‚¿ã‚¹ã‚¯ã§å¤‰æ•°å‚ç…§ã—ã¾ã™:
                    - role ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦å¤‰æ•°å‚ç…§ã—ã¾ã™ã€‚role ãŒå…ˆã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚
                    - role ã®ä¸­ã§å¤‰æ•°å‚ç…§ã—ã¾ã™
        - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‡ãƒãƒƒã‚°:  #search: Ansible plug in debug
        #// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        - #// No package ____ available. Failed to install some of the specified packages
            æ‰‹é †: ansible-playbook >> dnf ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ãƒ­ã‚°: |
                fatal: [__Host__]: FAILED! => {"changed": false, "failures": ["No package ____ available."], "msg": "Failed to install some of the specified packages", "rc": 1, "results": []}
            å¯¾å‡¦:
                #search: createrepo
                #search: /etc/yum.repos.d/____.repo
        - #// not supported between instances of 'str' and 'int'
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã§ yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
            ã‚¨ãƒ©ãƒ¼: |
                TASK [__Role__ : __Task__] ***************************************************************
                fatal: [__Host__]: FAILED! => {"msg": "Unexpected templating type error occurred on ({{ __Expression__ }}): '>' not supported between instances of 'str' and 'int'. '>' not supported between instances of 'str' and 'int'"}
            å¯¾å‡¦: |
                {{ __Expression__ | int }}
        - #// fatal: [__FQDN__]: UNREACHABLE!  #keyword: Ansible fatal UNREACHABLE!
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                TASK [Gathering Facts] *********************************************************
                fatal: [__FQDN__]: UNREACHABLE! 
            å¯¾å‡¦:
                æ¥ç¶šã—ã¦ã‚ˆã„ã‹ã®ç¢ºèªãŒã•ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã™  #search: SSH fingerprint
        - #// ModuleNotFoundError: No module named 'pyexpat'
            æ‰‹é †: Python ã®ã‚½ãƒ¼ã‚¹ã‚’ãƒ“ãƒ«ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                File "/home/user1/_________/python37/build/python-source/Python-3.7.2/Lib/xml/parsers/expat.py", line 4, in <module>
                    from pyexpat import *
                ModuleNotFoundError: No module named 'pyexpat'
            å¯¾å‡¦:
                sudo dnf install -y  expat-devel
        - #// skipping: [__HostName__]
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ãƒ­ã‚°: |
                TASK [____] **************
                skipping: [__HostName__]
            å¯¾å‡¦A:
                ä¸€åº¦ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™
            å¯¾å‡¦B:
                ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã« --check ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ã€--check ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãªã„ã‚³ãƒãƒ³ãƒ‰ã«æˆ»ã—ã¦å®Ÿè¡Œã—ã¾ã™
        - #// Error pulling image __Image__:latest - 404 Client Error for http+docker:_____ Not Found (\"pull access denied
            æ‰‹é †: docker_container ã®ã‚¿ã‚¹ã‚¯
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [localhost.example.com]: FAILED! => {"changed": false, "msg": "
                    Error pulling image group/python-github-runner:latest - 404 Client Error for
                    http+docker://localhost/v1.44/images/create?tag=latest&fromImage=group%2Fpython-github-runner: 
                    Not Found (\"pull access denied for group/python-github-runner,
                        repository does not exist or may require 'docker login': denied:
                        requested access to the resource is denied\")"}
            å¯¾å‡¦A:
                docker images ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è±¡ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
            å¯¾å‡¦B:
                Dockerfile ã® image ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã™: #keyword: Ansible docker_container module local image
                    ä¿®æ­£å‰: |
                        image: group/python-github-runner
                    ä¿®æ­£å¾Œ: |
                        image: group/python-github-runner:latest
            è£œè¶³:
                docker images ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†ã¨ãã¯ã€ã‚¤ãƒ¡ãƒ¼ã‚¸åã®ã‚¿ã‚°éƒ¨åˆ†ï¼ˆlatest ãªã©ï¼‰ã¾ã§æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™
                    $ docker images
                    REPOSITORY                  TAG       IMAGE ID       CREATED       SIZE
                    my/python-github-runner     latest    fdfa84af82e7   1 days ago    1.01GB
                #ref: https://stackoverflow.com/questions/38169244/how-do-i-tag-a-local-docker-image-with-ansible-docker-image-module
        - #// Unknown Error occurred: Transaction test error: package __RpmFileName__ does not verify: no digest
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰ >> yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ã‚¨ãƒ©ãƒ¼: |
                Unknown Error occurred: Transaction test error: package __RpmFileName__ does not verify: no digest
            å¯¾å‡¦:
                CentOS8 ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ RPM ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€CentOS8 ã§ä½œã‚‹ã¹ã  #search: cross RPM CentOS7 CentOS8
        - #// ERROR! [DEPRECATED]: ansible.builtin.include has been removed. Use include_tasks or import_tasks instead.
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                ERROR! [DEPRECATED]: ansible.builtin.include has been removed. Use include_tasks or import_tasks instead. This feature was removed from ansible-core in a release after 2023-05-16. Please update your playbooks.
            å¯¾å‡¦:
                ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ä»¥å¤–ã‚‚ include ã‚’ include_tasks ãªã©ã«ç½®ãæ›ãˆã¾ã™
                #ref: https://docs.ansible.com/ansible-core/2.12/user_guide/playbooks_reuse.html#re-using-files-and-roles
        - #// fatal: [__Host__]: FAILED! => {"msg": "The task includes an option with an undefined variable.
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [__Host__]: FAILED! => {"msg": "The task includes an option with an undefined variable.
                The error was: __Expression__: '__Symbol__' is undefined. '__Symbol__' is undefined. __Expression__:
            å¯¾å‡¦:
                ansible.cfg ã« vars_plugins ã‚’è¨­å®šã—ã¾ã™
        - #// [WARNING]:  * Failed to parse __InventoryIniFilePath__ with ini plugin: Invalid host pattern 'plugin:' supplied, ending
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]:  * Failed to parse __InventoryIniFilePath__ with ini plugin: Invalid host pattern 'plugin:' supplied, ending
                in ':' is not allowed, this character is reserved to provide a port.
                [WARNING]: Unable to parse __InventoryIniFilePath__ as an inventory source
            å¯¾å‡¦A:
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã® enable_plugins ã« constructed ã‚’è¿½åŠ ã—ã¾ã™: |
                    [inventory]
                    enable_plugins = ini, constructed
            å¯¾å‡¦B:  #search: Ansible system debug
            åŸå› :
                ä¸‹è¨˜ã® plugin ãŒãƒ›ã‚¹ãƒˆåã¨ã—ã¦è§£é‡ˆã•ã‚Œã¦ã—ã¾ã£ã¦ã„ã¾ã™:
                    YAML ã® ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«: |
                        plugin: constructed
            å‚è€ƒ:
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:  #search: Ansible inventory plug in
        - #// Unsupported parameters for (command) module: env Supported parameters
            æ‰‹é †: ç’°å¢ƒå¤‰æ•°ã‚’æŒ‡å®šã—ãŸ shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ãŸã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œ
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [__FQDN__]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (command) module: env Supported parameters include: _raw_params, _uses_shell, argv, chdir, creates, executable, removes, stdin, warn"}
            å¯¾å‡¦:
                #search: Ansible shell env
        - #// template error while templating string: no filter named
            æ‰‹é †: ansible-playbook ...
            ã‚¨ãƒ©ãƒ¼: |
                template error while templating string: no filter named '__FunctionName__'. String: {{ __Expression__ | __FunctionName__ }}"}  #keyword: Ansible no filter named trouble
            å¯¾å‡¦A:
                ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãªã„ã‹ç¢ºèªã—ã¾ã™: |  #// èµ·å‹•æ™‚ã«è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ãã®ã¾ã¾å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã„ã¾ã™
                    $ ansible-playbook ...
                    [WARNING]: Skipping plugin (/____/plugins/filter/__Filters__.py) as it seems to be
                    invalid: invalid syntax (__Filters__.py, line __LineNum__)
            å¯¾å‡¦B:
                filter ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ãŒå…¥ã£ã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®å ´æ‰€ã‚’ç¢ºèªã—ã¾ã™:
                    ansible-config dump | grep FILTER
                ãã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ä¸­ã® Python ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒæ­£ã—ãå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™:
                    #search: Ansible custom plug in
        - #// Could not load "__Symbol__"
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]:  * Failed to parse __InventoryIniFilePath__ with __PlugInName__ plugin:
                failed to parse __InventoryIniFilePath__: Could not set host_type for host __HostName__: template error while templating string: Could not
                load "__Symbol__": '__Symbol__'. String: {{ ...__Symbol__ ... )}}. Could not load "__Symbol__": '__Symbol__' . Could not set
                host_type for host __HostName__: template error while templating string: Could not load "__Symbol__": '__Symbol__'. String:
                {{ ...__Symbol__ ... }}. Could not load "__Symbol__": '__Symbol__'
            å¯¾å‡¦A:
                ã‚«ã‚¹ã‚¿ãƒ  ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #search: ansible.cfg  filter_plugins
            å¯¾å‡¦B:  #search: Ansible no filter named trouble
            å¯¾å‡¦C:  #search: Ansible system debug
            åŸå› :
                ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é–¢æ•° __Symbol__ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
        - #// VALUE_SPECIFIED_IN_NO_LOG_PARAMETER
            æ‰‹é †: ansible-playbook ... -vvv
            ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: |
                ... "user": "admin", "login_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", ...
            å¯¾å‡¦A:
                Playbook ãƒ•ã‚¡ã‚¤ãƒ«:
                    no_log: False
            å¯¾å‡¦B:  #ref: https://serverfault.com/questions/1048538/how-to-expose-passwords-secrets-in-ansible-playbook
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«:
                    no_log = False
                éå¯¾å¿œã®å ´åˆ:  #// ä¸Šè¨˜ã®æ–¹æ³•ã¯ Ansible 2.9 ã§ã¯ä½¿ãˆãªã„ã‚ˆã†ã§ã™
                    password ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è¨­å®šã—ã¦ã‚ã‚‹å€¤ã‚’ debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„  #search: Ansible debug
        - #// Invalid host pattern 'plugin:' supplied, ending in ':' is not allowed, this character is reserved to provide a port.
            æ‰‹é †: ansible-playbook
            ã‚¨ãƒ©ãƒ¼: |  #focus: __DefineSymbol__, __ReferredSymbol__
                [WARNING]:  * Failed to parse ____/inventory.config with ini plugin:
                Invalid host pattern 'plugin:' supplied, ending in ':' is not allowed, this character is reserved to provide a port.
                [WARNING]:  * Failed to parse ____/inventory.config with constructed
                plugin: failed to parse ____/inventory.config: Could not set __DefineSymbol__ for host
                __TargetHost__: '__ReferredSymbol__' is undefined
            å¯¾å‡¦:
                compose ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’ compose ã®ä¸­ã§å‚ç…§ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
                å¤‰æ•°ã®å®šç¾©å†…å®¹ã«å±•é–‹ã—ã¦ãã ã•ã„ã€‚
        - #// [WARNING]: Failure using method (__Method__) in callback plugin (<ansible.plugins.callback.custom.CallbackModule object at ____>): '__Parameter__'
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Failure using method (v2_playbook_on_task_start) in callback plugin (<ansible.plugins.callback.custom.CallbackModule object at 0x7ff5a29c7cd0>): 'display_skipped_hosts'
            å¯¾å‡¦A:  #// ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€å°é™ã«ã—ã¾ã™  #keyword: minimum ansible.cfg
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ« ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚Šã¾ã™:
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ« ã«æœ€å°é™ã®è¨­å®šã‚’æ›¸ãã¾ã™: |  #// ä»–ã®è¨­å®šã¯ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™
                    [defaults]
                    display_skipped_hosts = false
            å¯¾å‡¦B:  #// ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã‚’è¿½åŠ ã—ã¾ã™
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ« ã®å ´æ‰€ã‚’èª¿ã¹ã¾ã™:
                    ansible --version  #search: ansible.cfg
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ« ã«è¨­å®šã‚’æ›¸ãã¾ã™: |
                    [defaults]
                    display_skipped_hosts = false
            åŸå› :
                æ¦‚è¦: Ansible ã®å†…éƒ¨ã® v2_playbook_on_task_start ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒã‚ã‚‹åŸºæœ¬çš„ãªè¨­å®šã§è­¦å‘Šã•ã‚Œã‚‹å ´åˆã¯ã€ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã«å•é¡ŒãŒã‚ã£ã¦èª­ã‚ã¦ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                è§£ææ–¹æ³•:
                    -vvv ã‚’ä»˜ã‘ã¦ ansible-playbook ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€Python ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã¨ãã® ã‚³ãƒ¼ãƒ« ã‚¹ã‚¿ãƒƒã‚¯ ã‚’ç¢ºèªã—ã¾ã™: |
                        Callback Exception: 
                            File "__Home__/bin/ansible-venv/lib/python3.11/site-packages/ansible/executor/task_queue_manager.py", line 465, in send_callback
                                method(*new_args, **kwargs)
                            File "__Home__/bin/ansible-venv/lib/python3.11/site-packages/ansible/plugins/callback/default.py", line 143, in v2_playbook_on_task_start
                                self._task_start(task, prefix='TASK')
                            File "__Home__/bin/ansible-venv/lib/python3.11/site-packages/ansible/plugins/callback/default.py", line 162, in _task_start
                                if self.get_option('display_skipped_hosts') and self.get_option('display_ok_hosts'):
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            File "__Home__/bin/ansible-venv/lib/python3.11/site-packages/ansible/plugins/callback/__init__.py", line 175, in get_option
                                return self._plugin_options[k]
                    pdb ã‚’ä½¿ã£ã¦ã€å¤‰æ•°ã®å€¤ã‚’ç¢ºèªã—ã¾ã™ã€‚ãŸã¨ãˆã°ä¸‹è¨˜ã®å ´åˆã€å¿…é ˆã® _plugin_options "display_skipped_hosts" ãŒä¸è¶³ã—ã¦ã„ã¾ã™: |
                        def get_option(self, k):
                            import pdb
                            pdb.set_trace()
                            return self._plugin_options[k]
                        (Pdb) p k
                        'display_skipped_hosts'
                    #search: display_skipped_hosts
        - #// __PlugInName__ declined parsing __FilePath__ as it did not pass its verify_file() method
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                host_list declined parsing ____/hosts as it did not pass its verify_file() method
            å¯¾å‡¦A: #// __FilePath__ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€å°é™ã«ã—ã¾ã™
                __FilePath__ ãƒ•ã‚¡ã‚¤ãƒ« ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚Šã¾ã™:
                __FilePath__ ãƒ•ã‚¡ã‚¤ãƒ« ã«æœ€å°é™ã®è¨­å®šã‚’æ›¸ãã¾ã™:
            å¯¾å‡¦B:
                ansible.cfg ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€å°é™ã«ã—ã¾ã™  #search: minimum ansible.cfg
        - #// [WARNING]: Skipping plugin (__PythonFilePath__) __ErrorMessage__  #keyword: [WARNING]: Skipping plugin
            æ‰‹é †: ansible-playbook
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Skipping plugin (__PythonFilePath__) __ErrorMessage__
            å¯¾å‡¦:
                __PythonFilePath__ ã®ãƒ•ã‚¡ã‚¤ãƒ«ã« print ã‚’ãƒãƒ©ã°ã„ã¦åŸå› ã‚’ç‰¹å®šã—ã¾ã™
            åŸå› :
                ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® Python ã‚³ãƒ¼ãƒ‰ (__PythonFilePath__) ã® import ä¸­ï¼ˆå®Ÿè¡Œä¸­ï¼‰ã«ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸãŸã‚
        - #// [WARNING]: Skipping plugin (.../plugins/filter/__Filters__.py) as it seems to be invalid: No module named packaging.specifiers
            æ‰‹é †: ansible-playbook
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Skipping plugin (.../plugins/filter/__Filters__.py) as it seems to be invalid: No module named packaging.specifiers
            å¯¾å‡¦:
                #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: ansible python
                Ansible ãŒä½¿ã£ã¦ã„ã‚‹ Python ã®å ´æ‰€ã‚’ç‰¹å®šã—ã¾ã™:  #keyword: Ansible Python path,  ansible_python_interpreter
                    ./_show_python_interpreter.yml : |  #// ä¸‹è¨˜ã¯ localhost ã® Python ã‚’èª¿ã¹ã‚‹å ´åˆã€‚plugins ã¯ãŠãã‚‰ã localhost ã§ã‚ã‚Šã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆSSH ã‚µãƒ¼ãƒãƒ¼ï¼‰ã§ã¯ãªã„
                        -   hosts: localhost
                            tasks:
                                -   name: Show Python interpreter
                                    debug:
                                        msg: "{{ ansible_python_interpreter }}"
                    ã‚³ãƒãƒ³ãƒ‰:
                        ansible-playbook  ./_show_python_interpreter.yml  --check
                        rm  ./_show_python_interpreter.yml
                    å‡ºåŠ›ä¾‹: |
                        ...
                        ok: [localhost] => {
                            "msg": "/usr/bin/python2"
                        ...
            åŸå› :
                packaging ã® Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
        - #// [WARNING]: Skipping plugin (____/plugins/__Filters__.py) as it seems to be invalid: No module named __Package__.__SubName__
            æ‰‹é †: ansible-playbook
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Skipping plugin (____/plugins/__Filters__.py) as it seems to be invalid: No module named __Package__.__SubName__
            å¯¾å‡¦:
                Ansible control ãƒãƒ¼ãƒ‰ ã§ Ansbile ãŒä½¿ã† Python ã«å¯¾ã—ã¦ pip install ãªã© Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ __Package__ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
        - #// Not replacing invalid character(s) "set([u'-'])" in group name (host-bak)
            æ‰‹é †: ansible-playbook --check
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Invalid characters were found in group names and automatically replaced, use -vvvv to see details
                Not replacing invalid character(s) "set([u'-'])" in group name (host-bak)
                    ã¾ãŸã¯
                [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
            å¯¾å‡¦:
                ã‚°ãƒ«ãƒ¼ãƒ—åã«è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢(_)ã®ã¿ä½¿ã†ã‚ˆã†ã«ã—ã¾ã™
        - #// Could not match supplied host pattern, ignoring: centos7_52
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Unable to parse /tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory as an inventory source
                [WARNING]: No inventory was parsed, only implicit localhost is available
                [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
                [WARNING]: Could not match supplied host pattern, ignoring: centos7_52
            å¯¾å‡¦:
                /tmp/vagrant-ansible/inventory/vagrant_ansible_local_inventory ã« centos7_52 ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„
        - #// Failed to set permissions on the temporary files Ansible needs to create when becoming an unprivileged user
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [__Host__]: FAILED! => {"msg": "Failed to set permissions on the temporary files Ansible needs to create when becoming an unprivileged user (rc: 1, err: chown: invalid user: â€˜goâ€™\n}).
                For information on working around this, see https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user"}
            å¯¾å‡¦:
                become_user ã®è¨­å®šãŒç„¡ã„ï¼Ÿ
        - #// curl: (23) Failed writing body  #keyword: Ansible curl failed writing body
            æ‰‹é †: Ansible ã® shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ curl ____  |  ____  
            ã‚¨ãƒ©ãƒ¼: |
                SyntaxError: invalid syntax
                curl: (23) Failed writing body (3948 != 5935)
                stderr_lines": ["  File \"<stdin>\", line 137"
                    return f\"{STYLES[style]}{text}\\033[0m\"
            å¯¾å‡¦:
                curl ____  |  ____  ã‚’ curl ____  |  sponge  |  ____  ã«å¤‰æ›´ã—ã¾ã™
                #ref: https://stackoverflow.com/questions/16703647/why-does-curl-return-error-23-failed-writing-body
            å‚è€ƒ:
                sponge:  #keyword: sponge
                    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                        CentOS7: sudo yum install -y  moreutils
                    tee ã¨ã®é•ã„: #ref: https://stackoverflow.com/questions/33638511/differences-between-sponge-and-tee
        - #// yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ HTTP Error 403: Forbidden
            æ‰‹é †: yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ yum install ç›¸å½“
            ã‚¨ãƒ©ãƒ¼: |
                TASK [____] **************************************************************************************************************************
                    fatal: [centos7_56]: FAILED! => {"changed": false, "msg": "Failure downloading https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm,
                    HTTP Error 403: Forbidden"}
            å¯¾å‡¦:
                HTTP ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ç¢ºèªã—ã¾ã™:
                    ä¸‹è¨˜ Ansible ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™: |
                        -   name: check HTTP header
                            become: true
                            shell: curl --head https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
                å‡ºåŠ›ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰ã‚’ç¢ºèªã—ã¾ã™: |
                    HTTP/1.1 200 Connection established
                    HTTP/1.1 302 Moved Temporarily
                    Content-Type: text/html; charset=UTF-8
                    ....
                    Location: https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm
                    ....
                302 ã‚¨ãƒ©ãƒ¼ã®å ´åˆï¼ˆä¸Šè¨˜ã®å ´åˆï¼‰:
                    Location ã«æ›¸ã‹ã‚ŒãŸ URL ã«ä¿®æ­£ã—ã¾ã™
                #ref: https://qiita.com/kiyokiyopip56/items/6540f1a90574176fb3b6
        - #// skipping: [__VM__] => {"changed": false, "skip_reason": "Conditional result was False"}
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                skipping: [__VM__] => {"changed": false, "skip_reason": "Conditional result was False"}
            çŠ¶æ³:
                ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œæ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ãªã„ã®ã§ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸã€‚äºˆæƒ³é€šã‚Šãªã‚‰ç„¡è¦–ã§ãã¾ã™  #search: Ansible when
        - #// ERROR! A worker was found in a dead state  Connection to localhost closed.
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                TASK [Gathering Facts] ********************
                ERROR! A worker was found in a dead state
                Connection to localhost closed.
            å¯¾å‡¦:
                SSH ã§ (@control)ï¼ˆansible_local ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ VMï¼‰ã‹ã‚‰ä»–ã® VM ã«æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                    upload_SSH_keys.sh  #keyword:
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible/README.yaml:csv#~/.ssh/known_hosts, ./upload_SSH_keys.sh
        - #// expected name or number
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [__ServerName__]: FAILED! => {"msg":
                "template error while templating string: expected name or number. String:
                {{result.ansible_facts.services.['__ServiceName__']}}"}
            å¯¾å‡¦:
                ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã«æ­£ã—ã¾ã™:
                    - __Object__.__PropertyName__
                    - __Object__['__PropertyName__']
                    - __Object__["__PropertyName__"]
                    - __Object__[__VariableName__]
                æ³¨æ„: |
                    [] ã®å‰ã«ãƒ”ãƒªã‚ªãƒ‰ã‚’æ›¸ã‹ãªã„ã§ãã ã•ã„
        - #// need string or buffer, int found
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [__Host__]: FAILED! => {"msg": "The conditional check '__Condition__' failed.
                The error was: Unexpected templating type error occurred on 
                ({% if __Condition__  in  result.content %} True {% else %} False {% endif %}):
                coercing to Unicode: need string or buffer, int found"}
            å¯¾å‡¦:
                æ–‡å­—åˆ—å‹ã«å¤‰æ›ã—ã¾ã™:
                    (__Expression__ | string)
        - #// ERROR! A malformed role declaration was encountered.
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                ERROR! A malformed role declaration was encountered.
            å¯¾å‡¦:
                roles ã‚’é…åˆ—ã«ã—ã¦ãã ã•ã„ï¼ˆæœªç¢ºèªï¼‰
                ã‚µãƒ¼ãƒãƒ¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ãã€ã‚µãƒ¼ãƒãƒ¼ã®å†…å®¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
        - #// UNREACHABLE!
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [db1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname db1: Name or 
                service not known", "unreachable": true}
            å¯¾å‡¦:
                Ansible ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ã® /etc/hosts ã« db1 ã‚’è¨­å®šã—ã¾ã™ã€‚
        - #// yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã¦ rc == -9 ã ã£ãŸã¨ã
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [control]: FAILED! => {"changed": false, "changes": {___, "rc": -9, "results": [___]}
            å¯¾å‡¦:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                ã‚‚ã†ä¸€åº¦ Ansible ã‚¿ã‚¹ã‚¯ ã‚’å‹•ã‹ã™:
                RPM ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä¿®å¾©ã™ã‚‹:
                    #search: cannot open Packages index using db5
        - #// No package matching '____' found available
            æ‰‹é †: ansible-playbook  playbook.yml yum module
            ã‚¨ãƒ©ãƒ¼: |
                FAILED! => {"changed": false, "msg": "No package matching '____' found available,
                installed or updated", "rc": 126, "results": ["No package matching '____' found available, installed or updated"]}
            å¯¾å‡¦:
                å‰ã®æ‰‹é †ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ RPM ãƒªãƒã‚¸ãƒˆãƒªã® URL ãŒé–“é•ã£ã¦ã„ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
        - #// A worker was found in a dead state
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                ERROR! A worker was found in a dead state
            å¯¾å‡¦:
                ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¾ã™ã€‚
            åŸå› :
                ã—ã°ã‚‰ãå®Ÿè¡Œã—ã¦ã„ãªã„ã¨ç™ºç”Ÿã™ã‚‹ã‚ˆã†ã§ã™ã€‚
        - #// Failure downloading Request failed CERTIFICATE_VERIFY_FAILED certificate verify failed
            æ‰‹é †:
                ansible-playbook  playbook.yml  yum ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ã‚¨ãƒ©ãƒ¼: |
                fatal: [zabbix1]: FAILED! => {"changed": false, "msg": "Failure downloading
                https://repo.zabbix.com/zabbix/6.0/rhel/7/x86_64/zabbix-release-6.0-1.el7.noarch.rpm,
                Request failed: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:618)>"}
            å¯¾å‡¦A:
                HTTPS ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ã€è‡ªå·±ç½²åè¨¼æ˜æ›¸ã® HTTPS ã‚µãƒ¼ãƒãƒ¼ã§ã‚‚è¨±å¯ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™
                    #search: accept self signed certificate
            å¯¾å‡¦B:
                https ã‚’ http ã«å¤‰æ›´ã—ã¾ã™
        - #// unable to find /root/.my.cnf. Exception message: (2005, \"Unknown MySQL server host '__LoginHost__'
            æ‰‹é †: ansible-playbook  playbook.yml  mysql_db ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ã‚¨ãƒ©ãƒ¼: |
                FAILED! => {"changed": false, "msg": "unable to find /root/.my.cnf. Exception message: (2005, \"Unknown MySQL server host '__LoginHost__' (2)\")"}
            å¯¾å‡¦:
                mysql_db ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® target, login_host, login_user ã‚’æ­£ã—ãæŒ‡å®šã—ã¦ãã ã•ã„
                    #search: Ansible mysql_db module
        - #// conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}
            æ‰‹é †: ansible-playbook  playbook.yml
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found:
                version_found.json.version.number != "{{ _____ }}"
            å¯¾å‡¦: |
                æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ã¨ãã¯ã€{{ }} ã§å›²ã¾ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚ æ–‡å­—åˆ—ã¨çµåˆã™ã‚‹ã¨ãã¯ + ã‚’ä½¿ã„ã¾ã™ã€‚
                ï¼ˆæ¡ä»¶ä»¥å¤–ã‚’æŒ‡å®šã™ã‚‹ã¨ãã¯ "{{ }}" ã§å›²ã¿ã¾ã™ï¼‰
            ä¿®æ­£å‰ã®ä¾‹:
                when: "'multi_instance_directories = /etc/{{ instance }}' not in check_result.stdout"
            ä¿®æ­£å¾Œã®ä¾‹:
                when: ('multi_instance_directories = /etc/' + instance) not in check_result.stdout
        - #// The PyMySQL (Python 2.7 and Python 3.X) or MySQL-python (Python 2.X) module is required.
            æ‰‹é †: mysql_user ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ mysql_db ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãŸã¨ã
            ã‚¨ãƒ©ãƒ¼: The PyMySQL (Python 2.7 and Python 3.X) or MySQL-python (Python 2.X) module is required.
            å¯¾å‡¦:
                mysql ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã«ãªã‚‹ãƒ›ã‚¹ãƒˆã« MySQL-python ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™:
                    Playbook.yml:  #keyword: MySQL-python, python3-PyMySQL
                        -   name: install MySQL-python  #// for "mysql_user" ansible module
                            become: yes
                            yum:
                                name: MySQL-python  #// CentOS8 ã‹ã‚‰ã¯ python3-PyMySQL
                                state: present
        - #// file depending on the exact syntax problem
            æ‰‹é †: ansible-playbook  playbook.yml  --list-tasks
            ã‚¨ãƒ©ãƒ¼: |
                The error appears to be in '/vagrant/playbook.yml': line 21, column 13, but may
                be elsewhere in the file depending on the exact syntax problem.
                The offending line appears to be:
                                name: mysql-server
                        -   name: install flyway
                            ^ here
            å¯¾å‡¦: name ä»¥å¤–ã®ã‚­ãƒ¼ã‚’æŒ‡å®šã§ãã‚‹ä½ç½®ã‚’æ­£ã—ãã—ã¦ãã ã•ã„
            åŸå› : name ä»¥å¤–ã®ã‚­ãƒ¼ãŒæ­£ã—ããªã„ã‹ã€ãã“ã«æŒ‡å®šã§ããªã„
        - #// No matching task "__TaskName__" found
            æ‰‹é †: ansible-playbook  ____.yml  ____  --start-at-task "__TaskName__"
            ã‚¨ãƒ©ãƒ¼: |
                [ERROR]: No matching task "__TaskName__" found. Note: --start-at-task can only follow static includes.
            å¯¾å‡¦A:  #// import_tasks, import_role ã ã‘ã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã®å ´åˆ
                ã‚µãƒ³ãƒ—ãƒ« task: |  #focus: import_tasks
                    -   name: create databases
                        import_tasks: _migrate.yml
                å¯¾å‡¦:
                    ç›´å‰ã«ãƒ€ãƒŸãƒ¼ã®ã‚¿ã‚¹ã‚¯ï¼ˆdebugãªã©ï¼‰ã‚’å…¥ã‚Œã¦ã€ãã®ã‚¿ã‚¹ã‚¯ã® name ã‚’ --start-at-task ã«æŒ‡å®šã—ã¾ã™ã€‚
                        #// import_tasks, import_role ã ã‘ã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã® name ã‚’ --start-at-task ã«æŒ‡å®šã§ãã¾ã›ã‚“
                    #search: Ansible debug
            å¯¾å‡¦B:  #// block ã® name ã®å ´åˆ
                ã‚µãƒ³ãƒ—ãƒ« task: |  #focus: block
                    - name: run flyway
                    block:
                        - name: migrate
                å¯¾å‡¦:
                    import_tasks ã®å ´åˆã¨åŒã˜
            å¯¾å‡¦C:  #// typo ã—ã¦ã„ã‚‹å ´åˆ
                name ã‚­ãƒ¼ã®å€¤ã‚’ã‚³ãƒ”ãƒšã—ã¾ã™
            å¯¾å‡¦D:
                - --tag ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„ --limit ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã¨ãã¯ã€
                    ãã®æŒ‡å®šã«ã‚ˆã£ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã‚’ --start-at-task ã«æŒ‡å®šã—ã¦ãã ã•ã„
        - #// Could not match supplied host pattern
            æ‰‹é †: ansible-playbook  ____.yml  ____  --limit "__ServerName__"
            ã‚¨ãƒ©ãƒ¼: |
                [WARNING]: Could not match supplied host pattern, ignoring: __ServerName__
                ERROR! Specified hosts and/or --limit does not match any hosts
            å¯¾å‡¦: |
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«ã« __ServerName__ ã‚’è¿½åŠ ã—ã¾ã™  #search: ansible inventory file
        - #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãŒå¤±æ•—ã™ã‚‹ã¨ã:
            ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ VM ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¦ã‹ã‚‰ã€ã¾ãšã¯ã‚·ã‚§ãƒ«ã§å®Ÿè¡Œã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
        - #// No matching task
            æ‰‹é †: ansible-playbook ã‚³ãƒãƒ³ãƒ‰
            ã‚¨ãƒ©ãƒ¼: |
                [ERROR]: No matching task "__TaskName__" found. Note: --start-at-task can only follow static includes.
            å¯¾å‡¦:
                ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¼ ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’æ­£ã—ãæŒ‡å®šã—ã¦ãã ã•ã„:  #search: Ansible inventory path
        - #// unable to find /home/__User__/.my.cnf
            æ‰‹é †: mysql_replication ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            ã‚¨ãƒ©ãƒ¼: |
                "msg": "unable to find /home/vagrant/.my.cnf. Exception message: (1045, \"Access denied for user 'vagrant'@'localhost' (using password: NO)\")"
            å¯¾å‡¦:
                ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¿ã‚¹ã‚¯ã«è¿½åŠ ã—ã¦ãã ã•ã„:
                    login_unix_socket: /var/lib/mysql/mysql.sock
                    login_user: root
                    login_password: "{{ mysql_root_password }}"
        - ãã®ä»–:
            ã‚¿ã‚¹ã‚¯ãŒå¤±æ•—ã—ãŸãƒã‚·ãƒ¼ãƒ³ã®ã‚¿ã‚¹ã‚¯ã¯ã€Playbook å…¨ä½“ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰é™¤å¤–ã•ã‚Œã¾ã™ã€‚
            Playbook ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã€å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
Terraform, HCL è¨€èª: #keyword:
    Terraform:
        ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: #ref: https://developer.hashicorp.com/terraform/tutorials
            #ref: https://developer.hashicorp.com/terraform/downloads
        ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼: #keyword: Terraform provider  #ref: https://registry.terraform.io/browse/providers
            ç®¡ç†ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã€‚AWS, Azure, GCP, Kubernetes, Helm, GitHub, Splunk, DataDog, ...
        State ã¨ Backends:
            State: ç¾åœ¨ã®ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ãŒæ›¸ã‹ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
            Backends: State ã®ãƒªãƒã‚¸ãƒˆãƒªã€‚Terraform Cloud ã‚„ GCP Cloud Storage
    HCL: #// Hashicorp Configuration Language  #ref: https://github.com/hashicorp/hcl
        ç‰¹å¾´:
            JSON äº’æ›ã®æ„å‘³:
                æ–‡æ³•ã«äº’æ›æ€§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                JSON, YAML ã‚’å‡ºåŠ›ã—ãŸã‚Šã€é…åˆ—ã¨è¾æ›¸ã‹ã‚‰ãªã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«APIã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’äº’æ›æ€§ãŒã‚ã‚‹ã¨è¨€ã£ã¦ã„ã¾ã™ã€‚
            IaC: #search:
        æ‰‹é †:
            VSCode æ‹¡å¼µæ©Ÿèƒ½:  #search: VSCode extension
                HashiCorp HCL
            HCL ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ Go è¨€èªã®ãƒ‡ãƒ¼ã‚¿ã«ã—ã¾ã™:
                try_HCL:  #ref: ${GitHub}/Trials/try_HCL/example/1_first_HCL/parser.go
            HCL ã§ GoCD ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œã‚‹å ´åˆ: #keyword: HCL GoCD
                HCL Go è¨€èª: #ref: https://pkg.go.dev/github.com/hashicorp/hcl/v2
        ãƒ•ã‚¡ã‚¤ãƒ«:
            ã‚µãƒ³ãƒ—ãƒ«: |  #ref: https://github.com/hashicorp/hcl#hcl
                package main

                import (
                    "log"

                    "github.com/hashicorp/hcl/v2/hclsimple"
                )

                type Config struct {
                    IOMode  string        `hcl:"io_mode"`
                    Service ServiceConfig `hcl:"service,block"`
                }

                type ServiceConfig struct {
                    Protocol   string          `hcl:"protocol,label"`
                    Type       string          `hcl:"type,label"`
                    ListenAddr string          `hcl:"listen_addr"`
                    Processes  []ProcessConfig `hcl:"process,block"`
                }

                type ProcessConfig struct {
                    Type    string   `hcl:"type,label"`
                    Command []string `hcl:"command"`
                }

                func main() {
                    var config Config
                    err := hclsimple.DecodeFile("config.hcl", nil, &config)
                    if err != nil {
                        log.Fatalf("Failed to load configuration: %s", err)
                    }
                    log.Printf("Configuration is %#v", config)
                }
            (${____}) æ§‹æ–‡, æ–‡å­—åˆ—è£œé–“:  #keyword: HCL ${},  HCL string interpolation
        å‚è€ƒ:
            nomad HCL:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/hcl2
            HCL ã‚’ Parse ã™ã‚‹:  #ref: https://qiita.com/TsuyoshiUshio@github/items/ba4a2101be4784253cc5
            HCL ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ã€æ§‹é€ ã‚’çµ„ã¿æ›¿ãˆã¦å†å‡ºåŠ›ã™ã‚‹:  #ref: https://chroju.dev/blog/hcl_parse_and_output
            Build your own DSL with Go & HCL:  #ref: https://blog.devgenius.io/build-your-own-dsl-with-go-hcl-602c92ce24c0
Nomad: #keyword: HashiCorp Nomad,  Nomad  #// ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ„ãƒ¼ãƒ«,  ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚° ãƒ„ãƒ¼ãƒ«
    æ¦‚è¦:
        ã‚µãƒ¼ãƒ“ã‚¹ã®é…ç½®:  #search: Nomad placement
        Nomad ã¨ Docker ã®é•ã„:
            èµ·å‹•:
                Docker
                    ssh server-1
                    docker run django-app
                nomad
                    nomad job run django-app.nomad.hcl   1å›ã®å®£è¨€ã§3å°ã«è‡ªå‹•é…ç½®
            nomad ã«è¨­å®šã™ã‚‹å†…å®¹:
                Docker Hub ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒª èªè¨¼æƒ…å ±
            nomad ãŒã§ããªã„ã“ã¨:  #// GitHub Actions ãªã©ã§å®Ÿè¡Œã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ act ã‚³ãƒãƒ³ãƒ‰ã§ .github/workflows/.yml ã‚’å®Ÿè¡Œã§ãã¾ã™
                - Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
                - Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¸ç™»éŒ²
            åŒã˜:
                ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤
        RPM Ansible ã¨ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ nomad:
            _: ãƒ†ã‚¹ãƒˆç’°å¢ƒã§Dockerã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã«RPMã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã¯ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã™ãŒã€
                ã‚³ãƒ³ãƒ†ãƒŠãƒã‚¤ãƒ†ã‚£ãƒ–ã®ã»ã†ãŒã‹ãªã‚Šãƒ“ãƒ«ãƒ‰ãŒé€Ÿã„ã§ã™
            Ansible ã¨ Docker Nomad: |
                Ansible ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ Nomad å¤‰æ•°ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãã‚Œãã‚Œç”¨æ„ã—ãŸã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«
                ã„ãšã‚Œã¯ã€Dockerfile ã ã‘ã«æ®µéšçš„ã«ç§»è¡Œã™ã¹ã
                    ä»Šã™ã: æ–°ã—ã„Dockerãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’æ—¢å­˜Ansibleã¨ä¸¦è¡Œæ§‹ç¯‰
                    3ãƒ¶æœˆä»¥å†…: 1-2å€‹ã®ç°¡å˜ãªã‚µãƒ¼ãƒ“ã‚¹ã§Dockerç§»è¡Œãƒ†ã‚¹ãƒˆ
                    6ãƒ¶æœˆä»¥å†…: ç§»è¡ŒæˆåŠŸã‚µãƒ¼ãƒ“ã‚¹ã®æœ¬ç•ªå±•é–‹
                    1å¹´ä»¥å†…: æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ã¯å…¨ã¦Dockerã€æ—¢å­˜ã¯é¸æŠçš„ç§»è¡Œ
                    2å¹´ä»¥å†…: ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’é™¤ã„ã¦å¤§éƒ¨åˆ†ã‚’DockeråŒ–
        GitHub Actions ã§ã‚‚ä½¿ãˆã¾ã™:
            ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ãƒƒãƒ‰ãƒ©ãƒ³ãƒŠãƒ¼ï¼ˆå®Ÿè¡Œç’°å¢ƒï¼‰ã« Nomad CLI ã‚‚ã—ãã¯ Nomad ã¸ã®åˆ°é”æ‰‹æ®µï¼ˆHTTP APIï¼‰ãŒã‚ã‚Œã°ã€
            GitHub Actions ã®ã‚¸ãƒ§ãƒ–ã‹ã‚‰ nomad job run / nomad job dispatch / nomad job promote ãªã©ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ã€‚
        #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: nomad
    æ‰‹é †:
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨èµ·å‹•: #keyword: install Nomad
            Nomad ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: |  #// WSL2 Rocky Linux 8
                sudo dnf config-manager --add-repo  https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo
                sudo dnf -y install nomad
                nomad version

                #// Nomad depends on these packages.
                sudo dnf install -y  iproute  #// ip command

                #// ...
                sleep  3s
                sudo systemctl start nomad
                sudo systemctl enable nomad
            nomad.hcl ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å†èµ·å‹•ã—ã¾ã™: |  #search: nomad.hcl minimum Docker
                sudo tee /etc/nomad.d/nomad.hcl > /dev/null
                    å†…å®¹ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚ãŸã ã—ã€__ProxyURL__ ã®éƒ¨åˆ†ã¯ç½®ãæ›ãˆã¦ãã ã•ã„  #search: nomad.hcl minimum Docker
                sudo systemctl restart nomad
                nomad node status -self -verbose
            ~/django.nomad ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™: #keyword: Docker Django Nomad example,  django.nomad
                åŒç­‰ã®ã‚³ãƒãƒ³ãƒ‰:  #search: docker run Django
                å†…å®¹: |  #// python ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ apt-get ã§ã™
                    job "django-app" {
                        group "web" {
                            task "django" {
                                driver = "docker"
                                config {
                                    image = "python:3.11"
                                    network_mode = "host"
                                    extra_hosts = ["host.docker.internal:host-gateway"]
                                    work_dir = "/app"
                                    command = "sh"
                                    args = [
                                        "-c",
                                        join(" && ", [

                                            "echo 'task: install Django...'",
                                            "pip install django",
                                            "django-admin startproject myproject .",
                                            "sed -i -E 's/ALLOWED_HOSTS = \\[\\]/ALLOWED_HOSTS = [\"*\"]/'  myproject/settings.py",
                                            "python manage.py migrate",
                                            "python manage.py runserver 0.0.0.0:8000",

                                            "echo 'task: sleep infinity...'",
                                            "trap 'exit 0' TERM;  sleep infinity  &  wait"
                                        ])
                                    ]
                                }
                                env {
                                    http_proxy  = "${meta.http_proxy}"  # "meta" is defined in client block in nomad.hcl file.
                                    https_proxy = "${meta.https_proxy}"
                                    HTTP_PROXY  = "${meta.http_proxy}"
                                    HTTPS_PROXY = "${meta.https_proxy}"
                                    no_proxy    = "${meta.no_proxy}"
                                    NO_PROXY    = "${meta.no_proxy}"
                                }
                                resources {
                                    cpu = 800
                                    memory = 512
                                }
                            }
                        }
                    }
                ï¼ˆå¿œç”¨ï¼‰:
                    ç„¡é™ sleep:  #// ã‚³ãƒ³ãƒ†ãƒŠâ€•ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ãŸã‚ã«ä½•ã‚‚ã—ãªã„  #search: docker container run -d sleep
                    ãƒ–ãƒªãƒƒã‚¸ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã«å¤‰ãˆã‚‹: |
                        job "django-app" {
                            group "web" {
                                network {
                                    port "http" {
                                        static = 8000
                                        to     = 8000
                                    }
                                }
                                task "django" {
                                    driver = "docker"
                                    config {
                                        image = "python:3.11"
                                        ports = ["http"]
                                        # network_mode = "host"
                                        # extra_hosts = ["host.docker.internal:host-gateway"]
                    è»½é‡åŒ–:
                        python ã®ä»£ã‚ã‚Šã« python-slim ã‚’æŒ‡å®šã—ã¾ã™
                    OS å¤‰æ›´:
                        #search: Docker Rocky
            èµ·å‹•çµ‚äº†ã‚³ãƒãƒ³ãƒ‰: | #keyword: nomad job run example
                nomad job run  django.nomad
                    #// åˆå›ã¯ç´„30ç§’ã€2å›ç›®ä»¥é™ã¯ç´„10ç§’
                #// http://172.18.136.196:8000/  ã®ã‚ˆã†ãª IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
                nomad job status  django-app
                nomad job stop  django-app
                nomad system gc
            ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰: #keyword: Nomad debug  #search: Nomad trouble
                WebUI: #keyword: Nomad debug WebUI  #// è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™
                    URL ã®æ›¸å¼:   http://__NomadHost__:4646/ui/jobs/__JobName__
                    URL ã‚µãƒ³ãƒ—ãƒ«: http://172.18.136.196:4646/ui/jobs/django-app
                    Not Authorized ã«ãªã‚‹å ´åˆ:  #ref: https://developer.hashicorp.com/nomad/commands/ui
                        nomad ui -authenticate -address=http://__NomadHost__:4646
                    ä¸»ãªé …ç›®:
                        Deployment History: #keyword: Noame Deployment History
                            Received:
                                Task received by client: ã‚³ãƒãƒ³ãƒ‰ã‚’å—ä¿¡ã—ãŸã¨ãï¼Ÿ
                            Downloading Artifacts:
                            Template:
                            Terminated: ã‚¿ã‚¹ã‚¯å®Ÿè¡Œæ™‚ã®ã‚¨ãƒ©ãƒ¼  .nomad >> task >> args
                        Allocation History:
                        View Logs:
                client, systemd:
                    åŸºæœ¬:
                        sudo journalctl -u nomad  --no-pager  |  less
                    è¡¨ç¤ºã—ç¶šã‘ã‚‹å ´åˆ:
                        sudo journalctl -u nomad  --follow
                docker: |  #// ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™
                    ContainerName="$( docker ps --format "{{.Names}}"  |  grep "^django-" )"  &&  echo "${ContainerName}"
                    docker exec -it  ${ContainerName}  bash
                nomad: |  #focus: django-app
                    nomad status  django-app
                        Allocations
                        ID        Node ID   Task Group  Version  Desired  Status   Created    Modified
                        3da868f5  7deb987c  web         0        run      running  3m28s ago  3m ago
                    AllocationID=3da868f5
                    nomad alloc status ${AllocationID}   #// -job ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã¯ä½¿ãˆã¾ã›ã‚“
                    nomad alloc logs -job django-app    #search: nomad alloc logs
                    nomad alloc logs  ${AllocationID}   #search: nomad alloc logs
                    nomad alloc exec  ${AllocationID}  /bin/bash
                artifact:  #serach: Nomad artifact trouble
            docker ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:  #search: nomad docker command
        Vault ã¨æ¥ç¶šã—ã¾ã™: #keyword: install Nomad Vault
            Nomad ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                #search: install Nomad
            Vault ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                #search: install HashiCorp Vault
            workload ID ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« ã‚’å®Ÿæ–½ã—ã¾ã™:  #ref: https://developer.hashicorp.com/nomad/docs/secure/workload-identity/vault
                Nomad ã¨ Vault ã‚’æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                    nomad.hcl ã« acl ãƒ–ãƒ­ãƒƒã‚¯ ã¨ vault ãƒ–ãƒ­ãƒƒã‚¯ ã‚’è¿½åŠ ã—ã¦å†èµ·å‹•ã—ã¾ã™: |
                        sudo vi /etc/nomad.d/nomad.hcl  #search: nomad.hcl with Vault
                        sudo systemctl restart nomad
                        #// nomad node status -self -verbose  #// "nomad.hcl" ãƒ•ã‚¡ã‚¤ãƒ«ã® acl ãŒ enabled ã®å ´åˆã€nomad ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ bootstrap ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆä¸‹è¨˜ï¼‰ãŒå¿…è¦ãªã®ã§ã€ã¾ã å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚
                    Nomad ã® ACL ã‚·ã‚¹ãƒ†ãƒ  ã‚’åˆæœŸåŒ–ã—ã¾ã™: |
                        export VAULT_ADDR="http://localhost:8200"
                        nomad acl bootstrap
                            è¡¨ç¤ºã•ã‚ŒãŸå†…å®¹ï¼ˆç‰¹ã«ä»¥ä¸‹ã®ã‚­ãƒ¼ï¼‰ã‚’å®‰å…¨ãªå ´æ‰€ ~/.secrets/nomad_acl_bootstrap.log ã«ä¿å­˜ã—ã¾ã™ã€‚
                                Accessor ID  = __NomadAccessorID__
                                Secret ID    = __BootstrapToken__
                            ã™ã§ã«å®Ÿè¡Œæ¸ˆã¿ãªã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚å†åˆæœŸåŒ–ã•ã‚Œã¾ã›ã‚“
                            ã‚¨ãƒ©ãƒ¼ Unexpected response code: 400 (ACL support disabled) ãŒç™ºç”Ÿã™ã‚‹ã¨ãã¯ sudo systemctl restart nomad
                        export VAULT_ADDR="http://localhost:8200"
                        export NOMAD_TOKEN=__BootstrapToken__
                        nomad node status -self -verbose
                    Vault ACL auth method ã‚’ä½œã‚Šã¾ã™: |
                        export VAULT_ADDR="http://localhost:8200"  #search: VAULT_ADDR
                        vault auth enable -path "jwt-nomad" "jwt"
                    Vault ã«å„ç¨®è¨­å®šã‚’ä¿å­˜ã—ã¾ã™:  #// workload ID ã‚’ä½¿ã£ãŸèªè¨¼æ–¹æ³•ã«é–¢ã™ã‚‹è¨­å®šã§ã™
                        #focus: nomad-workloads
                        auth/jwt-nomad/config: |  #keyword: auth/jwt-nomad
                            vault write "auth/jwt-nomad/config" - << HERE_DOCUMENT
                            {
                                "jwks_url": "http://localhost:4646/.well-known/jwks.json",
                                "jwt_supported_algs": ["RS256", "EdDSA"],
                                "default_role": "nomad-workloads"
                            }
                            HERE_DOCUMENT
                        auth/jwt-nomad/role/nomad-workloads: |
                            vault write "auth/jwt-nomad/role/nomad-workloads" - << HERE_DOCUMENT
                            {
                                "role_type": "jwt",
                                "bound_audiences": ["vault.io"],
                                "user_claim": "/nomad_job_id",
                                "user_claim_json_pointer": true,
                                "claim_mappings": {
                                    "nomad_namespace": "nomad_namespace",
                                    "nomad_job_id": "nomad_job_id",
                                    "nomad_task": "nomad_task"
                                },
                                "token_type": "service",
                                "token_policies": ["nomad-workloads"],
                                "token_period": "30m",
                                "token_explicit_max_ttl": 0
                            }
                            HERE_DOCUMENT
                        #â†“ è£œè¶³
                        vault-role-nomad-workloads.json:
                            token_policies: #keyword: token_policies Nomad Vault
                                auth/jwt-nomad ã® ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ ãƒ­ãƒ¼ãƒ« ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ã†ãƒãƒªã‚·ãƒ¼
                                Nomad ã® Job ãƒ•ã‚¡ã‚¤ãƒ«ã® vault ãƒ–ãƒ­ãƒƒã‚¯ãŒç©ºã®ã¨ãã«ä½¿ã‚ã‚Œã‚‹ãƒãƒªã‚·ãƒ¼
                    ãƒãƒªã‚·ãƒ¼ã‚’ç™»éŒ²ã—ã¾ã™:
                        #focus: nomad-workloads
                        auth method accessor ã®å€¤ï¼ˆauth_jwt_ï¼‰ã‚’ç¢ºèªã—ã¾ã™: #keyword: auth_jwt_ HashiCorp Vault
                            export VAULT_ADDR="http://127.0.0.1:8200"
                            vault auth list -detailed
                                jwt-nomad/    jwt       auth_jwt_8a6f7cd1  ...
                                ...
                        ãƒãƒªã‚·ãƒ¼ã‚’ç™»éŒ²ã—ã¾ã™: #keyword: vault policy write example
                            ã‚µãƒ³ãƒ—ãƒ«: |  #// ä¸‹è¨˜ã®æ³¨æ„ç‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„
                                vault policy write  "nomad-workloads" - << HERE_DOCUMENT
                                path "secret/data/{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_namespace}}/{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_job_id}}/*" {
                                    capabilities = ["read"]
                                }

                                path "secret/data/{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_namespace}}/{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_job_id}}" {
                                    capabilities = ["read"]
                                }

                                path "secret/metadata/{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_namespace}}/*" {
                                    capabilities = ["list"]
                                }

                                path "secret/metadata/*" {
                                    capabilities = ["list"]
                                }
                                HERE_DOCUMENT
                            #â†“ æ³¨æ„ç‚¹
                            auth_jwt_:  #focus: auth_jwt_
                                auth_jwt_00000000 ã‚’ auth method accessor ã®å€¤ã«ç½®ãæ›ãˆã¦ãã ã•ã„  #search: auth_jwt_ HashiCorp Vault
                            path "secret/:  #focus: secret
                                path ã® secret/ ã¯ã€ãƒã‚¦ãƒ³ãƒˆåã«ç½®ãæ›ãˆã¦ãã ã•ã„  #search: mount HashiCorp Vault
                            nomad_namespace: #keyword: nomad_namespace  #focus: nomad_namespace
                                .../{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_namespace}}/...
                                    ã®éƒ¨åˆ†ã¯ã€å®Ÿè¡Œæ™‚ã«ã¯ã€é€šå¸¸ã€
                                .../default/...
                                    ã«ç½®ãæ›ã‚ã‚Šã¾ã™  #search: default namespace HashiCorp Vault
                            nomad_job_id: #keyword: nomad_job_id  #// Nomad ã® Job å
                                .../{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_job_id}}/...
                                    ã®éƒ¨åˆ†ã¯ã€å®Ÿè¡Œæ™‚ã«ã¯ã€Nomad ã®ã‚¸ãƒ§ãƒ–åã«ç½®ãæ›ã‚ã‚Šã¾ã™
                                #search: Nomad job name
                Nomad ã® Web UI ã‚’é–‹ãã¾ã™:  #// Job ã®å®Ÿè¡Œçµæœã‚’ç¢ºèªã—ã¾ã™
                    export NOMAD_TOKEN=__BootstrapToken__
                    nomad ui -authenticate -address=http://localhost:4646
                Nomad ã® Job ãŒä½¿ã†ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç™»éŒ²ã—ã¾ã™:
                    ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™:
                        export VAULT_ADDR="http://localhost:8200"
                    key value v2 ã‚’ä½¿ã†è¨­å®šã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:  #search: HashiCorp Vault key value engine version 2
                        vault secrets list -detailed  |  grep version
                            ...  version:2
                    ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ Vault ã«ç™»éŒ²ã—ã¾ã™: |
                        vault kv put  "secret/default/mongo/config"  root_password=secret-password  #// "secret/data/default/mongo/config" ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                        vault kv get  "secret/default/mongo/config"
                Job ã‚’å®Ÿè¡Œã—ã¾ã™:
                    mongo.nomad.hcl ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™: |  #// ä¸‹è¨˜å†…å®¹ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯é™¤ã„ã¦ãã ã•ã„
                        job "mongo" {
                            namespace = "default"

                            group "db" {
                                network {
                                    port "db" {
                                        static = 27017
                                    }
                                }

                                service {
                                    provider = "nomad"
                                    name     = "mongo"
                                    port     = "db"
                                }

                                task "mongo" {
                                    driver = "docker"

                                    config {
                                        image = "mongo:7"
                                        ports = ["db"]
                                    }

                                    vault {}

                                    template {
                                        data        = <<EOF
                        MONGO_INITDB_ROOT_USERNAME=root
                        MONGO_INITDB_ROOT_PASSWORD={{with secret "secret/data/default/mongo/config"}}{{.Data.data.root_password}}{{end}}
                        EOF
                                        destination = "secrets/env"
                                        env         = true
                                    }
                                }
                            }
                        }
                    Job ã‚’å®Ÿè¡Œã—ã¾ã™:
                        bootstrap token ã‚’ä½¿ã†å ´åˆ: |
                            export NOMAD_TOKEN=__BootstrapToken__
                            nomad job run  "mongo.nomad.hcl"
                        å‚è€ƒï¼‰bootstrap token ã‚’é–“æ¥çš„ã«ä½¿ã†å ´åˆ:  #// æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã™ã‚‹æ¨©é™ã‚’æŒã¤ãƒãƒªã‚·ãƒ¼ã‚’åˆ¥é€”ä½œã‚‹ãªã©ã—ãªã„ã¨ã€ã‚ã¾ã‚Šå®‰å…¨ã«ã¯ãªã‚Šã¾ã›ã‚“
                            ï¼ˆåˆå›ã®ã¿ï¼‰: |
                                export NOMAD_TOKEN=__BootstrapToken__
                                nomad acl policy apply "job-operator-policy"  -  #// æœ«å°¾ã® - ãŒå¿…è¦ã§ã™ã€‚ä¸‹è¨˜ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¦ã€Ctrl + D ã‚’æŠ¼ã—ã¾ã™
                                    namespace "default" {
                                        policy       = "write"
                                        capabilities = ["submit-job", "dispatch-job", "read-logs", "alloc-exec", "read-job"]
                                    }

                                    namespace "*" {
                                        policy       = "read"
                                    }

                                    node {
                                        policy = "read"
                                    }

                                    agent {
                                        policy = "read"
                                    }

                                    operator {
                                        policy = "read"
                                    }
                            _:
                                export NOMAD_TOKEN=__BootstrapToken__
                                nomad acl token create  -name="job-operator-token"  -policy="job-operator-policy"  -ttl="24h"
                                    Secret ID    = __JobOperatorToken__
                                export NOMAD_TOKEN=__JobOperatorToken__
                                nomad job run  "mongo.nomad.hcl"
                ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒåŸ‹ã‚è¾¼ã¾ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    ContainerName="$( docker ps --format "{{.Names}}"  |  grep "^mongo-" )"  &&  echo "${ContainerName}"
                    docker exec -it  ${ContainerName}  cat /secrets/env
                        MONGO_INITDB_ROOT_USERNAME=root
                        MONGO_INITDB_ROOT_PASSWORD=secret-password
                ãƒ‡ãƒãƒƒã‚°: |  #keyword: Nomad Vault debug
                    http://localhost:8200/  #// Vault
                    export NOMAD_TOKEN=__BootstrapToken__
                    nomad ui -authenticate -address=http://localhost:4646
                        Allocation History
                        View Logs
                    nomad job status  mongo
                    nomad alloc logs -job mongo
                    ContainerName="$( docker ps --format "{{.Names}}"  |  grep "^mongo-" )"  &&  echo "${ContainerName}"
                    docker exec -it  ${ContainerName}  bash
                çµ‚äº†: |
                    nomad job stop  mongo
                    nomad system gc
                    nomad status  mongo
            ï¼ˆå‚è€ƒï¼‰:
                workload ID: #keyword: Nomad workload ID,  Nomad workload Identity
                    1. Nomadã‚¿ã‚¹ã‚¯ â†’ Workload ID (JWT) ã‚’ç”Ÿæˆã€‚ Nomad ã‚µãƒ¼ãƒãƒ¼ã®ç§˜å¯†éµã§ç½²åã•ã‚Œã¦ã„ã‚‹ JWT
                    2. Workload ID â†’ Vaultã§èªè¨¼ â†’ çŸ­æœŸé–“ãƒ»æœ€å°æ¨©é™ã®Vaultãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œ
                    3. Vaultãƒˆãƒ¼ã‚¯ãƒ³ â†’ Vault â†’ ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå–å¾—
                    4. Workload Identity ã¯ã‚¿ã‚¹ã‚¯ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é€£å‹•ã—ã¦è‡ªå‹•çš„ã«ç ´æ£„ã•ã‚Œã¾ã™
                å‹•çš„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: #keyword: Nomad Vault dynamic secrets,  Nomad Vault å‹•çš„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
                    ä¸Šè¨˜ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ Mongo DB ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’æŒ‡ã—ã¾ã™
        åˆæœŸåŒ–ã—ã¾ã™: #keyword: initialize Nomad
            ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®æœ€æ–°ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
            ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ­¢ã‚ã—ã¾ã™:
                sudo systemctl stop  nomad
            ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´æ‰€ã‚’èª¿ã¹ã¾ã™:
                cat  /etc/nomad.d/nomad.hcl  |  grep  data_dir
            ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™:
                sudo ls -la  "/opt/nomad/data"
                sudo rm -rf  "/opt/nomad/data"
                sudo ls -la  "/opt/nomad/data"
            å†åˆæœŸåŒ–ã—ã¾ã™:  #// æœªç¢ºèªã€‚ Ansible ã§ã®ã¿ç¢ºèªæ¸ˆã¿ã ãŒå†…å®¹ã¯æœªçŸ¥
                #search: install Nomad
        æ‰‹é †ã®ãƒ†ã‚¹ãƒˆ: #keyword: NomadTutorial, NomadVaultTutorial  #ref: ${GitHub}/MyPrivateCode/Nomad/Nomad_Django_REST_API/nomad_test.sh
        ã‚¹ã‚±ãƒ¼ãƒ« ã‚¢ã‚¦ãƒˆ:  #// ã‚°ãƒ«ãƒ¼ãƒ—å˜ä½
            nomad job scale example optional 1
                #template__: nomad job scale __Job__ __Group__ __Count__
        å…¬å¼ CLI ã‚¯ã‚¤ãƒƒã‚¯ ã‚¹ã‚¿ãƒ¼ãƒˆ:
            å‚è€ƒ:
                - https://learn.hashicorp.com/tutorials/nomad/get-started-install
                - https://learn.hashicorp.com/tutorials/nomad/get-started-intro
            #// æœ€å¾Œã¾ã§å‹•ä½œç¢ºèªæ¸ˆã¿ãªã®ã¯ã€Linux ã§å®Ÿè¡Œã€ãƒ›ã‚¹ãƒˆOS=Windows ã¨ã„ã†ç’°å¢ƒã®ã¿
            nomad ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                Linux ã§å®Ÿè¡Œã™ã‚‹å ´åˆ:  #// ãƒ›ã‚¹ãƒˆOS=Windows
                    Linux ã®ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œã‚Šã¾ã™:  #search: Vagrant Windows
                        #// Visual Studio Code ã§ Linux ã®ä»®æƒ³ãƒã‚·ãƒ³ã¨ SSH æ¥ç¶šã—ã¾ã™
                    Linux ã« Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #search: Docker for CentOS
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:  https://nomadproject.io/downloads/ >> (Linux ã‚¿ãƒ–) >> (OSã®ç¨®é¡) >>
                        ï¼ˆè¡¨ç¤ºã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ï¼‰
                    èµ·å‹•ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        ã‚·ã‚§ãƒ«:
                            nomad -version
                Windows ã§å®Ÿè¡Œã™ã‚‹å ´åˆ:
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:  https://nomadproject.io/downloads/ >> (Windows ã‚¿ãƒ–) >> 64-bit
                        ï¼ˆä¾‹ï¼šnomad_1.1.0_windows_amd64.zipï¼‰
                    zip ã®ä¸­ã® exe ã‚’ PATH ã®é€šã£ãŸå ´æ‰€ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™:
                        ä¾‹ï¼š C:\Users\__User__\AppData\Local\Microsoft\WindowsApps\nomad.exe
                    èµ·å‹•ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        ã‚·ã‚§ãƒ«:  #// PowerShell, Git bash
                            nomad -version
            #// ä»¥ä¸‹ã¯ Linux ã§å®Ÿè¡Œã€ãƒ›ã‚¹ãƒˆOS=Windows ã¨ã„ã†ç’°å¢ƒã§ã®ã¿ç¢ºèªæ¸ˆã¿
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚µãƒ¼ãƒãƒ¢ãƒ¼ãƒ‰ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰ã®ä¸¡æ–¹ã§èµ·å‹•ã—ã¾ã™:
                #nomad ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒã‚·ãƒ¼ãƒ³ã®æ–°ã—ã„ã‚·ã‚§ãƒ«
                sudo nomad agent -dev -bind 127.0.0.1 -log-level INFO
                #// client: node registration complete ãŒï¼’è¡Œè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¡ã¾ã™
                #// Ctrl + C ã‚­ãƒ¼ã‚’æŠ¼ã™ãªã©ã—ã¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’çµ‚äº†ã§ãã¾ã™
                #// -dev ã¯å®Ÿé¨“ç’°å¢ƒã§èµ·å‹•ã™ã‚‹ã¨ã„ã†æ„å‘³ã§ã™
                #// -bind ã¯ã‚µãƒ¼ãƒãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä½¿ãˆã‚‹ç¯„å›²ã«ãªã‚Šã¾ã™ã€‚çœç•¥ã™ã‚‹ã¨ 127.0.0.1 ã«ãªã‚Šã¾ã™
                #//    ã‚µãƒ³ãƒ—ãƒ«ã§ã¯ -bind 0.0.0.0 ã§ã™ãŒã€ã“ã‚Œã§ã¯ãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚‹ LAN ã§ã¯ãƒ—ãƒ­ã‚­ã‚· ã‚µãƒ¼ãƒãƒ¼ãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¦ã—ã¾ã„ã¾ã™
            ãƒ­ãƒ¼ã‚«ãƒ« ãƒ¢ãƒ¼ãƒ‰ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                #æ–°ã—ã„ã‚·ã‚§ãƒ«
                nomad node status
            ã‚µãƒ¼ãƒãƒ¼ ãƒ¢ãƒ¼ãƒ‰ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™:  #// ã‚´ã‚·ãƒƒãƒ— ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§æ¥ç¶šã•ã‚ŒãŸã‚µãƒ¼ãƒãƒ¼
                nomad server members
                #ref: https://ja.wikipedia.org/wiki/ã‚´ã‚·ãƒƒãƒ—ãƒ—ãƒ­ãƒˆã‚³ãƒ«
            æ–°ã—ã„ã‚¸ãƒ§ãƒ–ã‚’ä½œã£ã¦å®Ÿè¡Œã—ã¾ã™:  #// ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™
                nomad ãƒ•ã‚¡ã‚¤ãƒ« (example.nomad) ã‚’ä½œã‚Šã¾ã™:
                    - mkdir -p  ~/nomad_example
                    - cd        ~/nomad_example
                    - nomad job init  #// nomad ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œã‚Šã¾ã™
                        #// ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦ redis ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¿ã‚¹ã‚¯ãŒä½œã‚‰ã‚Œã¾ã™
                        #// -short ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ãªã‚Šã¾ã™ãŒã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ä¸€éƒ¨ãŒã§ããªããªã‚Šã¾ã™
                    - code  example.nomad  #// æ–°ã—ãä½œã‚‰ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç¢ºèªã—ã¾ã™
                ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¾ã™:  #// ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¾ã™(?)
                    nomad job run  example.nomad  #template) nomad job run  __NomadFilePath__
                        #// allocationï¼ˆå‰²ã‚Šå½“ã¦ï¼‰ãŒä½œã‚‰ã‚Œã€run ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°èµ·å‹•æ¸ˆã¿ã§ã™
                ã‚¸ãƒ§ãƒ–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤ºã—ã¦ã€allocation ã® ID ãªã©ã‚’è¡¨ç¤ºã—ã¾ã™:
                    bash:
                        nomad job status  example  #template) nomad job status  __JobName__
                            #// __JobName__ ã¯ nomad ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚
                            #// ä¸‹ã®ã»ã†ã« Allocations ã® ID ãªã©ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ Node ID ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                    ã‚‚ã—ã€ä¸‹è¨˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€Docker ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å†èµ·å‹•ã‹ã‚‰ã‚„ã‚Šç›´ã—ã¦ãã ã•ã„: |
                        Task Group "cache" (failed to place 1 allocation):
                        * Constraint "missing drivers": 1 nodes excluded by filter
                ã‚¸ãƒ§ãƒ–åã€ã‚¿ã‚¹ã‚¯åã€allocation ã® ID ã‚’ä¸€æ™‚çš„ãªç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¾ã™:  #// ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ãªãã¦ã‚‚ nomad ã¯ä½¿ãˆã¾ã™
                    bash: |
                        job="example"  #template) __JobName__
                        task="redis"   #template) __TaskName__
                        alloc="__AllocationID__"
                            #// __AllocationID__ ã¯ nomad job status __JobName__ ã§è¡¨ç¤ºã§ãã¾ã™ã€‚
                allocation ã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã—ã¾ã™:
                    nomad alloc status  $alloc
                ã‚¸ãƒ§ãƒ–ã®æ¨™æº–å‡ºåŠ›ã¨æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã‚’è¡¨ç¤ºã—ã¾ã™:
                    nomad alloc logs  $alloc  $task
            ã‚¸ãƒ§ãƒ–ã®å†…å®¹ã‚’æ›´æ–°ã—ã¾ã™:  #// ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›´æ–°ã—ãŸã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã€ãã®ã‚µãƒ¼ãƒãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™
                example.nomad ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€éƒ¨ã‚’å¤‰æ›´ã—ã¾ã™:
                    å¤‰æ›´å‰: image = "redis:3.2"
                    å¤‰æ›´å¾Œ: image = "redis:4.0"
                ã‚¸ãƒ§ãƒ–ã®æ›´æ–°å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                    bash:
                        nomad job plan  example.nomad  #template) nomad job plan  __NomadFilePath__
                    Dry run ã«æˆåŠŸã—ãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™: |
                        Scheduler dry-run:
                        - All tasks successfully allocated.
                    ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚³ãƒãƒ³ãƒ‰ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™:
                        è¡¨ç¤ºä¾‹: |
                            :
                            Job Modify Index: 10
                            To submit the job with version verification run:

                            nomad job run -check-index 10 example.nomad
                        è¡¨ç¤ºä¾‹ã®èª¬æ˜:
                            - nomad job run -check-index 10 example.nomad ã‚’å…¥åŠ›ã™ã‚‹ã¨ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¾ã™
                            - Job Modify Index (10) ã¯ã€æ’ä»–åˆ¶å¾¡ã«ä½¿ã‚ã‚Œã¾ã™ï¼ˆä»–ã®äººãŒã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¦ã„ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ï¼Ÿï¼‰
                å†…å®¹ã«å•é¡ŒãŒãªã‘ã‚Œã°ã€ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¾ã™:
                    #// nomad job plan ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã‹ã‚‰ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„
                    nomad job run -check-index 10 example.nomad
                ã‚¸ãƒ§ãƒ–ã®é€²æ—çŠ¶æ³ã‚’è¡¨ç¤ºã—ã¾ã™:
                    nomad job status example
                        #// ä»Šã¾ã§ã® allocation ã¯ stop ã«ãªã‚Šã€æ–°ã—ã„ allocation ãŒ run ã«ãªã‚Šã¾ã™
            ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ç®¡ç†ç”»é¢(nomad web interface)ã‚’é–‹ãã¾ã™:
                URL: http://__NomadAgnet__:4646/  #// ã‚²ã‚¹ãƒˆOS ãªã®ã§ä¸‹è¨˜ã®æ‰‹é †ã§è¡¨ç¤ºã—ã¾ã™
                Visual Studio Code ã§ Linux ã®ä»®æƒ³ãƒã‚·ãƒ³ã¨ SSH æ¥ç¶šã—ã¦ã„ã‚‹å ´åˆ:
                    ãƒãƒ¼ãƒˆ ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¨­å®šã—ã¾ã™:
                        VSCode >> ã‚·ã‚§ãƒ«ã® PORTS ã‚¿ãƒ– >> Add Port ãƒœã‚¿ãƒ³ >> 4646
                    ãƒ›ã‚¹ãƒˆOSã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‹ã‚‰ nomad web interface ã‚’é–‹ãã¾ã™:
                        VSCode >> ã‚·ã‚§ãƒ«ã® PORTS ã‚¿ãƒ– >> ï¼ˆLocal Address ã®ï¼‰Open in Browser ãƒœã‚¿ãƒ³
                ã‚µãƒ¼ãƒãƒ¼ã®æƒ…å ±ã¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™:  #// ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¨™æº–å‡ºåŠ›ãªã©ã‚’è¡¨ç¤ºã—ã¾ã™(?)
                    nomad web >> Serversï¼ˆå·¦ä¸‹ï¼‰>>ï¼ˆã‚µãƒ¼ãƒãƒ¼åï¼‰>> Monitor
                ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                    nomad web >> Jobsï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆã‚¸ãƒ§ãƒ–åï¼‰>> Exec ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰>>
                        ï¼ˆã‚¿ã‚¹ã‚¯ ã‚°ãƒ«ãƒ¼ãƒ—åï¼‰ï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆã‚¿ã‚¹ã‚¯åï¼‰>>ï¼ˆå³åŠåˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼‰>> Enter ã‚­ãƒ¼ >>
                    ä½¿ã‚ãªããªã£ãŸã‚‰ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã¾ã™
            ã‚¸ãƒ§ãƒ–ã‚’åœæ­¢ã—ã¾ã™:  #// ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¾ã™
                nomad web ã®å ´åˆ:
                    nomad web >> Jobsï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆã‚¸ãƒ§ãƒ–åï¼‰>> Stop ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰>> Yes, Stop ãƒœã‚¿ãƒ³
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’çµ‚äº†ã—ã¾ã™:
                ï¼ˆsudo nomad agent ã‚’å®Ÿè¡Œã—ã¦ã„ãŸã‚·ã‚§ãƒ«ï¼‰>> Ctrl + C ã‚­ãƒ¼
            ç’°å¢ƒã‚’å‰Šé™¤ã—ã¾ã™:
                Linux ã§å®Ÿè¡Œã—ã¦ã„ãŸå ´åˆ:  #// ãƒ›ã‚¹ãƒˆOS=Windows
                    Linux ã®ä»®æƒ³ãƒã‚·ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:  #search: Vagrant Windows
    æ©Ÿèƒ½:
        ãƒ‡ãƒ—ãƒ­ã‚¤:
            ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ç®¡ç†
        ã‚¤ãƒ™ãƒ³ãƒˆ:  #// Nomad ãŒçŠ¶æ…‹ã®å¤‰åŒ–ã‚’æ¤œå‡ºã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸå‡¦ç†ã‚’å®Ÿè¡Œã§ãã¾ã™ãŒã€ãã®çŠ¶æ…‹ã®å¤‰åŒ–
            Job ã®èµ·å‹•:  #search: nomad job run
            Job ã®çµ‚äº†:  #search: nomad job stop
            è¨­å®šå€¤ã®å¤‰æ›´:  #// .nomad >> task >> template >> change_mode
    Web UI:  #ref: https://learn.hashicorp.com/collections/nomad/web-ui
        Deployment History:  #search: Nomad debug WebUI
    ã‚³ãƒãƒ³ãƒ‰:  #glossary: Nomad
        nomad job run:  #// ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¾ã™
            #search: nomad job run example
        nomad job inspect: |
            nomad job inspect  __JobName__
                {
                    "Job": {
                        "ID": "__JobName__",
                        "Namespace": "default",
        nomad alloc logs:  #// ã‚¿ã‚¹ã‚¯ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™
            ãƒ—ãƒ­ã‚­ã‚· ã‚µãƒ¼ãƒãƒ¼ ã®ã‚¨ãƒ©ãƒ¼å¿œç­”ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆ:
                åŸå› èª¿æŸ»:
                    #// ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã†ã¾ãã„ã£ãŸã‚‰ã€ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ã‚ãªã„è¨­å®šã‚’ã—ã¦ãã ã•ã„
                    export no_proxy="localhost, 127.0.0.1, .local, 172.17.0.1, 172.18.0.1, 172.19.0.1, 172.20.0.1, host.docker.internal, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16"
                    export NO_PROXY="${no_proxy}"
                    nomad job status  __JobName__
        docker: #keyword: nomad docker command  #// ã‚¿ã‚¹ã‚¯å†…ã§ docker ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†å ´åˆ
            DooD ç’°å¢ƒã®æ§‹ç¯‰: #keyword: Nomad DooD  #// Docker ãƒ›ã‚¹ãƒˆï¼ˆï¼ Nomad ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€Nomad ãƒãƒ¼ãƒ‰ï¼‰ã® Docker ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã„ã¾ã™
                #search: Docker outside of Docker
                åŸºæœ¬çš„ãªã‚¿ã‚¹ã‚¯ãŒå‹•ãã‚ˆã†ã«ã—ã¾ã™:
                    #search: install Nomad
                docker ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    .nomad ãƒ•ã‚¡ã‚¤ãƒ«: |
                        task "____" {
                            driver = "docker"
                            config {
                                args = [
                                    "-c",
                                    join(" && ", [

                                        "echo 'task: install docker CLI...'",
                                        "yum install -y yum-utils",
                                        "yum-config-manager  --add-repo https://download.docker.com/linux/centos/docker-ce.repo",
                                        "yum install -y  docker-ce-cli",
                /var/run/docker.sock ã‚’ãƒœãƒªãƒ¥ãƒ¼ãƒ ã«è¨­å®šã—ã¾ã™: #keyword: Nomad volume /var/run/docker.sock
                    #// Nomad ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã® /var/run/docker.sock ã‚’ host_volume ã«è¨­å®šã—ã¾ã™
                    nomad.hcl ãƒ•ã‚¡ã‚¤ãƒ«: |  #focus: docker-sock
                        client {
                            host_volume "docker-sock" {
                                path      = "/var/run/docker.sock"
                                read_only = false
                            }
                    .nomad ãƒ•ã‚¡ã‚¤ãƒ«: |
                        task "django" {
                            group "web" {
                                task "____" {
                                    volume_mount {
                                        volume      = "docker-sock"
                                        destination = "/var/run/docker.sock"
                                    }
                                }
                                volume "docker-sock" {
                                    type      = "host"
                                    source    = "docker-sock"
                                    read_only = false
                                }
                ã‚¿ã‚¹ã‚¯å†…ï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ï¼‰ã§ docker ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã¾ã™:
                    docker ps ãªã©
                    Docker ãƒ‡ãƒ¼ãƒ¢ãƒ³ã¯ã€Nomad ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ã«ã‚ã‚Šã¾ã™
        nomad namespace list:
            åŸºæœ¬, default: #keyword: default namespace HashiCorp Vault
                ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã•ã‚Œã‚‹å ´åˆã€ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã¯ default å›ºå®šã§ã™ã€‚
                $ nomad namespace list
                No namespaces found
        ç’°å¢ƒå¤‰æ•°: #keyword: nomad CLI environment  #glossary:
            NOMAD_ADDR:
                æœªè¨­å®šã®å ´åˆã€http://127.0.0.1:4646
            NOMAD_CACERT: |
                export NOMAD_CACERT="/etc/nomad.d/tls/tls.crt"
                è¨­å®šã—ãªã„ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
                    tls: failed to verify certificate: x509: certificate signed by unknown authority
        ï¼ˆæ¥ç¶šã§ããªã„ã¨ãï¼‰:  #search: NOMAD_ADDR
    æ§‹æˆ:
        #â†“ æ¦‚è¦
        ã‚µãƒ¼ãƒ“ã‚¹ã®é…ç½®: #keyword: Nomad placement
            ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€1ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã§ã¯ãªãã€è¤‡æ•°ã®ã‚µãƒ¼ãƒãƒ¼ã«åˆ†æ•£é…ç½®
            Nomad ãŒ Consul ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‡ªå‹•ç™»éŒ²ã—ã€Consul ãŒã‚µãƒ¼ãƒ“ã‚¹ç™ºè¦‹ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’æä¾›
        ãƒ­ãƒ¼ãƒ‰ ãƒãƒ©ãƒ³ã‚µãƒ¼:
            nginx ã®å ´åˆ:  #// nginx ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åˆ†æ•£ã•ã›ã¾ã™
                upstream django_backend {
                    server 10.0.1.10:8080;
                    server 10.0.1.11:8081;
                    server 10.0.1.12:8082;
        é…ç½®ã®ä¾‹:
            åŸºæœ¬: |  #// ãƒ­ãƒ¼ã‚«ãƒ«ã§ Nomad ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼èµ·å‹•
                â”Œâ”€ ã‚ãªãŸã®WSL2 Rocky Linux â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                              â”‚
                â”‚ â”Œâ”€ Consul (Service Discovery) â”€â”€â”€â”€â”   â”‚
                â”‚ â”‚ http://localhost:8500                â”‚   â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚                                              â”‚
                â”‚ â”Œâ”€ Nomad Server + Client -â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚ â”‚ http://localhost:4646                â”‚   â”‚
                â”‚ â”‚                                      â”‚   â”‚
                â”‚ â”‚ â”Œâ”€ Django Container task -â”€â”€â”   â”‚   â”‚
                â”‚ â”‚ â”‚ http://localhost:8000        â”‚   â”‚   â”‚
                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
                â”‚ â”‚                                      â”‚   â”‚
                â”‚ â”‚ â”Œâ”€ PostgreSQL Container task -â”   â”‚   â”‚
                â”‚ â”‚ â”‚ port: 5432                   â”‚   â”‚   â”‚
                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
                â”‚ â”‚                                      â”‚   â”‚
                â”‚ â”‚ â”Œâ”€ Redis Container task â”€â”€â”€â”   â”‚   â”‚
                â”‚ â”‚ â”‚ port: 6379                   â”‚   â”‚   â”‚
                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            2ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: | #// ãƒ­ãƒ¼ã‚«ãƒ«ã§ï¼‘ç¨®é¡ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ 2ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆãƒãƒ¼ãƒˆï¼‰ã«é…ç½®
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Nomad Agent (Server + Client)          â”‚
                â”‚ http://localhost:4646                   â”‚
                â”‚                                         â”‚
                â”‚ â”Œâ”€ Django Container #1 â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚ â”‚ Port: 8000 â†’ 32001 (dynamic)      â”‚  â”‚
                â”‚ â”‚ CPU: 250m, RAM: 256MB              â”‚  â”‚
                â”‚ â”‚ PID: 12345                         â”‚  â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚                                         â”‚
                â”‚ â”Œâ”€ Django Container #2 â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚ â”‚ Port: 8000 â†’ 32002 (dynamic)      â”‚  â”‚
                â”‚ â”‚ CPU: 250m, RAM: 256MB              â”‚  â”‚
                â”‚ â”‚ PID: 12346                         â”‚  â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚                                         â”‚
                â”‚ â”Œâ”€ PostgreSQL (shared) â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚ â”‚ Port: 5432                         â”‚  â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚                                         â”‚
                â”‚ â”Œâ”€ Redis (shared) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚ â”‚ Port: 6379                         â”‚  â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                # æ–¹æ³•1: ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼çµŒç”±
                    curl http://localhost:8080/api/
                # æ–¹æ³•2: å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
                    curl http://localhost:32001/api/  # Django Container #1
                    curl http://localhost:32002/api/  # Django Container #2
            2ã¤ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä½µå­˜: |
                â”Œ- ã‚µãƒ¼ãƒãƒ¼ (8GB RAM, 4 CPU) -------------------------â”
                â”‚                                                      â”‚
                â”‚ â”Œ- Nginx Load Balancer -------------------------â”   â”‚
                â”‚ â”‚ Port: 8080                                    â”‚   â”‚
                â”‚ â”‚ /v1/* â†’ django-app-v1                        â”‚   â”‚
                â”‚ â”‚ /v2/* â†’ django-app-v2                        â”‚   â”‚
                â”‚ â”‚ /*    â†’ django-app-v2 (default)              â”‚   â”‚
                â”‚ â””----------------------------------------------â”˜   â”‚
                â”‚                                                      â”‚
                â”‚ â”Œ- Django V1 (2 instances) --------------------â”   â”‚
                â”‚ â”‚ Container 1: Port 32001, CPU: 250m, RAM:256M â”‚   â”‚
                â”‚ â”‚ Container 2: Port 32002, CPU: 250m, RAM:256M â”‚   â”‚
                â”‚ â””----------------------------------------------â”˜   â”‚
                â”‚                                                      â”‚
                â”‚ â”Œ- Django V2 (2 instances) --------------------â”   â”‚
                â”‚ â”‚ Container 3: Port 32003, CPU: 250m, RAM:256M â”‚   â”‚
                â”‚ â”‚ Container 4: Port 32004, CPU: 250m, RAM:256M â”‚   â”‚
                â”‚ â””----------------------------------------------â”˜   â”‚
                â”‚                                                      â”‚
                â”‚ â”Œ- Shared Services -----------------------------â”   â”‚
                â”‚ â”‚ PostgreSQL: Port 5432                         â”‚   â”‚
                â”‚ â”‚ â”œ- Database: myapp_v1                         â”‚   â”‚
                â”‚ â”‚ â””- Database: myapp_v2                         â”‚   â”‚
                â”‚ â”‚                                               â”‚   â”‚
                â”‚ â”‚ Redis: Port 6379                              â”‚   â”‚
                â”‚ â”‚ â”œ- DB 1 (V1ç”¨)                                â”‚   â”‚
                â”‚ â”‚ â””- DB 2 (V2ç”¨)                                â”‚   â”‚
                â”‚ â””----------------------------------------------â”˜   â”‚
                â”‚                                                      â”‚
                â”‚ â”Œ- Nomad + Consul -----------------------------â”   â”‚
                â”‚ â”‚ Nomad: Port 4646                              â”‚   â”‚
                â”‚ â”‚ Consul: Port 8500                             â”‚   â”‚
                â”‚ â””----------------------------------------------â”˜   â”‚
                â””------------------------------------------------------â”˜
        #â†“ æ§‹æˆè¦ç´ 
        ï¼ˆæ§‹é€ ï¼‰:
            Nomad:
                Job:
                    Group:
                        Task: #ğŸŒŸ  #// Docker ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã€Kubernetes ã® Podsã€å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
                Cluster:
                    server:
                    client, node:  #// ç‰©ç†/ä»®æƒ³ãƒã‚·ãƒ³
            Consul:
        ãƒãƒãƒ‰ ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼:  #// ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ(agent): 
            dev agent:  #// é–‹ç™ºã¨å®Ÿé¨“ã‚’ã™ã‚‹ã¨ãã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
            ã‚µãƒ¼ãƒãƒ¼ï¼ˆã‚µãƒ¼ãƒãƒ¼ ãƒ¢ãƒ¼ãƒ‰ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰: #keyword: Nomad server  #// ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚µãƒ¼ãƒãƒ¼ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒã‚ã‚Šã¾ã™
                ãƒªãƒ¼ãƒ€ãƒ¼:  #// ã‚µãƒ¼ãƒãƒ¼ã®ãƒªãƒ¼ãƒ€ãƒ¼
                ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼:  #// ãƒªãƒ¼ãƒ€ãƒ¼ä»¥å¤–ã®ã‚µãƒ¼ãƒãƒ¼
            ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãƒ¢ãƒ¼ãƒ‰ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰: #keyword: Nomad client  #// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ Nomad ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€Docker ãƒ›ã‚¹ãƒˆ
                #// ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ä»–ã®ã™ã¹ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãƒ¢ãƒ¼ãƒ‰
                è¨­å®š: nomad.hcl >> client
            ãƒãƒ¼ãƒ‰: #keyword: nomad node
                ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨åŒã˜
        ãƒãƒãƒ‰ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:  #// ã‚¸ãƒ§ãƒ–ã¨ã‚¿ã‚¹ã‚¯
            ã‚¸ãƒ§ãƒ–:  #// 1ã¤ä»¥ä¸Šã®ã‚¿ã‚¹ã‚¯ã‚’å«ã‚€ 1ã¤ä»¥ä¸Šã®ã‚¿ã‚¹ã‚¯ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—
                jobspecï¼ˆã‚¸ãƒ§ãƒ–ä»•æ§˜ï¼‰:  #// ã‚¸ãƒ§ãƒ–ã®ã‚¹ã‚­ãƒ¼ãƒã€‚ç¨®é¡ã€å®Ÿè¡Œã«å¿…è¦ãªã‚¿ã‚¹ã‚¯ã¨ãƒªã‚½ãƒ¼ã‚¹ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã€è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼ ãƒãƒªã‚·ãƒ¼ã€Consul ã‚µãƒ¼ãƒ“ã‚¹æƒ…å ±ãªã©
                    ã‚¸ãƒ§ãƒ–ã®å®šç¾©ã‚’è¡¨ç¤ºã—ã¾ã™: Nomad Web UI >> Jobsï¼ˆå·¦ä¸Šï¼‰>> è¡Œï¼ˆå³åŠåˆ†ï¼‰>> Definitionï¼ˆã‚¿ãƒ–ï¼‰>> commandï¼ˆã‚’æ¤œç´¢ï¼‰
            ã‚¿ã‚¹ã‚¯ ã‚°ãƒ«ãƒ¼ãƒ—:  #// ä¸€ç·’ã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚¿ã‚¹ã‚¯ã®ã‚»ãƒƒãƒˆã€‚ã‚¹ã‚±ãƒ¼ãƒ« ã‚¢ã‚¦ãƒˆ ã®å˜ä½
            ã‚¿ã‚¹ã‚¯:  #// Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ ãªã©
                ã‚¿ã‚¹ã‚¯ ãƒ‰ãƒ©ã‚¤ãƒãƒ¼:  #// ã‚¿ã‚¹ã‚¯ã®ã‚³ãƒãƒ³ãƒ‰ï¼Ÿ
            allocationï¼ˆå‰²ã‚Šå½“ã¦ï¼‰:  #// ã‚¿ã‚¹ã‚¯ ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãƒãƒ¼ãƒ‰é–“ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã€‚ã‚¿ã‚¹ã‚¯ ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
            evaluationï¼ˆè©•ä¾¡ï¼‰:  #// ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã®æ±ºå®šã‚’è¡Œã†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã€‚å¤‰æ›´ãŒã‚ã£ãŸã‚‰ã€æ–°ã—ã„è©•ä¾¡ã‚’ä½œæˆã—ã¦ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å¿…è¦æ€§ã‚’åˆ¤æ–­ã—ã¾ã™
        ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°:
            bin packingï¼ˆbinãƒ‘ãƒƒã‚­ãƒ³ã‚°ï¼‰:  #// ãƒã‚¤ãƒŠãƒªã®åå‰ã€‚ä¸è¦å‰‡ãªãƒã‚¤ãƒŠãƒª ã‚µã‚¤ã‚ºã«å¯¾å¿œã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
            ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°:  #// è² è·åˆ†æ•£ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
    ãƒ•ã‚¡ã‚¤ãƒ«:
        .nomad ãƒ•ã‚¡ã‚¤ãƒ«, Job ãƒ•ã‚¡ã‚¤ãƒ«: #keyword: .nomad job file  #ref: __Project__/__Application__.nomad  #glossary: Nomad
            #ref: https://developer.hashicorp.com/nomad/docs/job-specification
            #â†“ ã‚µãƒ³ãƒ—ãƒ«
            Docker + Django ã‚µãƒ³ãƒ—ãƒ«:  #search: Docker Django Nomad example
            Dockerfile ã‚’ä½¿ã†ã‚µãƒ³ãƒ—ãƒ«:  #// æœªç¢ºèªã€‚ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãªã©ã‚’ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ã€Dockerfile ã«æ›¸ãã€Job ãƒ•ã‚¡ã‚¤ãƒ« ã«ã¯æ›¸ãã¾ã›ã‚“ã€‚
                .nomad: |
                    job "django-app" {
                        datacenters = ["local"]  #// nomad.hcl ãƒ•ã‚¡ã‚¤ãƒ«ã® datacenter ã§å®šç¾©ã—ãŸåå‰
                        type = "service"
                        group "web" {
                            count = 1
                            network {
                                port "http" {
                                    static = 8000
                                }
                            }
                            task "django" {
                                driver = "docker"
                                config {
                                    image = "my-django-app:latest"
                                    ports = ["http"]  #// network.port ã§å®šç¾©ã—ãŸåå‰
                                }
                                env {
                                    DEBUG = "true"
                                    ALLOWED_HOSTS = "*"
                                }
                            }
                        }
                    }
                æœ€å°é™ã® Django Dockerfile: |
                    FROM python:3.11-slim

                    WORKDIR /app
                    COPY requirements.txt .
                    RUN pip install -r requirements.txt

                    COPY . .

                    EXPOSE 8000
                    CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
                æœ€å°é™ã® requirements.txt: |
                    Django>=4.2.0,<5.0
                    psycopg2-binary>=2.9.0
                    gunicorn>=20.1.0
                    python-decouple>=3.6
                    whitenoise>=6.0.0
            #â†“ è¨­å®šé …ç›®
            ï¼ˆæ§‹æˆï¼‰:
                job:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/job
                    group:
                        network:
                            port:
                        task:
                            driver:
                            config:
                                work_dir:
                                command:
                            template:
                            artifact:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/artifact
                                source:
                            env:
                            vault:
                            volume_mount:  #search: Nomad volume_mount
                            volume:
                            resources:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/resources
                                memory:
                    vault:
                locals:
            job:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/job
                ã‚¸ãƒ§ãƒ–å: #keyword: Nomad job name
                    job "django-app" {
                    ã¨æ›¸ã‹ã‚Œã¦ã„ãŸã‚‰ã€ã‚¸ãƒ§ãƒ–åã¯ django-app ã§ã™  #search: Docker Django Nomad example
            group:
            network:
            task:
                ã‚¿ã‚¹ã‚¯å, ã‚³ãƒ³ãƒ†ãƒŠâ€•å:
                    __GroueName__-__AllocationID__-__Hash__
                    ç‰¹å®šã®åå‰ã¯æŒ‡å®šã§ãã¾ã›ã‚“ã€‚ task ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« name ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                driver:
                    docker ãªã©
            config:
                #â†“ driver = "docker" ã®å ´åˆ
                image:  #search: Docker Django Nomad example
                ports:
                work_dir:
                command: #keyword: Nomad task command
                args:
                volumes:  #search: Nomad Docker volume
            env: #keyword: .nomad env  #// task >> env  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/env
                ã‚µãƒ³ãƒ—ãƒ«: |  #focus: env, region
                    job "django-app" {
                        group "web" {
                            task "django" {
                                env {
                                    my_key = "my-value"
                                    opas_password = "${local.region}"
                    locals {
                        region = "tokyo"
            artifact:  #// task >> artifact  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/artifact
                ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰: |
                    task "____" {
                        artifact {
                            source = "http://172.17.0.1:8089/your-app.rpm"
                            destination = "local/your-app.rpm"
                            mode = "file"
                        }
                source:  #// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL
                    .zip ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹å ´åˆ: #keyword: Nomad .zip artifact
                        ã‚µãƒ³ãƒ—ãƒ«è¨­å®š:
                            source = "https://github.com/hashicorp/nomad-guides/archive/refs/heads/master.zip"
                        å‡ºåŠ›:
                            å±•é–‹ã•ã‚Œã¾ã™
                    Git ãƒªãƒã‚¸ãƒˆãƒª:
                        ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–(.zip)ã‚’æŒ‡å®šã™ã‚‹å ´åˆ:
                            ã‚µãƒ³ãƒ—ãƒ«è¨­å®š:
                                source = "https://github.com/hashicorp/nomad-guides/archive/refs/heads/master.zip"
                            å‡ºåŠ›:
                                destination ã«æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ‘ã‚¹ã®ç›´ä¸‹ã« __Repository__-__Branch__ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒã§ãã€
                                ãã®ä¸­ã« .zip ã®å†…å®¹ãŒå±•é–‹ã•ã‚Œã¾ã™
                        ãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡å®šã™ã‚‹å ´åˆ:
                            source = "git::https://github.com/hashicorp/nomad-guides"
                    (${ }), æ–‡å­—åˆ—è£œé–“:  #search: Nomad string interpolation
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            task "____" {
                                artifact {
                                    source = "http://${ meta.nomad_host }:8089/your-app.rpm"
                                    destination = "local/your-app.rpm"
                                    mode = "file"
                                }
                        ${ } ãŒå±•é–‹ã•ã‚Œãªã„å ´åˆ:
                            ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®åå‰ãŒé–“é•ã£ã¦ãªã„ã‹ã€ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
                            #search: Nomad meta
                        ä»£æ›¿æ‰‹æ®µ >> å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã« curl ã‚’æ›¸ãã¾ã™: | #keyword: Nomad curl without artifact
                            task "____" {
                                config {
                                    args = [
                                        "-c",
                                        join(" && ", [
                                            "curl -OL  http://${ meta.nomad_host }:8089/your-app.rpm",
                    ãƒ­ãƒ¼ã‚«ãƒ« file ã«ã¤ã„ã¦:  #// ãƒ­ãƒ¼ã‚«ãƒ« ãƒ•ã‚¡ã‚¤ãƒ« ã‚’æŒ‡å®šã§ãã¾ã›ã‚“
                        å…¬å¼:
                            ã‚³ãƒ³ãƒ†ãƒŠã®åˆ†é›¢ã‚’å¼·åˆ¶ã™ã‚‹ãŸã‚ã€ ãƒ­ãƒ¼ã‚«ãƒ« ãƒ•ã‚¡ã‚¤ãƒ« ã¯ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚
                            #ref: https://github.com/hashicorp/nomad/issues/1897
                        ä»£æ›¿æ‰‹æ®µ >> HTTP ã‚µãƒ¼ãƒãƒ¼ ã‚’ç«‹ã¦ã¾ã™: #keyword: Nomad artifact http server
                            cd  __PublicHTML__
                            python3 -m http.server 8089
                destination:  #// å‡ºåŠ›å…ˆ
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ:
                        local
                    ãƒ•ã‚¡ã‚¤ãƒ«åæŒ‡å®š: |  #// mode = "file" ã‚‚æŒ‡å®šã—ã¾ã™
                        destination = "local/your-app.rpm"
                        mode = "file"
                ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (Nomad artifact): #keyword: Nomad artifact trouble
                    - #// ä»£ã‚ã‚Š:  #search: Nomad curl without artifact  #search: Nomad artifact http server
                        #// åˆ¶é™ãŒå¤šã„ãŸã‚ã€HTTP ã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¦ã¦ã€curl ã‚’å®Ÿè¡Œã—ãŸã»ã†ãŒç¢ºå®Ÿã§ã™ãŒã€template ãªã©ãŒä½¿ãˆãªããªã‚Šã¾ã™
                    - #// failed to download artifact
                        æ‰‹é †: nomad job run  ____.nomad
                        ãƒ­ã‚°: |
                            nomad status  __JobName__
                            nomad alloc status __AllocationID__
                                Recent Events:
                                Time                       Type                      Description
                                2025-09-05T18:17:19+09:00  Restarting                Task restarting in 18.667241879s
                                2025-09-05T18:17:19+09:00  Failed Artifact Download  failed to download artifact "https://github.com/hashicorp/nomad-guides/archive/refs/heads/master.zip": getter subprocess failed: exit status 1: failed to download artifact: Get "https://github.com/hashicorp/nomad-guides/archive/refs/heads/master.zip": dial tcp 20.27.177.113:443: connect: network is unreachable
                        å¯¾å‡¦: #keyword: Nomad set_environment_variables
                            /etc/nomad.d/nomad.env:
                                http_proxy=http://____:____
                                https_proxy=http://____:____
                                no_proxy=____,localhost,127.0.0.1,.local,172.17.0.1,172.18.0.1,172.19.0.1,172.20.0.1,host.docker.internal,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
                            nomad.hcl: |
                                client {
                                    artifact {
                                        set_environment_variables = "HTTP_PROXY,HTTPS_PROXY,http_proxy,https_proxy,NO_PROXY,no_proxy"
            template: #keyword: .nomad template  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/template
                #â†“ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
                data:  #search: Nomad template contents
                source:  #search: Nomad template contentss
                destination:  #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ç”Ÿæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€
                    local:  #// å€¤ãŒ "local/_tmp.conf" ã®å ´åˆ
                        #â†“ ã‚¿ã‚¹ã‚¯ã®ç¨®é¡
                        Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ä¸­ã®å ´åˆ:
                            /local/_tmp.conf
                    ãƒ«ãƒ¼ãƒˆ(/)ä»¥ä¸‹ã®ãƒ•ãƒ«ãƒ‘ã‚¹:  #// å€¤ãŒ "/etc/yum.repos.d/_tmp.repo__" ã®å ´åˆ
                        å‹•ä½œ: ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œã‚‰ã‚Œã¾ã›ã‚“ã€‚ã‚¨ãƒ©ãƒ¼ã«ã‚‚ãªã‚Šã¾ã›ã‚“ã€‚
                        #â†“ ä»£æ›¿æ‰‹æ®µ  #focus: _tmp.repo__
                        Docker ãƒœãƒªãƒ¥ãƒ¼ãƒ  ã‚’ä½¿ã†å ´åˆ: | #keyword: Nomad Docker volume
                            config {
                                image = "centos:7"
                                volumes = [
                                    "local/root/etc/yum.repos.d/_tmp.repo__:/etc/yum.repos.d/_tmp.repo__"
                                ]
                            }                            
                            template {
                                data = "..."
                                destination = "local/root/etc/yum.repos.d/_tmp.repo__"
                            }
                        ã‚«ã‚¹ã‚¿ãƒ  Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ ã‚’ä½¿ã†å ´åˆ:
                            Job ãŒä½¿ã† Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã€
                            ã‚ã‚‰ã‹ã˜ã‚ /etc/yum.repos.d/_tmp.repo__ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ãŠãã¾ã™
                #â†“ æ§‹æˆ
                ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #keyword: Nomad template contents
                    data, åŸ‹ã‚è¾¼ã¿(.nomad):  #// .nomad >> task >> template >> data
                        template {
                            data = <<EOH
                        Line 1
                        Line 2
                        EOH
                    source, å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«(.tpl):  #// .nomad >> task >> template >> source
                        æ³¨æ„: artifact ãŒå¿…è¦ã§ã™  #search: Nomad artifact
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            artifact {
                                source = "https://github.com/hashicorp/nomad-guides/archive/refs/heads/master.zip"
                                #// extract to local/nomad-guides-master
                            }
                            template {
                                source = "local/nomad-guides-master/templates/example.conf.tpl"
                                destination = "local/example.conf"
                            }
                ç½®ãæ›ãˆã‚‹éƒ¨åˆ†, Template Action: #keyword: Nomad go template action,  Nomad placeholder
                    #â†“ å®šç¾©å ´æ‰€
                    ç’°å¢ƒå¤‰æ•° (env stanza): |
                        {{ env "APP_NAME" }}
                    Consul Key-Value ã‚¹ãƒˆã‚¢: |
                        {{ key "myapp/database/host" }}
                    Vault ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: |
                        {{ with secret "secret/myapp/db" }}
                            {{ .Data.username }}
                        {{ end }}
                    Nomadå¤‰æ•° (Variables): |
                        {{ with nomadVar "nomad/jobs/myapp" }}
                            {{ .database_url }}
                        {{ end }}
                    ã‚µãƒ¼ãƒ“ã‚¹ ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼: |
                        {{ range service "web-backend" }}
                            - {{ .Address }}:{{ .Port }}
                        {{ end }}
                    #â†“ æ¼”ç®—
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: |
                        {{ env "PORT" | default "8080" }}
                ç”Ÿæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°: |  #focus: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
                    nomad job run: ã‚¸ãƒ§ãƒ–å®šç¾©ã‚’Nomadã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«é€ä¿¡
                    ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°: Nomadã‚µãƒ¼ãƒãƒ¼ãŒé©åˆ‡ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ãƒ‰ã‚’é¸æŠ
                    ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: é¸æŠã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ãƒ‰ã«ã‚¿ã‚¹ã‚¯ãŒé…ç½®
                    ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ãƒ‰ä¸Šã§ã€ã‚¿ã‚¹ã‚¯é–‹å§‹å‰ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã‚‹
                    ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ: ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦ã‚¿ã‚¹ã‚¯ãŒé–‹å§‹
                    change_mode = "restart"
                        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ã‚¿ã‚¹ã‚¯ã‚’å†èµ·å‹•
            volume_mount: #keyword: Nomad volume  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/volume_mount
                #// Nomad ã® ãƒ›ã‚¹ãƒˆ OS ã®ä¸­ã®ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã€ã‚¿ã‚¹ã‚¯ï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼‰ã®ä¸­ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                ï¼ˆæ§‹æˆï¼‰:
                    task -- volume_mount -- volume -- host_volume
                /var/run/docker.sock:  #search: Nomad volume /var/run/docker.sock
                /repository:
                    â—æ³¨æ„: #// WSL2(?)ã§ã¯æˆåŠŸã—ã¦ã„ã¾ã›ã‚“ã€‚
                        /home/users ã‚’ä½œã‚Šã¾ã™:
                            cd /home
                            sudo mkdir users
                            sudo chmod a+w users
                        nomad.hcl ã«è¨­å®šã—ã¾ã™: |
                            sudo vi /etc/nomad.d/nomad.hcl
                            sudo systemctl restart nomad
                            nomad node status -self -verbose
                                ...
                                Host Volumes
                                Name        ReadOnly  Source
                                repository  true      /home/user1
                                ...
                        Job ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦èµ·å‹•ã—ã¾ã™: |
                            code  django.nomad
                            nomad job run  django.nomad
                            nomad job status django-app
                                ...
                                Placement Failure
                                Task Group "web":
                                    * Constraint "missing compatible host volumes": 1 nodes excluded by filte
                                ...
                    volume_mount: #keyword: Nomad volume_mount  #// .nomad >> task >> volume_mount  #// Nomad ã® ãƒ›ã‚¹ãƒˆ OS ã®ä¸­ã®ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã€ã‚¿ã‚¹ã‚¯ï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼‰ã®ä¸­ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            volume_mount {
                                destination = "/repository"
                                volume      = "repository1"
                                read_only   = true
                            }
                    volume:  #// .nomad >> group >> volume  #// ã‚¿ã‚¹ã‚¯ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å®£è¨€ã—ã¾ã™
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            volume "repository1" {
                                source = "repository"  #// host_volume ã§å®šç¾©ã—ãŸåå‰
                                type   = "host"
                            }
                    host_volume:  #// nomad.hcl >> client >> host_volume  #// Nomad ã® ãƒ›ã‚¹ãƒˆ OS ã®ä¸­ã®ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ã€ã‚¿ã‚¹ã‚¯ï¼ˆã‚³ãƒ³ãƒ†ãƒŠãƒ¼ï¼‰ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€ãƒ›ã‚¹ãƒˆ ãƒœãƒªãƒ¥ãƒ¼ãƒ  ã‚’å®šç¾©ã—ã¾ã™
                        #ref: https://developer.hashicorp.com/nomad/docs/configuration/client#host_volume-block
                        ã‚µãƒ³ãƒ—ãƒ«: |
                            host_volume "repository" {
                                path      = "/home/users"
                                read_only = true
                            }
            resources:  #ref: https://developer.hashicorp.com/nomad/docs/job-specification/resources
                cpu:
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 100(MHz)
                memory:
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 300(MB)
            locals: #keyword: .nomad locals  #// ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°  #ref: https://developer.hashicorp.com/nomad/docs/reference/hcl2/locals
                ã‚µãƒ³ãƒ—ãƒ«: |  #focus: locals, local  #search: .nomad env
                    job "django-app" {
                        group "web" {
                            task "django" {
                                env {
                                    my_key = "my-value"
                                    opas_password = "${local.region}"
                    locals {
                        region = "tokyo"
            vault: #keyword: .nomad vault  #// job >> vault,  task >> vault
                vault {}: #keyword: .nomad empty vault
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒªã‚·ãƒ¼ã‚’ä½¿ã„ã¾ã™  #search: token_policies Nomad Vault
            #â†“ è¨­å®šå†…å®¹ï¼ˆé …ç›®å…±é€šï¼‰
            Nomad ãŒè‡ªå‹•çš„ã«è¨­å®šã™ã‚‹ç’°å¢ƒå¤‰æ•°:  #keyword: Nomad è‡ªå‹•å®šç¾© ç’°å¢ƒå¤‰æ•°  #glossary: Nomad
                #ref: https://developer.hashicorp.com/nomad/docs/reference/runtime-environment-settings
                #â†“ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
                #ref: https://developer.hashicorp.com/nomad/docs/job-specification/network
                NOMAD_PORT_http: ãƒãƒ¼ãƒˆç•ªå·
                NOMAD_IP_http: ãƒã‚¤ãƒ³ãƒ‰IPã‚¢ãƒ‰ãƒ¬ã‚¹
                NOMAD_ADDR_http: IP:ãƒãƒ¼ãƒˆã®çµ„ã¿åˆã‚ã›
                NOMAD_HOST_PORT_http: ãƒ›ã‚¹ãƒˆå´ã®ãƒãƒ¼ãƒˆï¼ˆNATã®å ´åˆï¼‰
        nomad.hcl:  #ref: /etc/nomad.d/nomad.hcl  #// Nomad ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®š  #glossary: Nomad
            æ‰‹é † >> è¨­å®š: #keyword: nomad.hcl  #snippet-depth: 1
                systemctl status  nomad
                sudo tee /etc/nomad.d/nomad.hcl > /dev/null
                    å†…å®¹ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™
                sudo systemctl restart nomad
                sudo journalctl -u nomad --no-pager  |  less
                nomad node status -self -verbose
            #â†“ ã‚µãƒ³ãƒ—ãƒ«
            æœ€ä½é™ã®è¨­å®š: | #keyword: nomad.hcl minimum Docker  #focus: __ProxyURL__
                datacenter = "local"
                data_dir = "/opt/nomad/data"

                server {
                    enabled = true
                    bootstrap_expect = 1  # node count
                }

                client {
                    enabled = true
                    meta {

                        #// Proxy:
                        http_proxy = "__ProxyURL__"
                        https_proxy = "__ProxyURL__"
                        no_proxy = "localhost, 127.0.0.1, .local, 172.17.0.1, 172.18.0.1, 172.19.0.1, 172.20.0.1, host.docker.internal, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16"

                        #// Server:
                        nomad_host = "172.17.0.1"
                    }
                    host_volume "docker-sock" {
                        path      = "/var/run/docker.sock"
                        read_only = false
                    }
                    options {
                        "docker.bridge.ip" = "0.0.0.0"
                    }
                }

                plugin "docker" {
                    config {
                        allow_privileged = false
                    }
                }
            Vault ã‚’ä½¿ã†è¨­å®š: | #keyword: nomad.hcl with Vault
                datacenter = "local"
                data_dir = "/opt/nomad/data"

                server {
                    enabled = true
                    bootstrap_expect = 1  # node count
                }

                client {
                    enabled = true
                    meta {

                        #// Proxy:
                        http_proxy = "__ProxyURL__"
                        https_proxy = "__ProxyURL__"
                        no_proxy = "localhost, 127.0.0.1, .local, 172.17.0.1, 172.18.0.1, 172.19.0.1, 172.20.0.1, host.docker.internal, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16"

                        #// Server:
                        nomad_host = "172.17.0.1"
                    }
                    host_volume "docker-sock" {
                        path      = "/var/run/docker.sock"
                        read_only = false
                    }
                    options {
                        "docker.bridge.ip" = "0.0.0.0"
                    }
                }

                plugin "docker" {
                    config {
                        allow_privileged = false
                    }
                }

                acl {
                    enabled = true
                }

                vault {
                    enabled = true
                    address = "http://127.0.0.1:8200"

                    default_identity {
                        aud = ["vault.io"]
                        ttl = "1h"
                    }
                }
            #â†“ è¨­å®šé …ç›®
            ï¼ˆæ§‹æˆï¼‰:
                datacenter:
                data_dir:
                server:
                client:
                    meta:
                    artifact:  #ref: https://developer.hashicorp.com/nomad/docs/configuration/client#artifact-parameters
                    host_volume:  #ref: https://developer.hashicorp.com/nomad/docs/configuration/client#host_volume-block
                plugin:
            ï¼ˆè¨­å®šã®ç¢ºèªï¼‰:
                nomad node status -self -verbose
            #â†“   åŸºæœ¬çš„ãªã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼è¨­å®š
            datacenter:
                ã‚µãƒ³ãƒ—ãƒ«:
                    -   datacenter = "local"
                    -   datacenter = "stg"
                    -   datacenter = "aws-ap-northeast-1"
                ãƒ›ã‚¹ãƒˆã¨ã®é–¢ä¿‚:
                    åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼å†…ã®å…¨ãƒ›ã‚¹ãƒˆã«ã€åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼åã‚’è¨­å®šã—ã¾ã™ã€‚
                é©ã™ã‚‹åå‰:
                    ç‰©ç†ã‚µãƒ¼ãƒãƒ¼ã®å ´æ‰€:
                é©ã•ãªã„åå‰:
                    ç’°å¢ƒå: dev, staging, prod  #// åŒã˜å ´æ‰€ã«ã‚ã‚‹å ´åˆã¯ Nomad namespace ã§åˆ†é›¢ã™ã¹ã
                    ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å: web-servers, database-servers  #// node class ã‚„ constraint ã§åˆ¶å¾¡ã™ã¹ã
            namespace:  #// Enterprise ç‰ˆã® nomad ã®ã¿
                ã‚µãƒ³ãƒ—ãƒ«:
                    namespace = "production"
                    namespace = "staging"  
                    namespace = "development"
                    namespace = "team-frontend"
                    namespace = "team-backend"
            data_dir:  #// Nomad ã®ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
            bind_addr:  #// ã©ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å¾…æ©Ÿã™ã‚‹ã‹
            log_level:
                INFO ãªã©
            #â†“   ã‚µãƒ¼ãƒãƒ¼ãƒ¢ãƒ¼ãƒ‰è¨­å®šï¼ˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼æ©Ÿèƒ½ï¼‰
            server: |
                server {
                    enabled = true
                    bootstrap_expect = 1  # å˜ä¸€ãƒãƒ¼ãƒ‰ã®å ´åˆã¯1ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãªã‚‰3ä»¥ä¸Š
                    raft_protocol = 3  # ãƒªãƒ¼ãƒ€ãƒ¼é¸å‡ºè¨­å®š
                    default_scheduler_config {
                        scheduler_algorithm = "binpack"
                    }
                }
            #â†“   ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰è¨­å®šï¼ˆãƒ¯ãƒ¼ã‚«ãƒ¼æ©Ÿèƒ½ï¼‰ã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿéš›ã«å®Ÿè¡Œã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã€ãƒªã‚½ãƒ¼ã‚¹ã®ç›£è¦–ã¨å ±å‘Šã€‚nomad ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãƒ›ã‚¹ãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“
            client:
                ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãƒ¢ãƒ¼ãƒ‰ ã®å½¹å‰²:
                    1. é–‹ç™ºè€…ãŒJobã‚’æŠ•å…¥
                        nomad job run django-app.nomad
                    â†“
                    2. ã‚µãƒ¼ãƒãƒ¼ãŒã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°
                        ã€Œdjango-appã‚’worker1ã§èµ·å‹•ã—ã‚ˆã†ã€
                    â†“
                    3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆworker1ï¼‰ãŒå®Ÿè¡Œ
                        docker run python:3.11-slim ...
                    â†“
                    4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒçŠ¶æ…‹å ±å‘Š
                        ã€Œã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å®Œäº†ã€CPU 10%ä½¿ç”¨ä¸­ã€
                è¨­å®š: |
                    client {
                        enabled = true
                        node_class = "compute"
                        meta {
                            http_proxy = "__ProxyURL__"
                            https_proxy = "__ProxyURL__"
                            no_proxy = "localhost, 127.0.0.1, .local, 172.17.0.1, 172.18.0.1, 172.19.0.1, 172.20.0.1, host.docker.internal, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16"
                            nomad_host = "172.17.0.1"
                        }
                        reserved {
                            cpu = 800
                            memory = 512
                        }
                    }
                artifact:  #ref: https://developer.hashicorp.com/nomad/docs/configuration/client#artifact-parameters
                    decompression_file_count_limit:
            meta: #keyword: Nomad client metadata
                ã‚µãƒ³ãƒ—ãƒ«: |  #// nomad.hcl >> client >> meta
                    meta {
                        http_proxy  = "http://proxy.company.com:8080"
                        environment = "production"
                    }
                å‚ç…§ã§ãã‚‹å ´æ‰€:
                    task >> env
                    task >> config >> args
                å‚ç…§ã§ããªã„å ´æ‰€:
                    task >> artifact
            host_volume:  #// nomad.hcl >> client >> host_volume  #search: Nomad volume
            #â†“   ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š
            plugin: |
                plugin "docker" {
                    config {
                        allow_privileged = false
                        volumes {
                            enabled = true
                        }
                        gc {  # ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è‡ªå‹•å‰Šé™¤
                            image       = true
                            image_delay = "3m"
                        }
                    }
                }
                plugin "raw_exec" {  # execãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ç„¡åŠ¹åŒ–ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ï¼‰
                    config {
                        enabled = false
                    }
                }
            #â†“   ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
            ports: |
                ports {
                    http = 4646
                    rpc  = 4647
                    serf = 4648
                }
            advertise: | #// ä»–ãƒãƒ¼ãƒ‰ã«é€šçŸ¥ã™ã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹
                advertise {
                    http = "192.168.1.100:4646"
                    rpc  = "192.168.1.100:4647"
                    serf = "192.168.1.100:4648"
                }
            #â†“   ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
            acl: | #// ACL
                acl {
                    enabled = true
                    token_ttl = "30s"
                    policy_ttl = "60s"
                }
            tls: | #// TLS
                tls {
                    http = true
                    rpc  = true

                    ca_file   = "/etc/nomad.d/certs/ca.pem"
                    cert_file = "/etc/nomad.d/certs/nomad.pem"
                    key_file  = "/etc/nomad.d/certs/nomad-key.pem"
                }
        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:
            (${ }), æ–‡å­—åˆ—è£œé–“: #keyword: Nomad string interpolation,  Nomad ${ },  Nomad variables
                ä»•æ§˜:  #search: HCL string interpolation
                ä¸­ã«æŒ‡å®šã§ãã‚‹ã‚‚ã®:  #// â—æ³¨æ„: ${  } ã®å†…å´ã«ç©ºç™½ã‚’å…¥ã‚Œã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ ${ meta.data } ã¯ç½®ãæ›ãˆã‚‰ã‚Œã¾ã›ã‚“ã€‚ ${meta.data} ã¯ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™
                    -   __EnvironmentVariableName__  #search: Nomad è‡ªå‹•å®šç¾© ç’°å¢ƒå¤‰æ•°
                    -   meta.__ClientMetadataName__  #search: Nomad client metadata
                    -   var.__VariableName__
                    -   node.____
                    -   attr.____
            ({{ }}), gomplate, template stanza: #keyword: Nomad gomplate,  Nomad template stanza,  Nomad {{ }}  #ref: https://docs.gomplate.ca/
                Job ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š:  #search: .nomad template
                ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å†…å®¹:  #search: Nomad go template action
            Levant: #keyword:
                ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ„ãƒ¼ãƒ« - HashiCorpè£½ã§ã¯ãªã„ã€‚
                Levantã¯ã€è¤‡é›‘ãªç’°å¢ƒã§ã® Nomad ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’ç°¡ç´ åŒ–ã™ã‚‹å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ãªç”¨é€”ã§ã¯ç´”ç²‹ãªNomadã§ååˆ†ãªå ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚
            Nomad å¤‰æ•°:  #// ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å‰ã«ç”Ÿæˆã•ã‚Œã¾ã™
                variables.nomad.hcl: |
                    variable "service_a_port" {
                        description = "Service A ã®ãƒãƒ¼ãƒˆç•ªå·"
                        type        = number
                        default     = 8080
                    }
                service-a.nomad.hcl: |
                    hcljob "service-a" {
                        datacenters = ["dc1"]

                        group "app" {
                            network {
                                port "http" {
                                    static = var.service_a_port  # å¤‰æ•°ã‚’å‚ç…§
                                }
                            }
                service-b.nomad.hcl: |
                    hcljob "service-b" {
                        datacenters = ["dc1"]

                        group "app" {
                            task "app" {
                                driver = "docker"

                                config {
                                    image = "service-b:latest"
                                }

                                # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆ
                                template {
                                    data = <<EOF
                    # Service B Configuration
                    upstream:
                        service_a:
                            host: "${var.service_a_host}"
                            port: ${var.service_a_port}

                    database:
                        host: "postgres.service.consul"
                        port: 5432
                    EOF
                                    destination = "local/config.yaml"
                                    change_mode = "restart"
                                }

                                env {
                                    CONFIG_FILE = "/local/config.yaml"
                                }
                            }
                        }
                    }
            ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å…¨å¤‰æ›´:
                Chat: ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹Aã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ãªã‚‹ã‚µãƒ¼ãƒ“ã‚¹ B,CãŒã‚ã‚Šã€B,Cãã‚Œãã‚Œè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«Aã®ãƒãƒ¼ãƒˆç•ªå·ãŒæ›¸ã„ã¦ã‚ã‚‹å ´åˆã€
                    nomad ç’°å¢ƒã§ãƒãƒ¼ãƒˆç•ªå·ã®è¨­å®šã‚’ä¸€å…ƒåŒ–ã™ã‚‹ã«ã¯
                    Nomad å¤‰æ•°
        Dockerfile:
            é–‹ç™ºç’°å¢ƒã¨ãƒ†ã‚¹ãƒˆç’°å¢ƒã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸: |  #// ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸Dockerfile
                # ========================================
                # å…±é€šãƒ™ãƒ¼ã‚¹ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œç’°å¢ƒ
                # ========================================
                FROM python:3.11-slim as app-base

                # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã«å¿…è¦ãªæœ€å°é™
                RUN apt-get update && apt-get install -y \
                    libpq5 \
                    curl \
                    && rm -rf /var/lib/apt/lists/*

                WORKDIR /app
                COPY requirements.txt .
                RUN pip install --no-cache-dir -r requirements.txt

                COPY src/ .
                RUN useradd -m -u 1000 appuser
                USER appuser

                # ========================================
                # é–‹ç™ºç’°å¢ƒï¼šé–‹ç™ºãƒ„ãƒ¼ãƒ«è¿½åŠ 
                # ========================================
                FROM app-base as development

                USER root
                # é–‹ç™ºå°‚ç”¨ãƒ„ãƒ¼ãƒ«
                RUN pip install \
                    pytest \
                    black \
                    flake8 \
                    debugpy \
                    ipython \
                    jupyter

                # ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã€ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆ
                EXPOSE 8000 5678
                USER appuser
                CMD ["python", "-m", "debugpy", "--listen", "0.0.0.0:5678", "--wait-for-client", "app.py"]

                # ========================================
                # ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼šãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã®ã¿è¿½åŠ 
                # ========================================
                FROM app-base as test

                USER root
                # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã®ã¿
                RUN pip install \
                    pytest \
                    pytest-cov \
                    pytest-mock \
                    requests-mock

                USER appuser
                # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç”¨
                CMD ["pytest", "-v", "--cov=src"]

                # ========================================
                # æœ¬ç•ªç’°å¢ƒï¼šæœ€å°æ§‹æˆ
                # ========================================
                FROM app-base as production

                # æœ¬ç•ªç”¨è¨­å®šã®ã¿
                EXPOSE 8000
                CMD ["python", "app.py"]
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: #keyword: Nomad trouble
        ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰:  #search: Nomad debug
        artifact é–¢é€£:  #search: Nomad artifact trouble
        å¤‰æ•°ãŒå±•é–‹ã•ã‚Œãªã„:  #search: Nomad ${ }
        #â†“ ã‚¨ãƒ©ãƒ¼ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        400 (Client sent an HTTP request to an HTTPS server.):  #keyword: NOMAD_ADDR
            æ‰‹é †: nomad ã‚³ãƒãƒ³ãƒ‰
            ãƒ­ã‚°: |
                Error submitting job: Unexpected response code: 400 (Client sent an HTTP request to an HTTPS server.).
                Additionally, an error occurred while constructing this error (read tcp 127.0.0.1:55462->127.0.0.1:4646:
                read: connection reset by peer); the body might be truncated or missing.
            å¯¾å‡¦:  #// NOMAD_ADDR ã« https ï½ ã‚’è¨­å®šã—ã¾ã™
                export NOMAD_ADDR="https://localhost:4646"
                export NOMAD_CACERT="/etc/nomad.d/tls/tls.crt"
                nomad job run -address="https://localhost:4646"  "django.nomad"
        https://registry-1.docker.io/v2/ context deadline exceeded:
            æ‰‹é †: nomad job run
            ãƒ­ã‚°: |  #// Nomad Web UI
                Driver Failure: Failed to pull `__DockerImage__`: Error response from daemon: Get "https://registry-1.docker.io/v2/": context deadline exceeded
            å¯¾å‡¦:
                nomad ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ç’°å¢ƒã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã€docker ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
        missing compatible host volumes:
            æ‰‹é †: nomad job run
            ãƒ­ã‚°: |  #// Nomad Web UI
                Constraint missing compatible host volumes filtered 1 node
            å¯¾å‡¦:  #// nomad.hcl ã® host_volume ã‚’è¿½åŠ ä¿®æ­£ã—ã¾ã™
                ãƒœãƒªãƒ¥ãƒ¼ãƒ åã‚’ãƒ¡ãƒ¢ã—ã¾ã™: |  #focus: docker-sock  #// .nomad >> ... >> volume_mount
                    volume_mount {
                        volume      = "docker-sock"
                        destination = "/var/run/docker.sock"
                    }
                nomad.hcl ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™: |
                    host_volume "docker-sock" {
                        path      = "/var/run/docker.sock"
                        read_only = false
                    }
        No default interface found:
            æ‰‹é †: nomad job run  example.nomad
            ãƒ­ã‚°: |
                [ERROR] agent: error starting agent: error="client setup failed: fingerprinting failed: Error while detecting network interface  during fingerprinting: No default interface found"
            å¯¾å‡¦:
                network_interface ã‚’æ­£ã—ãè¨­å®šã—ã¾ã™:
                    sudo vi  /etc/nomad.d/nomad.hcl
                        client {
                            network_interface = "eth1"
        zip archive contains too many files:
            æ‰‹é †: nomad job run
            ãƒ­ã‚°: |
                Failed Artifact Download: failed to download artifact "__URL__": getter subprocess failed: exit status 1: failed to download artifact: zip archive contains too many files: __Count__ > 4096
            å¯¾å‡¦: |  #search: Nomad client
                client {
                    artifact {
                        decompression_file_count_limit = 10000
        Template Missing vault.read(secret/data/mongo/config):
            ãƒ­ã‚°: |  #// Nomad Web UI
                Template: Missing: vault.read(secret/data/mongo/config)
            çŠ¶æ³:  #focus: secret/data/mongo/config,  settings.yml.tpl
                .nomad ãƒ•ã‚¡ã‚¤ãƒ«: |
                    template {
                        source = "local/settings.yml.tpl"
                settings.yml.tpl ãƒ•ã‚¡ã‚¤ãƒ«: |
                    {{- with secret "secret/data/mongo/config" }}
                    {{- end }}
            å¯¾å‡¦A: | #// nomad ã®ãƒ­ã‚°ã‹ã‚‰ URL ã‚’ç¢ºèªã—ã¾ã™
                sudo journalctl  -u nomad  --follow
                    Sep 11 15:11:34 host nomad[197324]: URL: GET http://127.0.0.1:8200/v1/secret/data/mongo/config
                    Sep 11 15:11:34 host nomad[197324]: Code: 403. Errors:
                    Sep 11 15:11:34 host nomad[197324]: * permission denied (retry attempt 9 after "1m0s")
                197324 ã¯ Nomad ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® PID ã§ã™ã€‚
                ï¼ˆã‚¨ãƒ©ãƒ¼æ™‚ã—ã‹å‡ºãªã„ã‹ã‚‚ï¼‰
                URL ã‚’ç¢ºèªã—ãŸã‚‰ã€ä»–ã®å¯¾å‡¦æ³•ã‚‚å‚ç…§ã—ã¦ãã ã•ã„
            å¯¾å‡¦B:  #// Vault ã«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™  #search: vault kv get
                vault kv get "secret/default/mongo/config"  #// "secret/data/default/mongo/config" ã§ã¯ã‚ã‚Šã¾ã›ã‚“
            å¯¾å‡¦C:  #// Vault ã«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç™»éŒ²ã—ã¾ã™  #search: vault kv put
                vault kv put "secret/default/mongo/config"  "root_password=secret-password"
            å¯¾å‡¦D:  #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå‚ç…§ã™ã‚‹ãƒ‘ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                settings.yml.tpl ãƒ•ã‚¡ã‚¤ãƒ«: |  #// "secret/default/mongo/config" ã§ã¯ã‚ã‚Šã¾ã›ã‚“
                    {{- with secret "secret/data/default/mongo/config" }}
                        {{.Data.data.root_password}}
                    {{- end }}
            å¯¾å‡¦E:  #// ãƒãƒªã‚·ãƒ¼ã¨ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¾ã™
                workload ID ã‚’ä½¿ã†å ´åˆ:  #search: install Nomad Vault  #search: Nomad workload ID
                    - ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ãƒ‘ã‚¹ã‚’ã€workload ID ã«å¯¾å¿œã—ãŸãƒãƒªã‚·ãƒ¼ã®ãƒ‘ã‚¹ã®å½¢å¼ã«åˆã‚ã›ã¾ã™
                        #search: vault policy write example
                        #search: install Nomad Vault
                    - auth_jwt_ ã®å¾Œã®å€¤ãŒåˆã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™
                        #search: auth_jwt_ HashiCorp Vault
                workload ID ã‚’ä½¿ã‚ãªã„å ´åˆ:
                    Nomad ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãŒä½¿ã†ãƒãƒªã‚·ãƒ¼:
                        nomad.hcl
                            vault {
                                token   = "your-vault-token"
            å¯¾å‡¦F:  #// Job ãƒ•ã‚¡ã‚¤ãƒ« ã« vault ãƒ–ãƒ­ãƒƒã‚¯ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                job "____" {
                    vault {}
                #search: .nomad empty vault
            å¯¾å‡¦G:  #// ãƒãƒªã‚·ãƒ¼ã‚’ä¸€æ™‚çš„ã«ç·©ãã—ã¾ã™  â—å‹•ä½œç¢ºèªã§ããŸã‚‰æˆ»ã—ã¦ãã ã•ã„
                path "secret/data/*" {
                    capabilities = ["read"]
Vault, OpenBao: #keyword: HashiCorp Vault,  Vault,  OpenBao  #// ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†ã‚µãƒ¼ãƒãƒ¼
    #ref: https://www.ctc-g.co.jp/solutions/vault/
    #ref: https://zenn.dev/nameless_gyoza/articles/hashicorp-vault-hands-on
    æ‰‹é †:
        Vault ã¨ OpenBao ã®é•ã„:
            ã‚µãƒ¼ãƒ“ã‚¹å: valut, openbao  #// systemctl ãªã©
            ã‚³ãƒãƒ³ãƒ‰å: vault, bao
            ãƒ•ã‚¡ã‚¤ãƒ«å: /etc/vault.d/vault.hcl,  /etc/vault.d/openbao.hcl
        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: #keyword: install HashiCorp Vault
            #// ä»¥ä¸‹ã¯ HTTP ã®å ´åˆï¼ˆHTTPS ã§ã¯ãªã„å ´åˆï¼‰
            ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                sudo dnf config-manager --add-repo  https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo
                sudo dnf install -y  vault
            HTTPS ã‚¢ã‚¯ã‚»ã‚¹ã‚’ä¸è¦ã«ã—ã¾ã™:  #// é–‹ç™ºç’°å¢ƒã®ã¿
                #// ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã¯ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒ /etc/vault.d/openbao.hcl ã«ãªã‚Šã¾ã™  #ref: https://openbao.org/
                /etc/vault.d/vault.hcl: | #keyword:  #// HTTP listener ã‚’æœ‰åŠ¹ã«ã€HTTPS listener ã‚’ç„¡åŠ¹ã«ã—ã¾ã™
                    # HTTP listener
                    listener "tcp" {
                        address = "127.0.0.1:8200"
                        tls_disable = 1
                    }

                    # HTTPS listener
                    # listener "tcp" {
                    #   address       = "0.0.0.0:8200"
                    #   tls_cert_file = "/opt/vault/tls/tls.crt"
                    #   tls_key_file  = "/opt/vault/tls/tls.key"
                    # }
            ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™:
                sudo systemctl start  vault
                sudo systemctl enable  vault
            åˆæœŸåŒ–ã—ã¾ã™: |  #keyword: HashiCorp Vault root token
                export VAULT_ADDR="http://localhost:8200"
                vault status
                vault operator init
                    è¡¨ç¤ºã•ã‚ŒãŸå†…å®¹ï¼ˆç‰¹ã«ä»¥ä¸‹ã®ã‚­ãƒ¼ï¼‰ã‚’å®‰å…¨ãªå ´æ‰€ ~/.secrets/vault_initial.log ã«ä¿å­˜ã—ã¾ã™ã€‚
                        Unseal Key 1: AbCdEf...   #// __UnsealKey1__
                        Unseal Key 2: GhIjKl...   #// __UnsealKey2__
                        Unseal Key 3: MnOpQr...   #// __UnsealKey3__
                        Unseal Key 4: StUvWx...
                        Unseal Key 5: YzAbCd...
                        Initial Root Token: s.EfGhIj...   #// __InitialRootToken__
            ã‚¢ãƒ³ã‚·ãƒ¼ãƒ«ã—ã¾ã™:  #keyword: vault operator unseal  #// ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆå†ï¼‰èµ·å‹•æ™‚ã¯ã‚·ãƒ¼ãƒ«ã—ãŸçŠ¶æ…‹ã«ãªã£ã¦ã„ã¦ã€ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“
                æ•™ç§‘æ›¸çš„ãªã‚³ãƒãƒ³ãƒ‰: |  #// ãƒ­ã‚°ã«æ®‹ã‚‹ãŸã‚éæ¨å¥¨
                    vault operator unseal  __UnsealKey1__  #// ã‚¢ãƒ³ã‚·ãƒ¼ãƒ«ã‚­ãƒ¼ã¯è¤‡æ•°ã®ä¿¡é ¼ã§ãã‚‹äººã«åˆ†æ•£ã—ã¦ä¿ç®¡
                    vault operator unseal  __UnsealKey2__
                    vault operator unseal  __UnsealKey3__
                å®Ÿè·µçš„ãªã‚³ãƒãƒ³ãƒ‰: |
                    less  __UnsealKeyMemoFile__  #// ã‚¢ãƒ³ã‚·ãƒ¼ãƒ«ã‚­ãƒ¼ã¯è¤‡æ•°ã®ä¿¡é ¼ã§ãã‚‹äººã«åˆ†æ•£ã—ã¦ä¿ç®¡
                    read -s -p "Enter one of unseal key: "  UnsealKey;  vault operator unseal "${UnsealKey}"
            Web UI ã‚’é–‹ã„ã¦ã¿ã¾ã™: |  #ref: https://developer.hashicorp.com/vault/tutorials/get-started/learn-ui
                http://localhost:8200/ui/
                    Sign in to Vault
                    Token: __InitialRootToken__
            ç¾åœ¨ã® Linux ãƒ¦ãƒ¼ã‚¶ãƒ¼ ãŒã€Vault ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                vault login  __InitialRootToken__  #// ~/.vault-token ã«ä¿å­˜ã•ã‚Œã¾ã™
            key value v2 ã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¾ã™:
                vault secrets enable  -path="secret"  kv-v2
                vault secrets list -detailed  |  grep version
                    ...  version:2
            key value ã‚’ç™»éŒ²ã—ã¦ã¿ã¾ã™: |
                vault kv put  "secret/path"  key1=value1  key2=value2
                vault kv get  "secret/path"
                    == Secret Path ==
                    secret/data/path

                    ======= Metadata =======
                    Key                Value
                    ---                -----
                    created_time       2025-09-09T09:19:00.846534342Z
                    custom_metadata    <nil>
                    deletion_time      n/a
                    destroyed          false
                    version            1

                    ==== Data ====
                    Key     Value
                    ---     -----
                    key1    value1
                    key2    value2
                http://localhost:8200/ui/vault/secrets/secret/kv/path/details
                    {
                        "key1": "value1",
                        "key2": "value2"
                    }
                vault kv delete  "secret/path"  #// ã‚¢ãƒ³ãƒ‡ãƒªãƒ¼ãƒˆãŒã§ãã‚‹å‰Šé™¤ã§ã™ã€‚ä»£ã‚ã‚Šã« kv destroy ã‚’å®Ÿè¡Œã™ã‚‹ã¨å®Œå…¨ã«å‰Šé™¤ã—ã¾ã™
            YAML ã«åŸºã¥ã„ã¦ key value ã‚’ç™»éŒ²ã—ã¾ã™: #keyword: HashiCorp Vault YAML
                ã‚µãƒ³ãƒ—ãƒ« YAML ã‚’ä½œã‚Šã¾ã™: |
                    tee ~/_example_vault.yaml > /dev/null  << HERE_DOCUMENT
                    key1: value1
                    key2:
                        key21: value21
                        key22: value22
                    HERE_DOCUMENT
                ï¼ˆåˆå›ã®ã¿ï¼‰yq ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #search: yq
                    sudo curl -L  -o /usr/local/bin/yq  https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64
                    sudo chmod +x  /usr/local/bin/yq
                ç™»éŒ²ã—ã¦ã¿ã¾ã™: |  #search: vault kv put
                    yq eval -o=json ~/_example_vault.yaml  |  vault kv put  "secret/config/app"  -  #// æœ«å°¾ã«ãƒã‚¤ãƒ•ãƒ³ãŒå¿…è¦ã§ã™
                    vault kv get  "secret/config/app"
                        Key     Value
                        ---     -----
                        key1    value1
                        key2    map[key21:value21 key22:value22]
                    http://localhost:8200/ui/vault/secrets/secret/kv/config%2Fapp/details
                        {
                            "key1": "value1",
                            "key2": {
                                "key21": "value21",
                                "key22": "value22"
                            }
                        }
        åˆæœŸåŒ–ã—ã¾ã™: #keyword: initialize OpenBao
            ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®æœ€æ–°ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
            ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ­¢ã‚ã—ã¾ã™:
                sudo systemctl stop  openbao
            ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´æ‰€ã‚’èª¿ã¹ã¾ã™:
                sudo systemctl cat  openbao
                    ExecStart=/usr/bin/bao server -config=/etc/openbao.d/openbao.hcl
                cat /etc/openbao.d/openbao.hcl
                    storage "file" {
                        path = "/var/lib/openbao/data"
            ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™:
                sudo ls -la  "/var/lib/openbao/data"
                sudo rm -rf  "/var/lib/openbao/data"
                sudo ls -la  "/var/lib/openbao/data"
            Nomad ã¨é€£æºã—ã¦ã„ã‚‹å ´åˆ:
                #search: initialize Nomad
            å†åˆæœŸåŒ–ã—ã¾ã™:
                #// Ansible ã‚’ä½¿ã†ç’°å¢ƒã§ã¯ã€ä»¥ä¸‹ã§ã¯ãªãã€Ansible ã‚’ä½¿ã„ã¾ã™
                sudo systemctl start openbao
                VAULT_ADDR=http://localhost:8200 vault operator init
    ã‚³ãƒãƒ³ãƒ‰:  #glossary:
        #// OpenBao ã§ã¯ valut â†’ bao
        ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™, vault ã‚³ãƒãƒ³ãƒ‰ç”¨: #keyword: vault CLI environment  #glossary:
            VAULT_ADDR: |
                export VAULT_ADDR=http://localhost:8200   #// ã‚³ãƒ³ãƒ†ãƒŠâ€•å†…ãªã‚‰ http://172.17.0.1:8200
                vault ____
                #// é–¢é€£: less  ~/.vault-token  #// ã‚³ãƒãƒ³ãƒ‰ãŒå‡¦ç†ã§ãã‚‹æ¨©é™ã‚’æŒã£ãŸãƒˆãƒ¼ã‚¯ãƒ³ã€‚é–‹ç™ºç’°å¢ƒã§ã¯ root token  #search: ~/.vault-token
            VAULT_CACERT: |
                Vault CLIï¼ˆVault ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ãŒ Vault ã‚µãƒ¼ãƒãƒ¼ã®è¨¼æ˜æ›¸ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã® CA è¨¼æ˜æ›¸ ã®å ´æ‰€
                è¨­å®šã—ãªã„ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
                    Get "https://127.0.0.1:8200/v1/sys/seal-status": tls: failed to verify certificate: x509: certificate signed by unknown authority
            VAULT_SKIP_VERIFY:  #// Vault ã‚µãƒ¼ãƒãƒ¼ã®è¨¼æ˜æ›¸ã‚’æ¤œè¨¼ã™ã‚‹å†…éƒ¨æ‰‹é †ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™
                export VAULT_SKIP_VERIFY=1
                #// é€šå¸¸ã€VAULT_CACERT ã‚’è¨­å®šã™ã‚‹ã‚ˆã†ã«å¤‰ãˆã¾ã™
        vault login:  #search: ~/.vault-token
        vault status:
        vault policy write:
            #search: vault policy write example
        vault policy read:
            vault policy read  "nomad-workloads"
            #search: vault policy write example
        vault token create: |  #search: create policy HashiCorp Vault
            vault token create  -policy=__PolicyName__
                token                __Token__
                token_accessor       __TokenAccessor__               #search: HashiCorp Vault token accessor
                policies             ["default" "__PolicyName__"]
                token_policies       ["default" "__PolicyName__"]
                identity_policies    []
                token_duration       768h
                token_renewable      true
            #// ç”Ÿæˆã—ãŸã‚‰ token ã¨ token_accessor ã‚’å®‰å…¨ãªå ´æ‰€ã«ãƒ¡ãƒ¢ã—ã¾ã™
            #search: lookup token accessor HashiCorp Vault
        vault token capabilities: #keyword:  #// æ¨©é™ãŒã‚ã‚‹ã‹ç¢ºèªã—ã¾ã™  #search: vault token capabilities example
        vault kv put:
            åŸºæœ¬:
                export VAULT_ADDR="http://localhost:8200"
                vault kv put  "secret/mongo/config"  "root_password=secret-password"
                #template__: vault kv put  "__Path__"  "__Key__=__Value__"
                #// ä¸Šè¨˜ã¯ã€
            ãƒ‘ã‚¹ã®æ›¸ãæ–¹, __Path__:  #search: path HashiCorp Vault
            è¤‡æ•°ã®ã‚­ãƒ¼:
                vault kv put  "__Path__"  "__Key1__=__Value1__"  "__Key2__=__Value2__"
            ãƒ•ã‚¡ã‚¤ãƒ«:
                vault kv put "secret/myapp"  @__Path__
            æ¨™æº–å…¥åŠ›:
                vault kv put "secret/myapp"  -
                #// é€šå¸¸ã€ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨å…±ã«ä½¿ã‚ã‚Œã¾ã™  #search: HashiCorp Vault JSON
            JSON: | #keyword: HashiCorp Vault JSON  #// æ§‹é€ ã‚’æŒã£ã¦æ ¼ç´ã•ã‚Œã¾ã™  #search: HERE_DOCUMENT
                vault kv put "secret/myapp" - << HERE_DOCUMENT
                {
                    "database": {
                        "host": "localhost",
                        "port": 5432,
                        "username": "admin",
                        "password": "secret123"
                    },
                    "api_key": "abc-def-123",
                    "debug": true
                }
                HERE_DOCUMENT
            YAML:
                JSON ã«å¤‰æ›ã—ãªã„ã¨ã€æ§‹é€ ã‚’æŒã£ã¦æ ¼ç´ã•ã‚Œã¾ã›ã‚“  #search: HashiCorp Vault YAML
            -mount ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #keyword: -mount HashiCorp Vault
                ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆã®ãƒã‚¦ãƒ³ãƒˆåï¼‰ã‚’æŒ‡å®šã—ã¾ã™  #search: secret engine HashiCorp Vault
        vault kv get:
            åŸºæœ¬:
                export VAULT_ADDR="http://localhost:8200"
                vault kv get  "secret/mongo/config"
                #template__: vault kv get  "__Path__"
            ãƒ‘ã‚¹ã®æ›¸ãæ–¹, __Path__:  #search: path HashiCorp Vault
            -mount ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #search: -mount HashiCorp Vault
        vault write:  #// kv ä»¥å¤–ã® ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ ã«å¯¾ã—ã¦ã‚‚ä½¿ãˆã¾ã™
            vault kv put ã¨ã®æ¯”è¼ƒ:  #// ä»¥ä¸‹ã® 2ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã¯åŒã˜å‡¦ç†ã§ã™ã€‚ä¸»ã«ãƒ‘ã‚¹ãŒé•ã„ã¾ã™
                vault kv put  "secret/mongo/config"              "root_password=secret-password"
                vault write   "secret/data/mongo/config"  data='{"root_password":"secret-password"}'
        vault read:  #// kv ä»¥å¤–ã® ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ ã«å¯¾ã—ã¦ã‚‚ä½¿ãˆã¾ã™
            vault kv get ã¨ã®æ¯”è¼ƒ:  #// ä»¥ä¸‹ã® 2ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã¯åŒã˜å‡¦ç†ã§ã™ã€‚ä¸»ã«ãƒ‘ã‚¹ãŒé•ã„ã¾ã™
                vault kv get  "secret/mongo/config"
                vault read    "secret/data/mongo/config"
    æ§‹æˆ:
        ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ:  #// Vault ãŒä¿è­·ã™ã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
        ãƒ‘ã‚¹:  #keyword: path HashiCorp Vault
            ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª:  #// ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç›¸å½“
                ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: secret/config/app    #// ãƒ•ã‚¡ã‚¤ãƒ«ã«ç›¸å½“
                ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: secret/config/app/   #// ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç›¸å½“
            ãƒã‚¦ãƒ³ãƒˆåã®çœç•¥:  #// valut kv ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆ
                æœ€åˆã® / ã®å·¦ãŒã€ãƒã‚¦ãƒ³ãƒˆåã®å ´åˆ:  #search: mount HashiCorp Vault
                    CLI: secret/config/app
                    ãƒ•ãƒ« ãƒ‘ã‚¹: secret/data/config/app
                æœ€åˆã® / ã®å·¦ãŒã€ãƒã‚¦ãƒ³ãƒˆåã§ã¯ãªã„å ´åˆ:  #// ãƒã‚¦ãƒ³ãƒˆå secret ãŒæš—é»™çš„ã«æŒ‡å®šã•ã‚Œã¾ã™
                    CLI: default/config/app
                    ãƒ•ãƒ« ãƒ‘ã‚¹: secret/data/default/config/app
                ãƒ•ãƒ«ãƒ‘ã‚¹ã®ç¢ºèªæ–¹æ³•:
                    vault kv put ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
            ã‚¸ãƒ§ãƒ–å:  #// ãƒ‘ã‚¹ã®ä¸­ã®ã‚¸ãƒ§ãƒ–åã®éƒ¨åˆ†
                workload ID ã‚’ä½¿ã†å ´åˆã€ãƒãƒªã‚·ãƒ¼ã®ãƒ‘ã‚¹ã®ä¸­ã«
                    /{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_job_id}}/
                ã®ã‚ˆã†ãª nomad_job_id ãŒã‚ã‚‹ã¨ãã¯ã€
                ãã®éƒ¨åˆ†ãŒ Nomad ã§å®Ÿè¡Œã™ã‚‹ Job åã«ãªã‚Šã¾ã™ã€‚
                ãªã®ã§ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ãƒ‘ã‚¹ã«ã‚¸ãƒ§ãƒ–åã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                #search: vault policy write example
            ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹, default:  #// ãƒ‘ã‚¹ã®ä¸­ã®ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹éƒ¨åˆ†
                workload ID ã‚’ä½¿ã†å ´åˆã€ãƒãƒªã‚·ãƒ¼ã®ãƒ‘ã‚¹ã®ä¸­ã«
                    /{{identity.entity.aliases.auth_jwt_00000000.metadata.nomad_namespace}}/
                ã®ã‚ˆã†ãª nomad_namespace ãŒã‚ã‚‹ã¨ãã¯ã€
                ãã®éƒ¨åˆ†ãŒé€šå¸¸ default ã«å›ºå®šã•ã‚Œã¾ã™ã€‚
                ãªã®ã§ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ãƒ‘ã‚¹ã« default ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                #search: vault policy write example
                #search: default namespace HashiCorp Vault
            KV Version 2:  #// secret ã« kv-v2 ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹å ´åˆ
                vault kv get ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°:             secret/config/app
                vault token capabilities ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°: secret/data/config/app
                __PolicyName__.hcl ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã® {{ }}: secret/data/config/app
                Web UI ã® URL: ____:8200/ui/vault/secrets/secret/kv/config%2Fapp
                Web UI ã®ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ: Secrets / secret / config / app
            KV Version 1:
                # CLIãƒ‘ã‚¹: secret/config/app
                # APIãƒ‘ã‚¹: secret/config/app
                # ãƒãƒªã‚·ãƒ¼ãƒ‘ã‚¹: secret/config/app
        ãƒãƒªã‚·ãƒ¼: #keyword: policy HashiCorp Vault
            è¨­å®šã—ã¦ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™: #keyword: create policy HashiCorp Vault
                #â†“ æ‰‹é †
                ãƒãƒªã‚·ãƒ¼ã®å®šç¾©ã‚’æ›¸ãã¾ã™: #keyword: __PolicyName__.hcl
                    ____/__PolicyName__.hcl ãƒ•ã‚¡ã‚¤ãƒ«: |
                        path "secret/data/config/app" {
                            capabilities = ["read"]
                        }
                    path ã«ã¤ã„ã¦:  #search: path HashiCorp Vault
                vault policy write: |  #// ãƒãƒªã‚·ãƒ¼ã‚’ç™»éŒ²ã—ã¾ã™
                    ...     #search: vault CLI environment
                    vault policy write  "__PolicyName__"  ____/__PolicyName__.hcl
                        #// ã¾ãŸã¯
                    cat  ____/__PolicyName__.hcl  |  vault policy write  "__PolicyName__"  -  #// æœ«å°¾ã® - ã¯å¿…è¦ã§ã™
                æ¨©é™ã‚’ç¢ºèªã—ã¾ã™:
                    vault policy read  "__PolicyName__"
                    ãªã©
                    #search: vault token capabilities example
            æ¨©é™ã‚’ç¢ºèªã—ã¾ã™: #keyword: vault token capabilities example
                #â†“ æ‰‹é †
                ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™:  #search: vault CLI environment
                KV ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™: | #keyword: HashiCorp Vault KV version
                    vault secrets list -detailed | grep version:
                        version:2
                vault policy read:  #// ãƒãƒªã‚·ãƒ¼ã®å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™
                    ï¼ˆãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã™ã‚‹å ´åˆï¼‰:  #search: create policy HashiCorp Vault
                    ã‚³ãƒãƒ³ãƒ‰: |
                        vault policy read  "myapp-policy"
                            path "secret/data/config/app" {
                                capabilities = ["read"]
                            }
                    path ã«ã¤ã„ã¦:  #search: path HashiCorp Vault
                        ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãªã‚‰: secret/data/config/app
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã‚‰:   secret/data/config/app/
                vault token create:  #// æŒ‡å®šã—ãŸãƒãƒªã‚·ãƒ¼ã®æ¨©é™ã‚’æŒã¤ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™
                    vault token create -policy="myapp-policy"
                        token  __PolicyToken__
                    export POLICY_TOKEN=__PolicyToken__
                vault token capabilities:  #// ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¨©é™ã‚’ç¢ºèªã—ã¾ã™
                    ã‚³ãƒãƒ³ãƒ‰:
                        vault token capabilities  ${POLICY_TOKEN}  secret/data/config/app
                            read
                    path ã«ã¤ã„ã¦:  #search: path HashiCorp Vault
                        ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãªã‚‰: secret/data/config/app
                        ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã‚‰:   secret/data/config/app/a
                    ä»–ã®å‡ºåŠ›:  #// æŒ‡å®šã—ãŸãƒ‘ã‚¹ï¼ˆsecret/data/config/app/ï¼‰ã«é–¢ã™ã‚‹æ¨©é™ã‚’è¡¨ç¤ºã—ã¾ã™
                        deny: ä½•ã‚‚æ¨©é™ã¯ã‚ã‚Šã¾ã›ã‚“
                        read: read æ¨©é™ãŒã‚ã‚Šã¾ã™
                        root: root æ¨©é™ãŒã‚ã‚Šã¾ã™
                vault kv get:  #// ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å–å¾—ã—ã¾ã™
                    ã‚³ãƒãƒ³ãƒ‰:
                        VAULT_TOKEN=${POLICY_TOKEN}  vault kv get  secret/config/app
                    path ã«ã¤ã„ã¦:  #search: path HashiCorp Vault
                        ãƒãƒªã‚·ãƒ¼ã® path: secret/data/config/app
                        KV ã® path:      secret/config/app       #// KV version 2 ã®å ´åˆ
                    ï¼ˆå¿…è¦ãªã‚‰ï¼‰ãƒ€ãƒŸãƒ¼ã®ãƒˆãƒ¼ã‚¯ãƒ³ã§æ‹’å¦ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™: |
                        VAULT_TOKEN=bad_token  vault kv get  secret/config/app
                            ...
                            * invalid token
                vault token revoke:  #// ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™
                    vault token revoke  ${POLICY_TOKEN}
            å‚ç…§:
                CLI:  #search: vault token capabilities
                Web UI: http://____:8200/ui/vault/policies/acl
            nomad-server-policy: #keyword: nomad-server-policy HashiCorp Vault
                å†…å®¹: |  #// ____/nomad-server-policy.hcl
                    path "auth/token/create/nomad-cluster" {
                        capabilities = ["create", "update"]
                    }

                    path "auth/token/roles/nomad-cluster" {
                        capabilities = ["read"]
                    }

                    path "auth/token/lookup-self" {
                        capabilities = ["read"]
                    }

                    path "auth/token/lookup" {
                        capabilities = ["update"]
                    }

                    path "auth/token/revoke-accessor" {
                        capabilities = ["update"]
                    }

                    path "sys/capabilities-self" {
                        capabilities = ["update"]
                    }

                    path "auth/token/renew-self" {
                        capabilities = ["update"]
                    }
                ç™»éŒ²ã—ã¾ã™: |
                    ...     #search: vault CLI environment
                    vault policy write  "nomad-server-policy"  ____/nomad-server-policy.hcl
        ãƒãƒªã‚·ãƒ¼ ãƒ­ãƒ¼ãƒ«: #keyword: policy role HashiCorp Vault  #// ãƒãƒªã‚·ãƒ¼ã«ãƒˆãƒ¼ã‚¯ãƒ³ã® TTL ãªã©ãŒè¿½åŠ è¨­å®šã•ã‚ŒãŸã‚‚ã®
            vault write auth/token/roles/myapp-policy-role  name="myapp-policy-role"  allowed_policies="myapp-policy" \
                explicit_max_ttl=3600  orphan=true  period=3600  renewable=true
            vault read auth/token/roles/myapp-policy-role
            vault token create -role="myapp-policy-role"
                token  __PolicyToken__
            export POLICY_TOKEN=__PolicyToken__
            vault token revoke  ${POLICY_TOKEN}
        ãƒˆãƒ¼ã‚¯ãƒ³: #keyword: policy token HashiCorp Vault  #// ãƒãƒªã‚·ãƒ¼ã«å®šç¾©ã—ãŸæ¨©é™ã‚’æŒã¤ãƒˆãƒ¼ã‚¯ãƒ³
            ç”Ÿæˆ:  #search: create policy HashiCorp Vault
            å‰Šé™¤:
                vault token revoke  __Token__
                    ã¾ãŸã¯
                vault token revoke -accessor  __TokenAccessor__
        ã‚¢ã‚¯ã‚»ã‚µãƒ¼, token accessor: #keyword: token accessor HashiCorp Vault  #// ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è­˜åˆ¥ã™ã‚‹å€¤ã€‚ ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ã£ãŸå‡¦ç†ã‚’ã™ã‚‹ãŸã‚ã®æ¨©é™ã¯ã‚ã‚Šã¾ã›ã‚“
            æ¦‚è¦:
                - ãƒˆãƒ¼ã‚¯ãƒ³ã« 1å¯¾1 ã«å¯¾å¿œã—ãŸè­˜åˆ¥å­ã§ã™
                - ç”Ÿæˆã—ãŸã¨ãã«ãƒ¡ãƒ¢ã—ãŸãƒ¡ãƒ¢ã‹ã‚‰ token ã‚’ç‰¹å®šã—ã¾ã™
            è¡¨ç¤º: | #keyword: lookup token accessor HashiCorp Vault
                vault token lookup -accessor  __TokenAccessor__
                    policies            [default __PolicyName__]
                    issue_time          2025-09-10T19:50:02.726703737+09:00
                    expire_time         2025-10-12T19:50:02.726698937+09:00
                    ...
                vault token lookup  __Token__
                    accessor            __TokenAccessor__
                    policies            [default __PolicyName__]
                    ...
        ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³: #keyword: secret engine HashiCorp Vault
            #â†“ æ‰‹é †
            é¸æŠã—ã¾ã™:  #search: -mount HashiCorp Vault
            #â†“ ç¨®é¡
            secret, kv, kv-v2:  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒã‚¦ãƒ³ãƒˆåã¯ secretã€‚Key-Value (KV) ã€‚é™çš„ãªã‚­ãƒ¼ãƒ»ãƒãƒªãƒ¥ãƒ¼ãƒšã‚¢ã‚’ä¿å­˜
                version:2: #keyword: key value version 2 HashiCorp Vault  #// Key-Value (KV) version 2ã€‚é™çš„ãªã‚­ãƒ¼ãƒ»ãƒãƒªãƒ¥ãƒ¼ãƒšã‚¢ã‚’ä¿å­˜ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ä»˜ã
                    key value v2 ã‚’ä½¿ã†è¨­å®šã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        vault secrets list -detailed  |  grep version
                            ...  version:2
                    ãƒã‚¦ãƒ³ãƒˆå: #keyword: mount HashiCorp Vault
                        secret ãŒå¤šã„ã€‚ vault kv put ãªã©å„ç¨®ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
                    ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™:  #// æœ‰åŠ¹åŒ–ã—ã¾ã™
                        -   vault secrets enable  -path="secret"  kv-v2  #// kv-v2 ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ ã‚’ secretï¼ˆå„ç¨®ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                        -   vault secrets enable  -path="__MountName__"  kv-v2
                        -   vault secrets enable  "kv-v2"           #// kv-v2 ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ ã‚’ kv-v2 ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                        -   vault secrets enable  -version 2  "kv"  #// kv-v2 ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã‚¨ãƒ³ã‚¸ãƒ³ ã‚’ kv ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™
                    ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™:  #// ç„¡åŠ¹åŒ–ã—ã¾ã™
                        -   vault secrets disable  "__MountName__"
                    ã‚µãƒ³ãƒ—ãƒ«:
                        #search: install HashiCorp Vault
                        #search: install Nomad Vault
                version:1:  #// Key-Value (KV) version 1ã€‚é™çš„ãªã‚­ãƒ¼ãƒ»ãƒãƒªãƒ¥ãƒ¼ãƒšã‚¢ã‚’ä¿å­˜
                    ãƒã‚¦ãƒ³ãƒˆå: secret
                ã‚µãƒ³ãƒ—ãƒ«:  #search: -mount HashiCorp Vault
            ãã®ä»–:
                Database - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å‹•çš„ãªèªè¨¼æƒ…å ±ã‚’ç”Ÿæˆ
                AWS - AWS IAMã®ä¸€æ™‚çš„ãªèªè¨¼æƒ…å ±ã‚’ç”Ÿæˆ
                Azure - Azureã®å‹•çš„ãªèªè¨¼æƒ…å ±ã‚’ç”Ÿæˆ
                PKI - X.509è¨¼æ˜æ›¸ã®ç™ºè¡Œãƒ»ç®¡ç†
                SSH - SSHéµã®å‹•çš„ç”Ÿæˆ
                Transit - æš—å·åŒ–ãƒ»å¾©å·åŒ–ã‚µãƒ¼ãƒ“ã‚¹
                LDAP - LDAPèªè¨¼
                Kubernetes - Kubernetesã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
                Consul - Consulãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
    ãƒ•ã‚¡ã‚¤ãƒ«:
        /etc/vault.d/vault.hcl, /etc/openbao.d/openbao.hcl:
            #search: /etc/vault.d/vault.hcl
        ~/.vault-token: #keyword: ~/.vault-token,  vault login
            å†…å®¹: ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆç”Ÿã®ãƒ†ã‚­ã‚¹ãƒˆï¼‰  #search: policy token HashiCorp Vault
            è¨­å®š: vault login  __Token__  #// Initial Root Token ãªã©
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: #keyword: HashiCorp Vault trouble
        æ¨©é™ãŒã‚ã‚‹ã‹ç¢ºèªã—ã¾ã™:  #search: vault token capabilities example
        ã‚¨ãƒ©ãƒ¼, x509 certificate signed by unknown authority:
            æ‰‹é †:
                sudo vault operator init
                    ã¾ãŸã¯
                sudo bao operator init
            ã‚¨ãƒ©ãƒ¼: |
                Get "https://127.0.0.1:8200/v1/sys/seal-status": tls: failed to verify certificate: x509: certificate signed by unknown authority
            å¯¾å‡¦A:
                é–‹ç™ºç’°å¢ƒãªã‚‰
                sudo BAO_SKIP_VERIFY=1  vault operator init
        ã‚¨ãƒ©ãƒ¼, no handler for route "auth/jwt-nomad/config". route entry not found.:
            æ‰‹é †: vault write "auth/jwt-nomad/config"  @__FilePath__
            ãƒ­ã‚°: |
                Error writing data to auth/jwt-nomad/config: Error making API request.
                    URL: PUT http://127.0.0.1:8200/v1/auth/jwt-nomad/config
                    Code: 404. Errors:
                * no handler for route "auth/jwt-nomad/config". route entry not found.
            å¯¾å‡¦:
                vault auth enable -path=jwt-nomad jwt
        ã‚¨ãƒ©ãƒ¼, VAULT_ADDR WARNING: #keyword: VAULT_ADDR
            æ‰‹é †: vault ã‚³ãƒãƒ³ãƒ‰
            ãƒ­ã‚°: |
                WARNING! VAULT_ADDR and -address unset. Defaulting to https://127.0.0.1:8200.
            å¯¾å‡¦:
                export VAULT_ADDR="http://127.0.0.1:8200"
        ã‚¨ãƒ©ãƒ¼, Error checking seal status:
            æ‰‹é †: vault status
            ãƒ­ã‚°: |
                Error checking seal status: Get "http://127.0.0.1:8200/v1/sys/seal-status": dial tcp 127.0.0.1:8200: connect: connection refused
                Error checking seal status: Get "http://localhost:8200/v1/sys/seal-status": dial tcp 127.0.0.1:8200: connect: connection refused
            å¯¾å‡¦:
                vault ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™:
                    sudo systemctl start  vault
            #// ãƒ­ã‚°ã«ã‚ã‚‹ unseal ã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚æœ€åˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ API ã®ã‚ˆã†ã§ã™  #search: Vault unseal
        ã‚¨ãƒ©ãƒ¼, Error unsealing:
            æ‰‹é †: vault operator unseal  ____
            ãƒ­ã‚°: |
                Error unsealing: Put "http://127.0.0.1:8200/v1/sys/unseal": dial tcp 127.0.0.1:8200: connect: connection refused
            å¯¾å‡¦:
                vault ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¾ã™:
                    sudo systemctl start  vault
        ã‚¨ãƒ©ãƒ¼, Vault is sealed: #keyword:
            æ‰‹é †: |
                vault secrets list -detailed | grep version:
            ãƒ­ã‚°: |
                Error listing secrets engines: Error making API request.
                    URL: GET http://172.17.0.1:8200/v1/sys/mounts
                    Code: 503. Errors:
                * Vault is sealed
            å¯¾å‡¦:
                #search: vault operator unseal
Envoy: #keyword:
    æ©Ÿèƒ½:
        é€šä¿¡åˆ¶å¾¡: é€šä¿¡ã‚’åˆ¶å¾¡ã—ã€ã‚µãƒ¼ãƒ“ã‚¹é–“ã®é€šä¿¡ã®æš—å·åŒ–ã€èªè¨¼ã€èªå¯ã€ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€è² è·åˆ†æ•£ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãªã©
        ç›£è¦–: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ç”Ÿæˆã—ã€ã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œçŠ¶æ³ã‚’å¯è¦–åŒ–
        ç§»æ¤æ€§: Kubernetesã€Nomadã€Consul ãªã©ã€æ§˜ã€…ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨çµ±åˆã§ãã¾ã™
Consul: #keyword:  #// ã‚µãƒ¼ãƒä¸Šã§ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã“ã¨ã‚’ç®¡ç†ã—ã¾ã™
    èª­ã¿:
        ã‚³ãƒ³ã‚¹ãƒ«ã¨èã“ãˆã¾ã™ï¼ˆå…¬å¼å‹•ç”»ã‚ˆã‚Šï¼‰
            https://learn.hashicorp.com/tutorials/consul/get-started-install?in=consul/getting-started
        ã‚³ãƒ³ã‚µãƒ«ã¨èª­ã¿ã¾ã™ï¼ˆLACç¤¾ã‚ˆã‚Šï¼‰
            https://www.lac.co.jp/solution_product/consul.html
    å…¬å¼:
        https://www.consul.io/
        https://github.com/hashicorp/docker-consul
        https://hub.docker.com/_/consul
        https://learn.hashicorp.com/consul
        https://www.hashicorp.com/products/consul
    æ¦‚è¦:
        æ¦‚è¦: ã‚µãƒ¼ãƒä¸Šã§ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã“ã¨ã‚’ç®¡ç†ã—ã¾ã™ã€‚
            ã©ã® Nomad Client ã«ã‚³ãƒ³ãƒ†ãƒŠã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒé…ç½®ã•ã‚ŒãŸã‹ã¨ã„ã†æƒ…å ±ã€‚
            ç¾åœ¨ã®çŠ¶æ…‹ã—ã‹ä¿æŒã—ã¾ã›ã‚“ã€‚çŠ¶æ³å¤‰åŒ–æ™‚ã«äººé–“ã‚’ä»‹ã•ãšæ©Ÿæ¢°çš„ã«å‡¦ç†ã‚’è¡Œãˆã¾ã™ã€‚
        RPC æ©Ÿèƒ½:
            å›³: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼, ã‚µãƒ¼ãƒãƒ¼, ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ, ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ  #ref: ${my_images}/2021/consul-arch.png
            ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼: åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ã«é€šä¿¡ã™ã‚‹ã¨ãã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’çµŒç”±ã—ã¾ã™
            ã‚µãƒ¼ãƒãƒ¼: ãŸã¨ãˆã° 3ï½5å°ã€‚ã‚µãƒ¼ãƒãƒ¼ã¯ã™ã¹ã¦ã€1 ã¤ã® Raft ãƒ”ã‚¢ ã‚»ãƒƒãƒˆã®ä¸€éƒ¨ã§ã™ã€‚å˜ä¸€ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚’é¸å‡º
            ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ãŒä¸€æ™‚çš„ã«ä½¿ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€
                ã‚µãƒ¼ãƒ“ã‚¹æ¤œå‡ºã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ã®æ¥ç¶šèªè¨¼ãªã©ã®ä¸€éƒ¨ã®ã‚¯ã‚¨ãƒªã«å¿œç­”ã§ãã¾ã™
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: ã‚´ã‚·ãƒƒãƒ— ãƒ—ãƒ­ãƒˆã‚³ãƒ« ã§ã‚„ã‚Šå–ã‚Šã—ã¦ã„ã¾ã™ã€‚
                ã‚µãƒ¼ãƒãƒ¼ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ§‹æˆã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                æ¤œå‡ºã‚„éšœå®³æ¤œå‡ºã¯è‡ªå‹•çš„ã«è¡Œã‚ã‚Œã¾ã™ã€‚
            å…¬å¼: https://www.consul.io/docs/architecture
        ã‚µãƒ¼ãƒ“ã‚¹ ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒª æ©Ÿèƒ½: IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œå‡ºã—ã¾ã™
        ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯: ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®çµæœã‚‚è¡¨ç¤ºã—ã¾ã™
    æ‰‹é †, ã‚µãƒ³ãƒ—ãƒ«:  #keyword: install Consul
        ã¯ã˜ã‚ã¦ã® HashiCorp Consul - classmethod:  #ref: https://dev.classmethod.jp/articles/hashicorp-consul-getting-started-001/
            Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
            Consul ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                (@node1) docker pull consul
            Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒå‹•ãã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’èµ·å‹•ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:
                    (@node1) docker run --rm -it consul  sh  #// bash ã¯ä½¿ãˆã¾ã›ã‚“
                Consul ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™:
                    (@consul) consul version
                ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™:
                    (@consul) exit
            Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã—:  #keyword: start Consul agent dev example
                æ–°ã—ã„ bash:
                    (@node1) docker run --rm  --name consul_1  consul agent -node=consul_1 -dev
                        #// -node ã¯ Consul ã‚µãƒ¼ãƒãƒ¼ã«ä»˜ã‘ã‚‹ãƒãƒ¼ãƒ‰å
                        #// -dev ã¯é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
                èµ·å‹•ã™ã‚‹ã¾ã§å°‘ã—å¾…ã¡ã¾ã™:
                    #// æ•°è¡Œä¸Šã« [INFO]  agent: Synced node info ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¡ã¾ã™ã€‚ã™ãè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                å¾Œã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’çµ‚äº†ã™ã‚‹ã¨ã:
                    Ctrl + C ã‚­ãƒ¼
            ãƒãƒ¼ãƒ‰ã‚’ä¸€è¦§ã—ã¾ã™:  #keyword: list Consul nodes example
                Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #keyword: Consul docker log in
                    æ–°ã—ã„ bash:
                        - (@node1) docker exec -it consul_1  sh  #// ã“ã‚Œã§èµ·å‹•ã™ã‚‹ã‚·ã‚§ãƒ«ã‚’ (@consul_1) ã¨ã—ã¾ã™
                            #// ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒèµ·å‹•ã•ã‚Œã¦ã„ãªã„ã¨ãã¯ã€ #search: start Consul agent
                        - (@consul_1)  PS1='\n[\u@\h(consul_1) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                    å¾Œã§ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹ã¨ã:
                        (@consul_1) exit
                HTTP API ã§ãƒãƒ¼ãƒ‰ã‚’ä¸€è¦§ã™ã‚‹å ´åˆ:  #// å¼·æ•´åˆæ€§
                    ã‚³ãƒãƒ³ãƒ‰: (@consul_1) curl localhost:8500/v1/catalog/nodes
                    å‡ºåŠ›ä¾‹: |
                        [
                            {
                                "ID": "06c3a455-89f3-fe42-569b-8784803deb25",
                                "Node": "a62d35d1a61f",
                                "Address": "127.0.0.1",
                                "Datacenter": "dc1",
                                "TaggedAddresses": {
                                    "lan": "127.0.0.1",
                                    "lan_ipv4": "127.0.0.1",
                                    "wan": "127.0.0.1",
                                    "wan_ipv4": "127.0.0.1"
                                },
                                "Meta": {
                                    "consul-network-segment": ""
                                },
                                "CreateIndex": 11,
                                "ModifyIndex": 13
                            }
                        ]
                ã‚´ã‚·ãƒƒãƒ— ãƒ—ãƒ­ãƒˆã‚³ãƒ« ã§ãƒãƒ¼ãƒ‰ã‚’ä¸€è¦§ã™ã‚‹å ´åˆ:  #// çµæœæ•´åˆæ€§  #search: ã‚´ã‚·ãƒƒãƒ— ãƒ—ãƒ­ãƒˆã‚³ãƒ«
                    ã‚³ãƒãƒ³ãƒ‰: (@consul_1) consul members
                    å‡ºåŠ›ä¾‹: |
                        Node          Address         Status  Type    Build   Protocol  DC   Segment
                        a62d35d1a61f  127.0.0.1:8301  alive   server  1.10.1  2         dc1  <all>
            ãƒãƒ¼ãƒ‰ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¾ã™:  #keyword: Consul DNS example
                Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Consul docker log in
                dig ã¨ jq ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: install BIND in Consul
                    Docker ãƒ›ã‚¹ãƒˆOSãŒ ãƒ—ãƒ­ã‚­ã‚·ãŒç„¡ã„ LAN ã«ã„ã‚‹å ´åˆ:
                        (@consul_1) apk add  bind-tools  jq
                    Docker ãƒ›ã‚¹ãƒˆOSãŒ ãƒ—ãƒ­ã‚­ã‚·ãŒæœ‰ã‚‹ LAN ã«ã„ã‚‹å ´åˆ:
                        (@consul_1) HTTPS_PROXY=http://___.___.___.___:____  apk add  bind-tools  jq
                æœ€åˆã®ãƒãƒ¼ãƒ‰ã® ID ã‚’ NODE ç’°å¢ƒå¤‰æ•°ã«ä»£å…¥ã—ã¾ã™:
                    (@consul_1) NODE=$(curl -s localhost:8500/v1/catalog/nodes | jq -r '.[].Node')
                DNS ã« IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å•ã„åˆã‚ã›ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰: (@consul_1) dig +short @127.0.0.1 -p 8600  ${NODE}.node.consul
                    å‡ºåŠ›ä¾‹: 127.0.0.1
            Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™ >> ã‚µãƒ¼ãƒ“ã‚¹æƒ…å ±ã‚ã‚Š:  #keyword: start Consul example
                ã‚²ã‚¹ãƒˆOSã¨å…±æœ‰ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ãƒ›ã‚¹ãƒˆOSã«ä½œã‚Šã¾ã™:
                    (@node1) mkdir -p ~/consul_config
                web.json >> ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ãŒæ›¸ã‹ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™:  #// ãƒ•ã‚¡ã‚¤ãƒ«åã¯ãŠãã‚‰ã *.json ãªã‚‰ä½•ã§ã‚‚ã‚ˆã„
                    (@node1) ~/consul_config/web.json : |
                        {
                            "service": {
                                "name": "web",
                                "tags": ["rails"],
                                "port": 80 }}
                    è£œè¶³:
                        ä½œã‚‰ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã® FQDN:port: __TagName__.__ServiceName__.service.consul:__PortNum__
                        name: ã‚µãƒ¼ãƒ“ã‚¹åã€‚ ã‚µãƒ¼ãƒ“ã‚¹ã® FQDN ã®ä¸€éƒ¨ã«ãªã‚Šã¾ã™ï¼ˆä¸Šè¨˜ï¼‰
                        tag: ã‚¿ã‚°åã€‚ã‚µãƒ¼ãƒ“ã‚¹ã® FQDN ã®ä¸€éƒ¨ã«ãªã‚Šã¾ã™ï¼ˆä¸Šè¨˜ï¼‰
                Consul ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒèµ·å‹•ã—ã¦ã„ãŸã‚‰çµ‚äº†ã—ã¾ã™:  #search: docker rm
                Consul ã‚’èµ·å‹•ã—ã¾ã™ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚ã‚Š:  #keyword: start Consul server
                    æ–°ã—ã„ bash:
                        (@node1) docker run --rm --name consul_1 -v ~/consul_config/:/consul/config  consul -node=consul_1 -dev
                            #// -node ã¯ Consul ã‚µãƒ¼ãƒãƒ¼ã«ä»˜ã‘ã‚‹ãƒãƒ¼ãƒ‰å
                            #// -dev ã¯é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
                            #// (@consul_1) /consul/config/web.json ã‚’ãƒªãƒ¼ãƒ‰ã—ã¾ã™
                    å¾Œã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’çµ‚äº†ã™ã‚‹ã¨ã:
                        Ctrl + C ã‚­ãƒ¼
            ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™:  #keyword: show Consul service example
                Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Consul docker log in
                HTTP API ã§å•ã„åˆã‚ã›ã‚‹å ´åˆ:
                    ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã—ãŸã‚µãƒ¼ãƒãƒ¼ã‚‚å«ã‚€å ´åˆ:
                        å…¬å¼:  #// List Nodes for Service  https://www.consul.io/api/catalog#list-nodes-for-service
                        æ›¸å¼:     (@consul_1) curl http://localhost:8500/v1/catalog/service/__ServiceName__
                        ã‚µãƒ³ãƒ—ãƒ«: (@consul_1) curl http://localhost:8500/v1/catalog/service/web
                        å‡ºåŠ›ä¾‹: |
                            [
                                {
                                    "ID": "0954a6e4-c9e1-22f7-3e02-d4f4556d0574",
                                    "Node": "ce3cbf7a181c",
                                    "Address": "127.0.0.1",
                                    "Datacenter": "dc1",
                                    "TaggedAddresses": {
                                        "lan": "127.0.0.1",
                                        "lan_ipv4": "127.0.0.1",
                                        "wan": "127.0.0.1",
                                        "wan_ipv4": "127.0.0.1"
                                    },
                                    "NodeMeta": {
                                        "consul-network-segment": ""
                                    },
                                    "ServiceKind": "",
                                    "ServiceID": "web",
                                    "ServiceName": "web",
                                    "ServiceTags": [
                                        "rails"
                                    ],
                                    "ServiceAddress": "",
                                    "ServiceWeights": {
                                        "Passing": 1,
                                        "Warning": 1
                                    },
                                    "ServiceMeta": {},
                                    "ServicePort": 80,
                                    "ServiceSocketPath": "",
                                    "ServiceEnableTagOverride": false,
                                    "ServiceProxy": {
                                        "Mode": "",
                                        "MeshGateway": {},
                                        "Expose": {}
                                    },
                                    "ServiceConnect": {},
                                    "CreateIndex": 14,
                                    "ModifyIndex": 14
                                }
                            ]
                    ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã—ãŸã‚µãƒ¼ãƒãƒ¼ã‚’å«ã¾ãªã„å ´åˆ:
                        å…¬å¼:  #// List Service Instances for Service  https://www.consul.io/api/health#list-nodes-for-service
                        æ›¸å¼:     (@consul_1) curl http://localhost:8500/v1/health/service/__ServiceName__?passing
                        ã‚µãƒ³ãƒ—ãƒ«: (@consul_1) curl http://localhost:8500/v1/health/service/web?passing
                DNS ã«å•ã„åˆã‚ã›ã‚‹å ´åˆ:
                    dig ã¨ jq ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #search: install BIND in Consul
                    DNS ã® SRV ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å•ã„åˆã‚ã›ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰: (@consul_1) dig +short @127.0.0.1 -p 8600  web.service.consul SRV
                        å‡ºåŠ›ä¾‹: 1 1 80 ce3cbf7a181c.node.dc1.consul.
            ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™:  #keyword: update Consul service example
                demo ã‚¿ã‚°ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    (@consul_1) curl -s http://localhost:8500/v1/catalog/service/web | grep demo  #// ä½•ã‚‚å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“
                è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¾ã™:
                    demo ã‚¿ã‚°ã‚’è¿½åŠ ã—ã¾ã™:
                        ~/consul_config/web.json : |
                            {
                                "service": {
                                    "name": "web",
                                    "tags": ["rails","demo"],
                                    "port": 80 }}
                Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å†èµ·å‹•ã—ã¾ã™:  #keyword: restart Consul example
                    (@consul_1) kill -HUP $(pgrep -f "consul agent")
                        #search: Linux kill SIGHUP
                demo ã‚¿ã‚°ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                    (@consul_1) curl -s http://localhost:8500/v1/catalog/service/web | grep demo  #// "demo" ãŒå‡ºåŠ›ã•ã‚Œã¾ã™
        KV Store >> å…¬å¼ CLI Quick Start >> Store Data in Consul KV: #keyword: Consul KV example  #ref: https://learn.hashicorp.com/tutorials/consul/get-started-key-value-store
            Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
            Consul ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                (@node1) docker pull consul
            Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã—:  #search: start Consul agent dev example
            KV CLI ã‚’ä½¿ã†å ´åˆ:  #keyword: Consul CLI KV
                Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Consul docker log in
                åŸºæœ¬, PUT, GET, åˆ¥ã®ã‚­ãƒ¼:
                    PUT minconns: (@consul_1) consul kv put  redis/config/minconns 1
                    GET minconns: (@consul_1) consul kv get  redis/config/minconns  #// 1 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    PUT maxconns: (@consul_1) consul kv put  redis/config/maxconns 20
                    GET maxconns: (@consul_1) consul kv get  redis/config/maxconns  #// 20 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                ä¸Šæ›¸ãã¨ ModifyIndex:
                    å‰ææ¡ä»¶ã‚’è¨­å®šã—ã¾ã™:
                        PUT: (@consul_1) consul kv put  redis/config/maxconns 22  #// ä¸Šæ›¸ãã§ãã¾ã™
                        GET: (@consul_1) consul kv get  redis/config/maxconns  #// 22 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    ä¸Šæ›¸ãã—ã¾ã™:
                        PUT: (@consul_1) consul kv put  redis/config/maxconns 25  #// ä¸Šæ›¸ãã§ãã¾ã™
                        GET: (@consul_1) consul kv get  redis/config/maxconns  #// 25 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    Check-And-Set (CAS) ã§ä¸Šæ›¸ãã—ã¾ã™:  #// CAS ã¯æ¥½è¦³çš„ä¸¦è¡Œæ€§åˆ¶å¾¡ã«ä½¿ã„ã¾ã™  #search: æ¥½è¦³çš„ä¸¦è¡Œæ€§åˆ¶å¾¡
                        å‰ææ¡ä»¶ã‚’è¨­å®šã—ã¦ç¢ºèªã—ã¾ã™:
                            PUT: (@consul_1) consul kv put  redis/config/maxconns 25
                            GET -detailed ã‚ªãƒ—ã‚·ãƒ§ãƒ³ (0): (@consul_1) consul kv get -detailed  redis/config/maxconns
                            å‡ºåŠ›: |
                                CreateIndex      40
                                Flags            0  ğŸŒŸ
                                Key              redis/config/maxconns
                                LockIndex        0
                                ModifyIndex      121
                                Session          -
                                Value            25
                        PUT >> å°ã•ã„ ModifyIndex: (@consul_1) consul kv put -cas -modify-index=120  redis/config/maxconns 29
                            #// Error! Did not write to redis/config/maxconns: CAS failed ã¨è¡¨ç¤ºã•ã‚Œã€ä¸Šæ›¸ãã—ã¾ã›ã‚“
                        GET: (@consul_1) consul kv get  redis/config/maxconns  #// 25 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                        ãƒªãƒˆãƒ©ã‚¤ PUT >> åŒã˜ ModifyIndex: (@consul_1) consul kv put -cas -modify-index=121  redis/config/maxconns 29
                            #// ä¸Šæ›¸ãã«æˆåŠŸã—ã¾ã™
                        GET (2): (@consul_1) consul kv get  redis/config/maxconns  #// 29 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    åŒã˜å€¤ã§ä¸Šæ›¸ãã—ã¾ã™:
                        å‰ææ¡ä»¶ã‚’è¨­å®šã—ã¦ç¢ºèªã—ã¾ã™:
                            PUT: (@consul_1) consul kv put  redis/config/maxconns 29
                            GET -detailed ã‚ªãƒ—ã‚·ãƒ§ãƒ³: (@consul_1) consul kv get -detailed  redis/config/maxconns  |  grep ModifyIndex
                                #// ModifyIndex  121  ã¨è¡¨ç¤ºã•ã‚ŒãŸã¨ã—ã¾ã™
                        PUT: (@consul_1) consul kv put  redis/config/maxconns 29  #// ä¸Šæ›¸ãã§ãã¾ã™
                        GET -detailed ã‚ªãƒ—ã‚·ãƒ§ãƒ³: (@consul_1) consul kv get -detailed  redis/config/maxconns  |  grep ModifyIndex
                            #// ModifyIndex  121  ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚åŒã˜å€¤ã‚’è¨­å®šã—ãŸã¨ãã¯å¢—ãˆã¾ã›ã‚“
                ä¸€è¦§:
                    ã‚³ãƒãƒ³ãƒ‰: consul kv get -recurse
                    å‡ºåŠ›: |
                        redis/config/maxconns:25
                        redis/config/minconns:1
                        redis/config/users/admin:abcd1234
                å‰Šé™¤:
                    DELETE: (@consul_1) consul kv delete redis/config/minconns  #// key-value ã‚’å‰Šé™¤ã—ã¾ã™
                    DELETE -recurse ã‚ªãƒ—ã‚·ãƒ§ãƒ³: (@consul_1) consul kv delete -recurse  redis/config/
                        #// å‰æ–¹ä¸€è‡´ã™ã‚‹ã™ã¹ã¦ã®ã‚­ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™
                        #// ã‚³ãƒãƒ³ãƒ‰ã«æŒ‡å®šã™ã‚‹ã‚­ãƒ¼: redis/config/
                        #//     å¯¾è±¡:   redis/config/minconns
                        #//     å¯¾è±¡:   redis/config/maxconns
                        #//     å¯¾è±¡å¤–: redis/config/users/admin
                        #// ã‚³ãƒãƒ³ãƒ‰ã«æŒ‡å®šã™ã‚‹ã‚­ãƒ¼: redis/config/max
                        #//     å¯¾è±¡å¤–: redis/config/minconns
                        #//     å¯¾è±¡:   redis/config/maxconns
                        #//     å¯¾è±¡å¤–: redis/config/users/admin
                --flags ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// 64ãƒ“ãƒƒãƒˆæ•´æ•°
                    PUT: consul kv put -flags=42  redis/config/users/admin abcd1234
                    GET: consul kv get  redis/config/users/admin  #// abcd1234 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    GET -detailed ã‚ªãƒ—ã‚·ãƒ§ãƒ³:  #// -flags ã«æŒ‡å®šã—ãŸå€¤ãªã©ã‚’è¡¨ç¤ºã—ã¾ã™
                        ã‚³ãƒãƒ³ãƒ‰: consul kv get -detailed  redis/config/users/admin
                        å‡ºåŠ›: |
                            CreateIndex      40
                            Flags            42  ğŸŒŸ
                            Key              redis/config/users/admin
                            LockIndex        0
                            ModifyIndex      40
                            Session          -
                            Value            abcd1234
            HTTP API ã‚’ä½¿ã†å ´åˆ:  #keyword: Consul KV API
                å…¬å¼: https://www.consul.io/api/kv
                PUT: (@consul_1) curl -X PUT http://localhost:8500/v1/kv/redis/config/minconns  -d 1  #// true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                GET: (@consul_1) curl -X GET http://localhost:8500/v1/kv/redis/config/minconns?raw  #// 1 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                ä¸€è¦§:
                    - (@consul_1) curl "http://localhost:8500/v1/kv/?recurse&pretty"
                    - (@consul_1) curl "http://localhost:8500/v1/kv/____?recurse&pretty"
                DELETE:
                    ã‚­ãƒ¼:       (@consul_1) curl -X DELETE http://localhost:8500/v1/kv/redis/config/minconns  #// true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼: (@consul_1) curl -X DELETE http://localhost:8500/v1/kv/redis?recurse  #// recurse ã‚’æŒ‡å®šã—ã¾ã™
                Check-And-Set (CAS) ã§ä¸Šæ›¸ãã—ã¾ã™:  #// ?cas ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼  #// CAS ã¯æ¥½è¦³çš„ä¸¦è¡Œæ€§åˆ¶å¾¡ã«ä½¿ã„ã¾ã™  #search: æ¥½è¦³çš„ä¸¦è¡Œæ€§åˆ¶å¾¡
                    å‰ææ¡ä»¶ã‚’è¨­å®šã—ã¦ç¢ºèªã—ã¾ã™:
                        PUT: (@consul_1) curl -X PUT http://localhost:8500/v1/kv/redis/config/maxconns  -d 25
                        GET è©³ç´°: (@consul_1) curl -X GET http://localhost:8500/v1/kv/redis/config/maxconns
                        å‡ºåŠ›: |
                            [
                                {
                                    "LockIndex": 0,
                                    "Key": "redis/config/maxconns",
                                    "Flags": 0,
                                    "Value": "MjU=",
                                    "CreateIndex": 40,
                                    "ModifyIndex": 121
                                }
                            ]
                    PUT >> å°ã•ã„ ModifyIndex:
                         (@consul_1) curl -X PUT http://localhost:8500/v1/kv/redis/config/maxconns?cas=120  -d 29
                        #// false ã¨è¡¨ç¤ºã•ã‚Œã€ä¸Šæ›¸ãã—ã¾ã›ã‚“
                    GET: (@consul_1) curl -X GET http://localhost:8500/v1/kv/redis/config/maxconns?raw  &&  echo ""
                        #// 25 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                    ãƒªãƒˆãƒ©ã‚¤ PUT >> åŒã˜ ModifyIndex: (@consul_1) curl -X PUT http://localhost:8500/v1/kv/redis/config/maxconns?cas=121  -d 29
                        #// true ã¨è¡¨ç¤ºã•ã‚Œã€ä¸Šæ›¸ãã«æˆåŠŸã—ã¾ã™
                    GET (2): (@consul_1) curl -X GET http://localhost:8500/v1/kv/redis/config/maxconns?raw  &&  echo ""  #// 29 ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                å‚è€ƒ: https://www.consul.io/api/kv#create-update-key
            Web UI ã‚’ä½¿ã†å ´åˆ:  #// æœªèª¿æŸ»
        ã‚»ãƒƒã‚·ãƒ§ãƒ³ã® CRUD: #keyword: Consul session example  #ref: https://www.consul.io/api-docs/session
            Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
            Consul ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                (@node1) docker pull consul
            Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã—:  #search: start Consul agent dev example
            Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Consul docker log in
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ–°è¦ä½œæˆã—ã¾ã™: #// ãã®ã¾ã¾ã§ã‚‚å‹•ãã¾ã™ãŒã€å¿…è¦ã«å¿œã˜ã¦ JSON éƒ¨åˆ†ã‚’ç·¨é›†ã—ã¦ãã ã•ã„
                ã‚³ãƒãƒ³ãƒ‰: |
                    curl -X PUT http://localhost:8500/v1/session/create  -H "Content-Type:application/json" -d '{
                        "LockDelay": "15s",
                        "Name": "session_1",
                        "Node": "consul_1",
                        "Behavior": "release",
                        "TTL": "60s"
                    }'
                å‡ºåŠ›ä¾‹: |
                    {
                        "ID": "6a99821e-58a5-edec-35ca-e83b10483970"
                    }
                èª¬æ˜:
                    TTL: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ ""ã€‚è‡ªå‹•çš„ã«ç ´æ£„ã•ã‚Œã¾ã›ã‚“
                #// ç°¡æ˜“è¨­å®š: #search: Consul simple create session
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã—ã¾ã™:
                curl -X GET http://localhost:8500/v1/session/list
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™:
                æ›¸å¼:     curl -X GET http://localhost:8500/v1/session/node/__ConsulNodeName__
                ã‚µãƒ³ãƒ—ãƒ«: curl -X GET http://localhost:8500/v1/session/node/consul_1
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¾ã™:  #// TTL ã®æœ‰åŠ¹æœŸé™ãŒå»¶é•·ã•ã‚Œã¾ã™
                curl -X PUT http://localhost:8500/v1/session/renew/__SessionID__
                    #// __SessionID__ ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³åã¯æŒ‡å®šã§ãã¾ã›ã‚“
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:
                curl -X PUT http://localhost:8500/v1/session/destroy/__SessionID__
                #// æˆåŠŸã—ãŸã‚‰ true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã™ã§ã«å­˜åœ¨ã—ãªã„ã¨ãã‚‚ true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
        dashboard:  #search: Consul dashboard
    æ©Ÿèƒ½:
        ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯:
            #ref: https://stackoverflow.com/questions/58274182/how-to-set-consul-alias-service
        KV, Key-Value Store:  #// Key-Value ã‚¹ãƒˆã‚¢
            æ¦‚è¦: å˜ç´”ãª KV ã‚¹ãƒˆã‚¢ã§ã‚ã‚Šã€ãƒ•ãƒ«æ©Ÿèƒ½ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ (DynamoDB ãªã©) ã‚’æ„å›³ã—ãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“
            ã‚µãƒ³ãƒ—ãƒ«:  #search: Consul CLI KV
            å‚è€ƒ:
                å…¬å¼: https://www.consul.io/docs/dynamic-app-config/kv
                CLI: https://www.consul.io/commands/kv
                HTTP:
                    https://www.consul.io/api/kv
                    https://www.consul.io/api-docs/kv
        ãƒ­ãƒƒã‚¯:  #keyword: Consul lock
            ç›¸äº’æ’é™¤ã¾ãŸã¯ãƒªãƒ¼ãƒ€ãƒ¼é¸æŒ™ã®ã¿ãŒå¿…è¦ãªå ´åˆ: https://learn.hashicorp.com/tutorials/consul/application-leader-elections
            API: #search: Consul lock API example
            ã‚³ãƒãƒ³ãƒ‰:  #ref: https://www.consul.io/commands/lock
                ã‚µãƒ³ãƒ—ãƒ«:
                    ã‚­ãƒ¼ã‚’ä¸€è¦§ã—ã¾ã™:
                        curl -X GET "http://localhost:8500/v1/kv/?recurse&pretty"
                    ã‚­ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™:
                        curl -X GET "http://localhost:8500/v1/kv/example.lock?pretty"
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™: |
                        curl -X PUT "http://localhost:8500/v1/session/create" -d '{"Name":"client_1_session"}'
                    å‡ºåŠ›ã•ã‚ŒãŸ __SessionID_1__ ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                        751903af-f949-79ff-fd17-455dc0a2ebaf
                    ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        curl -X PUT "http://localhost:8500/v1/kv/example.lock?acquire=751903af-f949-79ff-fd17-455dc0a2ebaf" -d client_1_session
                    ãƒ­ãƒƒã‚¯è§£é™¤ã—ã¾ã™:
                        curl -X PUT "http://localhost:8500/v1/kv/example.lock?release=751903af-f949-79ff-fd17-455dc0a2ebaf"
                    ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¾ã™:
                        curl -X DELETE http://localhost:8500/v1/kv/example.lock
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:
                        curl -X PUT "http://localhost:8500/v1/session/destroy/751903af-f949-79ff-fd17-455dc0a2ebaf"
                è©³ç´°ã‚µãƒ³ãƒ—ãƒ«:
                    #search: Consul lock example
                è©³ç´°:
                    ãƒ­ãƒƒã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã®æ•°ãŒè¤‡æ•°ã®å ´åˆã¯ã€æ€§èƒ½ãŒæ‚ªã„ã‚»ãƒãƒ•ã‚©ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
                    ãƒ­ãƒƒã‚¯ä¸­ã¯å­ãƒ—ãƒ­ã‚»ã‚¹ãŒå­˜åœ¨ã—ã¾ã™  https://www.consul.io/commands/lock
        ãƒ­ãƒƒã‚¯, åˆ†æ•£ã‚»ãƒãƒ•ã‚©ãƒ¼:  #keyword: Consul lock example
            HTTP API ã‚’ä½¿ã†å ´åˆ:  #keyword: Consul lock API example
                æ³¨æ„: ç‰‡æ–¹ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ consul lock ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸå…±å­˜ã‚’ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“
                    client_1 ã‹ã‚‰å†åº¦ãƒ­ãƒƒã‚¯ã—ã¾ã™(2) ã§ Existing key does not match lock use ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
                è¨­å®š: #settings:
                    __Prefix__: service/foo/lock
                    __SessionID_1__: 6a905190-83f4-ff9f-b1a0-5653d64b089d  #// ä¸‹è¨˜æ‰‹é †ã®ä¸­ã§æ±ºã¾ã‚Šã¾ã™
                    __SessionID_2__: 735f9df9-d46e-fab0-25aa-372b5b1ea928  #// ä¸‹è¨˜æ‰‹é †ã®ä¸­ã§æ±ºã¾ã‚Šã¾ã™
                Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
                Consul ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker run -it --rm  --name consul_server  -p 8500:8500  \
                            consul agent  -server  -bootstrap  -data-dir /tmp  -client=0.0.0.0  -ui  -node=server
                            #// -node ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãƒãƒ¼ãƒ‰ã«ä»˜ã‘ãŸã„åå‰ã‚’æŒ‡å®šã—ã¾ã™
                            #// -bootstrap ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä¿®å¾©ã‚‚è¡Œã„ã¾ã™
                    å‡ºåŠ›ä¾‹: |
                        ==> Starting Consul agent...
                                 Version: '1.10.1'
                                 Node ID: 'e96d504f-3323-5b6c-d4e7-321e4e44aed2'
                               Node name: 'be16a29b261c'
                              Datacenter: 'dc1' (Segment: '<all>')
                                  Server: true (Bootstrap: false)
                             Client Addr: [0.0.0.0] (HTTP: 8500, HTTPS: -1, gRPC: -1, DNS: 8600)
                            Cluster Addr: 172.17.0.2 (LAN: 8301, WAN: 8302)
                                 Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false, Auto-Encrypt-TLS: false
                        ï¼ˆä¸­ç•¥ï¼‰
                        [INFO]  agent: Synced node info
                Consul ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker run -it --rm  --name consul_client_1  \
                            consul agent  -join 172.17.0.2  -data-dir /tmp  -node=client_1
                            #// -join ã«ã¯ Consul ã‚µãƒ¼ãƒãƒ¼(@consul_server) ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¾ã™
                    å‡ºåŠ›ä¾‹: |
                        ==> Starting Consul agent...
                                   Version: '1.10.1'
                                   Node ID: '110c7662-3f1e-99c9-3ae9-e314bb47d779'
                                 Node name: '4845dff60762'
                                Datacenter: 'dc1' (Segment: '')
                                    Server: false (Bootstrap: false)
                               Client Addr: [127.0.0.1] (HTTP: 8500, HTTPS: -1, gRPC: -1, DNS: 8600)
                              Cluster Addr: 172.17.0.3 (LAN: 8301, WAN: 8302)
                                   Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false, Auto-Encrypt-TLS: false
                        ï¼ˆä¸­ç•¥ï¼‰
                        [INFO]  agent: Synced node info
                ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç¢ºèªã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker exec -it  consul_server  sh
                        - (@consul_server)  PS1='\n[\u@\h(consul_server) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_server)  consul members
                    å‡ºåŠ›ä¾‹: |
                        Node          Address          Status  Type    Build   Protocol  DC   Segment
                        be16a29b261c  172.17.0.2:8301  alive   server  1.10.1  2         dc1  <all>
                        4845dff60762  172.17.0.3:8301  alive   client  1.10.1  2         dc1  <default>
                Consul Web UI ã‚’é–‹ãã¾ã™:
                    VM ã®ãƒ›ã‚¹ãƒˆï¼ˆé€šå¸¸ Windowsï¼‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ VM ã®ãƒãƒ¼ãƒˆ 8500 ã‚’é–‹ãã¾ã™:
                        http://192.168.33.51:8500
                    é–‹ã‘ãªã„ã¨ã:
                        Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã® client ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ­£ã—ã„ã“ã¨ã¨ã€-ui ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã“ã¨:
                            consul agent ____ -client=0.0.0.0  -ui
                        Docker ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã“ã¨:
                            -p 8500:8500
                        å‚è€ƒ:  #search: network trouble shooting
                æ’ä»–åˆ¶å¾¡ã‚’è©¦ã—ã¾ã™:
                    client_1 ã§ä½¿ã†ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™:
                        client_1 ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™: |
                            #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                            - (@node1)  docker exec -it  consul_client_1  sh
                            - (@consul_client_1)  PS1='\n[\u@\h(consul_client_1) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™: |
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/session/create -d '{"Name":"client_1_session"}'
                        å‡ºåŠ›ã•ã‚ŒãŸ __SessionID_1__ ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                            6a905190-83f4-ff9f-b1a0-5653d64b089d  #template: __SessionID_1__
                    client_1 ã‹ã‚‰ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=6a905190-83f4-ff9f-b1a0-5653d64b089d -d client_1_session
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_1__ -d client_1_session
                        å‡ºåŠ›: true
                        èª¬æ˜:
                            -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³(body): ä¾‹ï¼š ãƒãƒ¼ãƒ‰åã€‚ãƒ»ãƒ­ãƒƒã‚¯ã™ã‚‹ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹ãƒ­ãƒ¼ãƒ«å ãªã©
                                ã“ã®å†…å®¹ã«ã‚ˆã£ã¦Consul ã®å‹•ä½œãŒå¤‰ã‚ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                        ä½œæˆã—ãŸãƒ­ãƒƒã‚¯ã®å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                            Web UI ã®å ´åˆ:
                                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: http://192.168.33.51:8500 >> Key/Value >> service >> foo >> lock >> .lock
                                Node: client_1
                            CLI ã®å ´åˆ:
                                ã‚³ãƒãƒ³ãƒ‰:
                                    (@consul_1)  curl -X GET http://localhost:8500/v1/kv/service/foo/lock/.lock?pretty
                                        #template: curl -X GET http://localhost:8500/v1/kv/__Prefix__/.lock?pretty
                                å‡ºåŠ›ä¾‹: |
                                    [
                                        {
                                            "LockIndex": 1,
                                            "Key": "service/foo/lock/.lock",
                                            "Flags": 0,
                                            "Value": "",
                                            "Session": "6a905190-83f4-ff9f-b1a0-5653d64b089d",
                                            "CreateIndex": 666,
                                            "ModifyIndex": 666
                                        }
                                    ]

                                        #template-at(-6): "Session": "__SessionID_1__"
                                èª¬æ˜:
                                    Session ã¯ã€ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã®ã¨ãã«å­˜åœ¨ã—ã¾ã™ã€‚å€¤ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã§ã™
                    client_2 ã§ä½¿ã†ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™:
                        client_2 ã® Consul ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™:
                            #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                            - (@node1)  docker run -it --rm  --name consul_client_2  \
                                consul agent  -join 172.17.0.2  -data-dir /tmp  -node=client_2
                                #// -join ã«ã¯ Consul ã‚µãƒ¼ãƒãƒ¼(@consul_server) ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¾ã™
                        client_2 ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™: |
                            #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                            - (@node1)  docker exec -it  consul_client_2  sh
                            - (@consul_client_2)  PS1='\n[\u@\h(consul_client_2) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™: |
                            - (@consul_client_2)  curl -X PUT http://localhost:8500/v1/session/create -d '{"Name":"client_2_session"}'
                        å‡ºåŠ›ã•ã‚ŒãŸ __SessionID_2__ ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                            735f9df9-d46e-fab0-25aa-372b5b1ea928  #template: __SessionID_2__
                    client_2 ã‹ã‚‰ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_2)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=735f9df9-d46e-fab0-25aa-372b5b1ea928 -d client_2_session
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_2__ -d client_2_session
                        å‡ºåŠ›: false  #// ã™ã§ã«ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ãŸã‚
                    client_1 ã‹ã‚‰ãƒ­ãƒƒã‚¯è§£é™¤ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?release=6a905190-83f4-ff9f-b1a0-5653d64b089d
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?release=__SessionID_1__
                        å‡ºåŠ›: true
                    client_2 ã‹ã‚‰å†åº¦ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_2)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=735f9df9-d46e-fab0-25aa-372b5b1ea928 -d client_2_session
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_2__ -d client_2_session
                        å‡ºåŠ›: true
                    client_1 ã‹ã‚‰å†åº¦ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=6a905190-83f4-ff9f-b1a0-5653d64b089d -d client_1_session
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_1__ -d client_1_session
                        å‡ºåŠ›: false  #// ã™ã§ã«ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ãŸã‚
                    client_2 ã‹ã‚‰ãƒ­ãƒƒã‚¯è§£é™¤ã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_2)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?release=735f9df9-d46e-fab0-25aa-372b5b1ea928
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?release=__SessionID_2__
                        å‡ºåŠ›: true
                    client_1 ã‹ã‚‰å†åº¦ãƒ­ãƒƒã‚¯ã—ã¾ã™(2):
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=6a905190-83f4-ff9f-b1a0-5653d64b089d -d client_1_session
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_1__ -d client_1_session
                        å‡ºåŠ›: true
                    client_1 ã‹ã‚‰ãƒ­ãƒƒã‚¯è§£é™¤ã—ã¾ã™(2):
                        ã‚³ãƒãƒ³ãƒ‰:
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?release=6a905190-83f4-ff9f-b1a0-5653d64b089d
                                #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?release=__SessionID_1__
                        å‡ºåŠ›: true
                ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã«ãªã£ãŸã¨ãã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™:
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã«ãªã£ãŸã¨ãã«å‰Šé™¤ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™:
                        client_1 ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™: |
                            #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                            - (@node1)  docker exec -it  consul_client_1  sh
                            - (@consul_client_1)  PS1='\n[\u@\h(consul_client_1) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™: |
                            - (@consul_client_1)  curl -X PUT http://localhost:8500/v1/session/create -d '{"Name":"client_1_session", "Behavior":"delete"}'
                        å‡ºåŠ›ã•ã‚ŒãŸ __SessionID_1__ ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                            6a905190-83f4-ff9f-b1a0-5653d64b089d  #template: __SessionID_1__
                    client_1 ã‹ã‚‰ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                        (@consul_client_1)  curl -X PUT http://localhost:8500/v1/kv/service/foo/lock/.lock?acquire=6a905190-83f4-ff9f-b1a0-5653d64b089d -d client_1_session
                            #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/.lock?acquire=__SessionID_1__ -d client_1_session
                    ãƒ­ãƒƒã‚¯ã‚’ä¸€è¦§ã—ã¾ã™:
                        KV store ã‚’ä¸€è¦§ã—ã¾ã™:
                            (@consul_client_1)  curl http://localhost:8500/v1/kv/service/foo/lock?recurse\&pretty
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:
                        (@consul_client_1)  curl -X PUT http://localhost:8500/v1/session/destroy/6a905190-83f4-ff9f-b1a0-5653d64b089d
                            #template: curl -X PUT http://localhost:8500/v1/session/destroy/__SessionID_1__
                    ãƒ­ãƒƒã‚¯ã‚’ä¸€è¦§ã—ã¾ã™(2):
                        (@consul_client_1)  curl http://localhost:8500/v1/kv/service/foo/lock?recurse\&pretty
                            #// å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
                ã‚¯ãƒªãƒ¼ãƒ³:
                    client_1 ã§ä½¿ã£ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:
                        curl -X PUT http://localhost:8500/v1/session/destroy/6a905190-83f4-ff9f-b1a0-5653d64b089d
                            #template: curl -X PUT http://localhost:8500/v1/session/destroy/__SessionID_1__
                    client_2 ã§ä½¿ã£ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™:
                        curl -X PUT http://localhost:8500/v1/session/destroy/735f9df9-d46e-fab0-25aa-372b5b1ea928
                            #template: curl -X PUT http://localhost:8500/v1/session/destroy/__SessionID_2__
                    ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¾ã™:
                        curl -X DELETE http://localhost:8500/v1/kv/service/foo/lock/.lock
                            #template: curl -X DELETE http://localhost:8500/v1/kv/__Prefix__/.lock
            Consul lock ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†å ´åˆ:  #// log.fstn  https://fstn.hateblo.jp/entry/2015/02/21/024400  #keyword: Consul lock CLI example
                Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
                Consul ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker run -it --rm  --name consul_server  consul  sh
                        - (@consul_server)  PS1='\n[\u@\h(consul_server) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_server)  consul agent  -server  -bootstrap  -data-dir /tmp
                    å‡ºåŠ›ä¾‹: |
                        ==> Starting Consul agent...
                                 Version: '1.10.1'
                                 Node ID: 'e96d504f-3323-5b6c-d4e7-321e4e44aed2'
                               Node name: 'be16a29b261c'
                              Datacenter: 'dc1' (Segment: '<all>')
                                  Server: true (Bootstrap: false)
                             Client Addr: [127.0.0.1] (HTTP: 8500, HTTPS: -1, gRPC: -1, DNS: 8600)
                            Cluster Addr: 172.17.0.2 (LAN: 8301, WAN: 8302)
                                 Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false, Auto-Encrypt-TLS: false
                Consul ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker run -it --rm  --name consul_client_1  consul  sh
                        - (@consul_client_1)  PS1='\n[\u@\h(consul_client_1) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_client_1)  consul agent  -join 172.17.0.2  -data-dir /tmp
                    å‡ºåŠ›ä¾‹: |
                        ==> Starting Consul agent...
                                   Version: '1.10.1'
                                   Node ID: '110c7662-3f1e-99c9-3ae9-e314bb47d779'
                                 Node name: '4845dff60762'
                                Datacenter: 'dc1' (Segment: '')
                                    Server: false (Bootstrap: false)
                               Client Addr: [127.0.0.1] (HTTP: 8500, HTTPS: -1, gRPC: -1, DNS: 8600)
                              Cluster Addr: 172.17.0.3 (LAN: 8301, WAN: 8302)
                                   Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false, Auto-Encrypt-TLS: false
                ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç¢ºèªã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker exec -it  consul_server  sh
                        - (@consul_server)  PS1='\n[\u@\h(consul_server) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_server)  consul members
                    å‡ºåŠ›ä¾‹: |
                        Node          Address          Status  Type    Build   Protocol  DC   Segment
                        be16a29b261c  172.17.0.2:8301  alive   server  1.10.1  2         dc1  <all>
                        4845dff60762  172.17.0.3:8301  alive   client  1.10.1  2         dc1  <default>
                ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker exec -it  consul_client_1  sh
                        - (@consul_client_1)  PS1='\n[\u@\h(consul_client_1) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_client_1)  consul lock -verbose service/foo/lock "while true; do date; sleep 2; done"
                    å‡ºåŠ›ä¾‹: |
                        Setting up lock at path: service/foo/lock/.lock
                        Attempting lock acquisition
                        Starting handler
                        Mon Aug 16 06:49:07 UTC 2021
                        Mon Aug 16 06:49:08 UTC 2021
                        Mon Aug 16 06:49:09 UTC 2021
                        #// ä»¥ä¸‹ç¹°ã‚Šè¿”ã—ã¾ã™
                åˆ¥ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ­ãƒƒã‚¯ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker run -it --rm  --name consul_client_2  consul  sh
                        - (@consul_client_2)  PS1='\n[\u@\h(consul_client_2) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_client_2)  consul agent  -join 172.17.0.2  -data-dir /tmp
                        #// æ–°ã—ã„ã‚·ã‚§ãƒ«
                        - (@node1)  docker exec -it  consul_client_2  sh
                        - (@consul_client_2)  PS1='\n[\u@\h(consul_client_2) \W]\$ '  #// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¦‹ã‚„ã™ãã—ã¾ã™
                        - (@consul_client_2)  consul lock -verbose service/foo/lock "while true; do date; sleep 2; done"
                    å‡ºåŠ›ä¾‹: |
                        Setting up lock at path: service/foo/lock/.lock
                        Attempting lock acquisition
                            #// ãƒ­ãƒƒã‚¯ãŒè§£é™¤ã•ã‚Œã‚‹ã¾ã§å¾…ã£ã¦ã„ã¾ã™                
                å…ƒã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å­ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ã—ã¾ã™:
                    (@consul_client_1)  Ctrl + C ã‚­ãƒ¼
                    #// @consul_client_2 ã§ Mon Aug 16 06:49:07 UTC 2021 ãŒè¡¨ç¤ºã—å§‹ã‚ã¾ã™
                çµ‚äº†ã—ã¾ã™:
                    (@consul_client_2)  Ctrl + C ã‚­ãƒ¼
                    (@consul_client_2)  exit
                    (@consul_client_1)  exit
                    (@consul_server)  exit
            ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ä½¿ã†å ´åˆ: HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ HTTP API ã‚’å‘¼ã³å‡ºã—ã¾ã™
            å…¬å¼:  #ref: https://learn.hashicorp.com/tutorials/consul/distributed-semaphore
                è¨­å®š: #settings:
                    __SessionName__: db-semaphore
                    __Prefix__: prefix_1
                    __LockKey__: prefix_1/.lock  #// é€šå¸¸ __Prefix__/.lock
                    __SessionID__: 632c4563-4454-d7d0-27cb-73b742e34904  #// ä¸‹è¨˜æ‰‹é †ã®ä¸­ã§æ±ºã¾ã‚Šã¾ã™
                    __LockModifyIndex__: 161  #// ä¸‹è¨˜æ‰‹é †ã®ä¸­ã§æ±ºã¾ã‚Šã¾ã™
                æº–å‚™:
                    Docker for Linux ã® VM ã‚’ä½œã‚Šã¾ã™:  #search: Docker for Linux
                    Consul ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                        (@node1) docker pull consul
                    Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã¾ã™ >> å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãªã—:  #search: start Consul agent dev example
                    Consul ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼(@consul_1)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #search: Consul docker log in
                session/create >> ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ–°è¦ä½œæˆã—ã¾ã™: #// å¿…è¦ã«å¿œã˜ã¦ Name ã®å€¤ã‚’ç·¨é›†ã—ã¦ãã ã•ã„  #keyword: Consul simple create session
                    ã‚³ãƒãƒ³ãƒ‰: |
                        (@consul_1)  curl -X PUT http://localhost:8500/v1/session/create -d '{"Name":"db-semaphore"}'
                            #template: "Name":"__SessionName__"
                    å‡ºåŠ›ä¾‹: |
                        {
                            "ID": "6a99821e-58a5-edec-35ca-e83b10483970"
                        }
                    å‡ºåŠ›ã•ã‚ŒãŸ __SessionID__ ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:
                        632c4563-4454-d7d0-27cb-73b742e34904  #template: __SessionID__
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã¾ã ç”Ÿãã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™:
                        (@consul_1)  curl -X GET http://localhost:8500/v1/session/list
                kv/__Prefix__/__SessionID__?acquire >> ãƒ­ãƒƒã‚¯å€™è£œã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’æ–°è¦ä½œæˆã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        (@consul_1)  curl -X PUT http://localhost:8500/v1/kv/prefix_1/632c4563-4454-d7d0-27cb-73b742e34904?acquire=632c4563-4454-d7d0-27cb-73b742e34904 -d node_1
                            #template: curl -X PUT http://localhost:8500/v1/kv/__Prefix__/__SessionID__?acquire=__SessionID__ -d node_1
                    å‡ºåŠ›ä¾‹: true
                    èª¬æ˜:
                        -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³(body): ä¾‹ï¼š ãƒãƒ¼ãƒ‰åã€‚ãƒ»ãƒ­ãƒƒã‚¯ã™ã‚‹ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹ãƒ­ãƒ¼ãƒ«å ãªã©
                            ã“ã®å†…å®¹ã«ã‚ˆã£ã¦Consul ã®å‹•ä½œãŒå¤‰ã‚ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                    ä½œæˆã—ãŸãƒ­ãƒƒã‚¯å€™è£œã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™:
                        ã‚³ãƒãƒ³ãƒ‰:
                            (@consul_1)  curl -X GET http://localhost:8500/v1/kv/prefix_1/632c4563-4454-d7d0-27cb-73b742e34904?acquire=a2ef6fbd-b640-1f68-2843-a5e8b2f26651
                                #template: curl -X GET http://localhost:8500/v1/kv/__Prefix__/__SessionID__
                        å‡ºåŠ›ä¾‹: |
                            [
                                {
                                    "LockIndex": 1,
                                    "Key": "prefix_1/a2ef6fbd-b640-1f68-2843-a5e8b2f26651",
                                    "Flags": 0,
                                    "Value": "bm9kZV8x",
                                    "Session": "a2ef6fbd-b640-1f68-2843-a5e8b2f26651",
                                    "CreateIndex": 666,
                                    "ModifyIndex": 666
                                }
                            ]
                kv/__Prefix__/.lock >> ã‚·ãƒ³ã‚°ãƒ« ã‚­ãƒ¼ã‚’æ–°è¦ä½œæˆã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        (@consul_1)  curl -X PUT http://localhost:8500/v1/kv/prefix_1/.lock?cas=0 -d '{"Limit":2, "Holders":["632c4563-4454-d7d0-27cb-73b742e34904"]}'
                            #template: curl -X PUT http://localhost:8500/v1/kv/__LockKey__?cas=0 -d '{"Limit":2, "Holders":["__SessionID__"]}
                    èª¬æ˜:
                        Limit: ã‚¹ãƒ­ãƒƒãƒˆæ•°ã®æœ€å¤§(?)
                        cas: #// æ–°è¦ä½œæˆæ™‚ã®æ’ä»–åˆ¶å¾¡ã«ä½¿ã„ã¾ã™  #search: Check-And-Set
                        __SessionID__: ä¿æœ‰è€…
                kv/__Prefix__ >> ã‚»ãƒãƒ•ã‚©ï¼ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã—ã¾ã™:  #keyword: Consul list semaphore example
                    ã‚³ãƒãƒ³ãƒ‰:
                        (@consul_1)  curl http://localhost:8500/v1/kv/prefix_1?recurse
                            #template: curl http://localhost:8500/v1/kv/__Prefix__?recurse
                    å‡ºåŠ›ä¾‹: |
                        [
                            {
                                "LockIndex": 0,
                                "Key": "prefix_1/.lock",
                                "Flags": 0,
                                "Value": "ewogICAgIkxpbWl0IjogMiwKICAgICJIb2xkZXJzIjogWyI2MzJjNDU2My00NDU0LWQ3ZDAtMjdjYi03M2I3NDJlMzQ5MDQiXQp9",
                                "CreateIndex": 161,
                                "ModifyIndex": 161
                            },
                            {
                                "LockIndex": 1,
                                "Key": "prefix_1/632c4563-4454-d7d0-27cb-73b742e34904",
                                "Flags": 0,
                                "Value": "bm9kZV8x",
                                "Session": "632c4563-4454-d7d0-27cb-73b742e34904",
                                "CreateIndex": 620,
                                "ModifyIndex": 620
                            }
                        ]
                    èª¬æ˜:
                        ï¼’ã¤ã®ã‚­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™:
                            #template-at(-18): "Key": "__LockKey__"
                            #template-at(-11):  "Key": "__Prefix__/__SessionID__"
                            #template-at(-9):  "Session": "__SessionID__"
                        LockIndex: prefix_1/__SessionID__ ã‚­ãƒ¼ã® LockIndex ãŒ +1 ã•ã‚Œã¾ã™
                        Value:
                            ãƒ­ãƒƒã‚¯å€™è£œã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚„ ã‚·ãƒ³ã‚°ãƒ« ã‚­ãƒ¼ ã‚’æ–°è¦ä½œæˆã—ãŸã¨ãã® -d ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å€¤ã‚’
                            base64 ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸå€¤  #search: base64
                kv/__Prefix__/.lock >> ãƒ­ãƒƒã‚¯ã—ã¾ã™ï¼ˆï¼Ÿï¼‰:
                    prefix_1/.lock ã® ModifyIndex ã‚’ãƒ¡ãƒ¢ã—ã¾ã™:  #template: __LockKey__ ã® ModifyIndex
                        ã‚»ãƒãƒ•ã‚©ï¼ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã—ã¾ã™:  #search: Consul list semaphore example
                            "ModifyIndex": 161  #template-at(-24): "ModifyIndex": __LockModifyIndex__
                    ã‚³ãƒãƒ³ãƒ‰: |
                        (@consul_1)  curl -X PUT http://localhost:8500/v1/kv/prefix_1/.lock?cas=161 -d __UpdatedLockBody__
                            #template: curl -X PUT http://localhost:8500/v1/kv/__LockKey__?cas=__LockModifyIndex__ -d __UpdatedLockBody__
                    å‡ºåŠ›ä¾‹: true  #// false ã¨è¡¨ç¤ºã•ã‚ŒãŸå ´åˆã€ã‚¹ãƒ­ãƒƒãƒˆã‚’ç²å¾—ã™ã‚‹ã“ã¨ã«å¤±æ•—ã—ã¾ã—ãŸ
                    èª¬æ˜:
                        __UpdatedLockBody__:
                            æˆåŠŸã—ãŸå ´åˆ: prefix_1/.lock ã® Value ãŒ __UpdatedLockBody__ ã«å¤‰ã‚ã‚Šã¾ã™
                            prefix_1/.lock ã® Value ã‚’è¡¨ç¤ºã—ã¾ã™:  #search: Consul list semaphore example
    æ§‹æˆ:
        dashboard:  #keyword: Consul dashboard
            ãƒãƒ¼ãƒ‰:  #// ã‚µãƒ¼ãƒãƒ¼
                ãƒãƒ¼ãƒ‰ä¸€è¦§:  Consul (Web) >> Nodesï¼ˆå·¦ä¸Šï¼‰
                IP ã‚¢ãƒ‰ãƒ¬ã‚¹:  Consul (Web) >> Nodesï¼ˆå·¦ä¸Šï¼‰>> Unhealthy Nodes ã¾ãŸã¯ Healthy Nodes
            ã‚µãƒ¼ãƒ“ã‚¹:
                ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§:  Consul (Web) >> Servicesï¼ˆå·¦ä¸Šï¼‰
                ãƒãƒ¼ãƒˆç•ªå·:  Consul (Web) >> Nodesï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆãƒãƒ¼ãƒ‰åï¼‰>> Service Instancesï¼ˆã‚¿ãƒ–ï¼‰
            ç‰¹å®šã®ãƒãƒ¼ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹:
                ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰æ¢ã™:  Consul (Web) >> Servicesï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆã‚µãƒ¼ãƒ“ã‚¹åã®è¡Œï¼‰>>ï¼ˆãƒãƒ¼ãƒ‰ã®è¡Œã®ã‚µãƒ¼ãƒ“ã‚¹åï¼‰
                ãƒãƒ¼ãƒ‰ã‹ã‚‰æ¢ã™:  Consul (Web) >> Nodesï¼ˆå·¦ä¸Šï¼‰>>ï¼ˆãƒãƒ¼ãƒ‰åï¼‰>> Service Instancesï¼ˆã‚¿ãƒ–ï¼‰>>ï¼ˆã‚µãƒ¼ãƒ“ã‚¹åã®è¡Œï¼‰>>ï¼ˆãƒãƒ¼ãƒ‰ã®è¡Œã®ã‚µãƒ¼ãƒ“ã‚¹åï¼‰
            å…¬å¼: https://www.consul.io/docs/connect/observability/ui-visualization#configuring-dashboard-urls
        Consul ã‚µãƒ¼ãƒãƒ¼:
            ãƒ­ã‚°ã‚¤ãƒ³:
                Docker:  #// Consul Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™  #search: Consul docker log in
            HTTP ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ãƒˆç•ªå·ã¯ 8500
            DNS  ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ãƒˆç•ªå·ã¯ 8600
        ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #// Consul ã‚µãƒ¼ãƒãƒ¼ã®ãƒ—ãƒ­ã‚»ã‚¹  #// ã™ã¹ã¦ã®ãƒ›ã‚¹ãƒˆã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚ãƒ›ã‚¹ãƒˆã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå…¼ã‚µãƒ¼ãƒãƒ¼ã«ãªã‚Œã¾ã™
            èµ·å‹•:  #search: start Consul agent example
                -dev ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #// é€šå¸¸ä¸è¦  #search: start Consul agent dev example
                -bind ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #// Cluster Addr ã‚’æŒ‡å®šã—ã¾ã™
                    #ref: https://www.consul.io/docs/agent/options#_bind
                    #ref: https://gihyo.jp/admin/feature/01/serf-consul/0005
                -client ã‚ªãƒ—ã‚·ãƒ§ãƒ³: #// HTTPã‚µãƒ¼ãƒãƒ¼ã‚„DNSã‚µãƒ¼ãƒãƒ¼ãªã©ã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹  #keyword: Consul agent client option
                    #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 127.0.0.1 ï¼ localhost ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã¿è¨±å¯ã—ã¾ã™
                    #// 0.0.0.0 ï¼ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’å«ã‚€ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¨±å¯ã—ã¾ã™
                    #ref: https://www.consul.io/docs/agent/options#_client
                    #ref: https://stackoverflow.com/questions/43115152/starting-consul-in-docker-does-not-expose-http-ports
                    #// å‚è€ƒ: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ ã‚µãƒ–ãƒãƒƒãƒˆã« DB ã‚µãƒ¼ãƒãƒ¼ã‚’é…ç½®ã™ã‚‹  #ref: ${programming}/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/Cloud/Cloud.svg#private_subnet
            å†èµ·å‹•:  #search: restart Consul example
            å‚è€ƒ:
                å…¬å¼ã® get started: https://learn.hashicorp.com/tutorials/consul/get-started-agent
                èµ·å‹•ã‚³ãƒãƒ³ãƒ‰:
                    https://www.consul.io/commands/agent
                    https://www.consul.io/docs/agent
                    https://www.consul.io/docs/agent/options#command-line-options
        ã‚µãƒ¼ãƒãƒ¼, ãƒãƒ¼ãƒ‰:  #// ç›£è¦–å¯¾è±¡ã®ã‚µãƒ¼ãƒãƒ¼  #// ãƒ›ã‚¹ãƒˆã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå…¼ã‚µãƒ¼ãƒãƒ¼ã«ãªã‚Œã¾ã™
            ãƒˆãƒãƒ­ã‚¸ãƒ¼: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã€Œã‚¹ã‚¿ãƒ¼å‹ã€ã®ãƒˆãƒãƒ­ã‚¸ãƒ¼ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåŒå£«ãŒç›´æ¥é€šä¿¡ã‚’è¡Œã„ã¾ã›ã‚“ã€‚
                ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ã‚„KVæ“ä½œãªã©ã¯ã™ã¹ã¦ã‚µãƒ¼ãƒãƒ¼ã‚’çµŒç”±ã‚‰ã—ã„
                ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–“ã§ç›´æ¥ã‚´ã‚·ãƒƒãƒ—ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ä½¿ã£ãŸé€šä¿¡ã¯è¡Œã‚ã‚Œãªã„ã‚‰ã—ã„
            ä¸€è¦§:  #search: list Consul nodes example
            IP ã‚¢ãƒ‰ãƒ¬ã‚¹:  #// ãƒãƒ¼ãƒ‰ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™  #search: Consul DNS example
        ã‚µãƒ¼ãƒ“ã‚¹:  #// ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±
            è¡¨ç¤º:  #keyword: show Consul service example
            æ›´æ–°:  #keyword: update Consul service example
        ã‚»ãƒƒã‚·ãƒ§ãƒ³:  #keyword: Consul session
            å‚è€ƒ: #ref: https://www.consul.io/docs/dynamic-app-config/sessions
            ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹: #ref: https://www.consul.io/api/session
            CRUD:
                ï¼ˆæ‰‹é †ï¼‰:  #search: Consul session example
                ç”Ÿæˆ:
                    åŸºæœ¬:
                        curl -X PUT http://localhost:8500/v1/session/create -d '{"Name":"__client_N_session__"}'
                    è©³ç´°è¨­å®š: |
                        curl -X PUT http://localhost:8500/v1/session/create -d '{
                                "Name": "client_1_session",
                                "Behavior":"delete"
                            }'
                    å‚è€ƒ: https://www.consul.io/api/session#create-session
                ä¸€è¦§:
                    curl -X GET http://localhost:8500/v1/session/list?pretty
                è©³ç´°:
                    æ›¸å¼: curl -X GET http://localhost:8500/v1/session/node/__ConsulNodeName__?pretty
                    __ConsulNodeName__:
                        - consul agent -node consul_1 ã§èµ·å‹•ã—ãŸå ´åˆã€consul_1
                        - consul agent ã« -node ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã‹ã£ãŸå ´åˆã€
                            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§ã™ã‚‹ã¨ "Node" ã‚­ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                å‰Šé™¤:
                    æ›¸å¼: curl -X PUT http://localhost:8500/v1/session/destroy/__SessionID__
                    å‡ºåŠ›:
                        æˆåŠŸã—ãŸã‚‰ true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã™ã§ã«å­˜åœ¨ã—ãªã„ã¨ãã‚‚ true ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
                ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¾ã™:  #// TTL ã®æœ‰åŠ¹æœŸé™ãŒå»¶é•·ã•ã‚Œã¾ã™
                    æ›¸å¼: curl -X PUT http://localhost:8500/v1/session/renew/__SessionID__
                    __SessionID__:
                        __SessionID__ ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³åã¯æŒ‡å®šã§ãã¾ã›ã‚“
            Lock:  #search: Consul lock API example
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã«ãªã£ãŸã¨ã:
                ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã«ãªã‚‹æ¡ä»¶:
                    - ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ˜ç¤ºçš„ã«å‰Šé™¤ã—ãŸ
                    - ãƒãƒ¼ãƒ‰ï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰ã®ç™»éŒ²ã‹ã‚‰å¤–ã‚ŒãŸ
                    - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ç™»éŒ²ã‹ã‚‰å¤–ã‚ŒãŸ
                    - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãŒã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«çŠ¶æ…‹ã«ãªã£ãŸ
                    - TTL ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚ŒãŸ
                    - å‚è€ƒ: https://www.consul.io/docs/dynamic-app-config/sessions >> the session will be invalidated
                ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã«ãªã£ãŸã¨ãã®å‹•ä½œ:
                    #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã€‚è¨­å®šã«ã‚ˆã‚‹
                    å‰Šé™¤:
                        å‰Šé™¤ã•ã‚Œã‚‹ã¨ã€ä¿æŒã•ã‚Œã¦ã„ã‚‹ãƒ­ãƒƒã‚¯ã®ã„ãšã‚Œã‹ã«å¯¾å¿œã™ã‚‹ã‚­ãƒ¼ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚
                        Session HTTP Endpoint ã® Behavior ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ï¼ delete
                    ãƒªãƒªãƒ¼ã‚¹: #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
                        ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ã¨ã€ModifyIndex ãŒå¢—ãˆã¾ã™
                        Session HTTP Endpoint ã® Behavior ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ï¼ release
                    ã‚µãƒ³ãƒ—ãƒ«: #search: Consul lock API example
                    å‚è€ƒ: https://www.consul.io/api/session#behavior
                ãƒ¡ãƒ¢:
                    - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãªã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã¾ã™ã€‚
                    - TTL ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯15ç§’ã€‚0 ã‹ã‚‰ 60 ç§’
            æ’ä»–åˆ¶å¾¡:  #// æ‚²è¦³çš„æ’ä»–åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ­ãƒƒã‚¯ã®ã‚ªãƒ¼ãƒŠãƒ¼
                é€šå¸¸ã®ã‚­ãƒ¼ã®æ›´æ–°ãŒã‚ã‚Šã¾ã™ãŒã€LockIndexã®å¢—åˆ†ã‚‚ã‚ã‚Šã¾ã™ã€‚
                å–å¾—ä¸­ã«ç‰¹å®šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ãƒ­ãƒƒã‚¯ãŒã™ã§ã«ä¿æŒã•ã‚Œã¦ã„ã‚‹å ´åˆã€
                LockIndexã¯ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œã¾ã›ã‚“ãŒã€ã‚­ãƒ¼ã®å†…å®¹ã¯æ›´æ–°ã•ã‚Œã¾ã™ã€‚ 
                ã“ã‚Œã«ã‚ˆã‚Šã€ç¾åœ¨ã®ãƒ­ãƒƒã‚¯æ‰€æœ‰è€…ã¯ã€ãƒ­ãƒƒã‚¯ã‚’æ”¾æ£„ã—ã¦å†å–å¾—ã™ã‚‹ã“ã¨ãªãã€
                ã‚­ãƒ¼ã®å†…å®¹ã‚’æ›´æ–°ã§ãã¾ã™ã€‚
            ã‚´ã‚·ãƒƒãƒ—éšœå®³æ¤œå‡ºæ©Ÿèƒ½:
                æ¦‚è¦:
                    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ªãƒ³
                    - ãƒãƒ¼ãƒ‰ãŒç•°å¸¸ã«ãªã£ãŸã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ä¿æŒã•ã‚Œã¾ã›ã‚“
                å‡ºå…¸:
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã‚´ã‚·ãƒƒãƒ—éšœå®³æ¤œå‡ºæ©Ÿèƒ½ã®ã¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
                    ã¤ã¾ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® Serf ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã§ãƒãƒ¼ãƒ‰ãŒç•°å¸¸ã‚’å®£è¨€ã—ã¦ã„ãªã„é™ã‚Šã€
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ãƒãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ä¿æŒã•ã‚Œã¦ã„ã‚‹ã¨è¦‹ãªã•ã‚Œã¾ã™ã€‚
                    https://learn.hashicorp.com/tutorials/consul/distributed-semaphore?in=consul/developer-configuration
        ã‚¤ãƒ™ãƒ³ãƒˆ: #keyword: Consul event
            æœ‰åŠ¹ç„¡åŠ¹:
                Consul Agent ãŒå‹•ä½œã—ã¦ã„ã‚Œã°å¸¸ã«æœ‰åŠ¹
            API:
                POST /v1/event/fire/:name	ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ï¼ˆé€ä¿¡ï¼‰ã™ã‚‹
                GET /v1/event/list	ã‚¤ãƒ™ãƒ³ãƒˆã®ä¸€è¦§ã‚’å–å¾—ã™ã‚‹
                GET /v1/event/list?name=foo	ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆåã«ãƒ•ã‚£ãƒ«ã‚¿ã—ã¦å–å¾—
            ã‚µãƒ³ãƒ—ãƒ«: |
                # ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«
                    curl --request PUT \
                        --data 'Hello Consul' \
                        http://localhost:8500/v1/event/fire/test
                # ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—
                    curl http://localhost:8500/v1/event/list?name=test
        KV Store, Key-Value: #keyword: Consul KV Store 
            #search: Consul KV example
    ã‚³ãƒãƒ³ãƒ‰:  #ref: https://www.consul.io/commands
        ã‚µãƒ³ãƒ—ãƒ«: #search: install Consul
    API:  #ref: https://www.consul.io/api
    ãƒ•ã‚¡ã‚¤ãƒ«:
        consul.hcl: #keyword:  #// Agents Configuration File  #ref: https://developer.hashicorp.com/consul/docs/agent/config/config-files
            ã‚µãƒ¼ãƒãƒ¼ç”¨è¨­å®šï¼Ÿ:
                server: ã‚µãƒ¼ãƒãƒ¼ã«ãªã‚‹ã‹ã©ã†ã‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ false ã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã®ã¿å‹•ä½œã—ã¾ã™
                bootstrap_expect: ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«æœŸå¾…ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã®æ•°
                    bootstrap_expectã§æŒ‡å®šã—ãŸæ•°ã®ã‚µãƒ¼ãƒãƒ¼ãŒå‚åŠ ã—ãŸæ™‚ç‚¹ã§ãƒªãƒ¼ãƒ€ãƒ¼é¸å‡ºãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚
                    è¿½åŠ ã®ã‚µãƒ¼ãƒãƒ¼ã‚‚å•é¡Œãªãã‚¯ãƒ©ã‚¹ã‚¿ã«å‚åŠ ã§ãã¾ã™
                    ã‚¯ã‚©ãƒ¼ãƒ©ãƒ ï¼ˆåˆæ„å½¢æˆã«å¿…è¦ãªæœ€å°æ•°ï¼‰ã‚‚å¢—åŠ ã—ã¾ã™
            WebUI ç”¨è¨­å®š:
                ui: WebUI ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹
                ui_content_path:
                    ã‚«ã‚¹ã‚¿ãƒ UIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é…ç½®å ´æ‰€ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™
                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Consulã¯çµ„ã¿è¾¼ã¿ã®UIã‚¢ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¾ã™
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨è¨­å®š:
            å…±é€šè¨­å®šï¼Ÿ:
                datacenter: ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚»ãƒ³ã‚¿ãƒ¼å
                advertise_addr:  #ref: https://developer.hashicorp.com/consul/docs/agent/config/cli-flags#advertise-address-options
                    ã“ã® consul.hcl ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã† Consul ã‚µãƒ¼ãƒ“ã‚¹ã«ã€Consul ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ãŒé€šä¿¡ç›¸æ‰‹ã¨ã—ã¦æŒ‡å®šã™ã‚‹ IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚
                    ãƒ›ã‚¹ãƒˆè‡ªèº«ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚
                advertise_addr_wan:  #ref: https://developer.hashicorp.com/consul/docs/agent/config/cli-flags#advertise-address-options
                    WANã‚´ã‚·ãƒƒãƒ—ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ä½¿ç”¨ã•ã‚Œã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚ãƒãƒ«ãƒãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼æ§‹æˆã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
                client_addr:
                    - ãƒªãƒƒã‚¹ãƒ³ ã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚ #search: ListenAddress
                    - HTTPã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€DNSã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€gRPCã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã©ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªãƒƒã‚¹ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹
                retry_join:
                    é€šä¿¡ç›¸æ‰‹ã®ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é…åˆ—ã€‚ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹æˆã™ã‚‹ãƒ›ã‚¹ãƒˆã‚’æ¢ã™ãŸã‚ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã—ã¦ã¯ã‚µãƒ¼ãƒãƒ¼ã‚’æ¢ã™ãŸã‚ã€‚
                retry_join_wan:
                    WAN ç”¨ã® retry_join
                disable_update_check:
                    Consul ã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹é€šä¿¡ã‚’è¡Œã†ã‹ã©ã†ã‹
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
        - #// è„†å¼±æ€§æƒ…å ±  #ref: https://discuss.hashicorp.com/c/security/52
        - #// No cluster leader
            æ‰‹é †: consul agent
            ã‚¨ãƒ©ãƒ¼: |
                agent: Coordinate update error: error="No cluster leader"
            å¯¾å‡¦:
                consul agent ã« -bootstrap ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™
                https://learn.hashicorp.com/tutorials/consul/recovery-outage
                https://christina04.hatenablog.com/entry/consul-upgrade-problem
        - #// No cluster leader
            æ‰‹é †: consul agent
            ã‚¨ãƒ©ãƒ¼:
                Cluster Addr ãŒ 172.17.0.___ ã«ãªã‚‰ãªã„: |
                    Cluster Addr: 127.0.0.1 (LAN: 8301, WAN: 8302)
            å¯¾å‡¦:
                consul agent ã‹ã‚‰ -dev ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¤–ã—ã¾ã™
TICã‚¹ã‚¿ãƒƒã‚¯:
    Telegraf: #keyword:  #// ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚„ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
    InfluxDB: #keyword:  #// æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
    Chronograf: #keyword:  #// åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã™ã‚‹ãŸã‚ã®Webãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
Zabbix: #keyword:
    å…¬å¼:
        å…¬å¼:
            è‹±èª: #ref: https://www.zabbix.com/
            æ—¥æœ¬èª: #ref: https://www.zabbix.com/jp/
        æ—¥æœ¬Zabbixãƒ¦ãƒ¼ã‚¶ãƒ¼ä¼š: #ref: http://www.zabbix.jp/
    æ‰‹é †: #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãªã©  #keyword: install Zabbix
        ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ç¢ºèª:  #// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãŒå¯¾è±¡
            Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æœ€ã‚‚ä¸‹
        Docker: |
            services:
                zabbix-postgres:
                    image: postgres:16.3-alpine
                    environment:
                        -   "POSTGRES_USER=zabbix"
                        -   "POSTGRES_PASSWORD=zabbix"
                    volumes:
                        -   "zabbix-postgres-data:/var/lib/postgresql/data"

                zabbix-server:
                    image: zabbix/zabbix-server-pgsql:alpine-6.3.10
                    environment:
                        -   "DB_SERVER_HOST=zabbix-postgres"
                        -   "DB_SERVER_DBNAME=zabbix"
                        -   "POSTGRES_USER=zabbix"
                        -   "POSTGRES_PASSWORD=zabbix"
                    depends_on:
                        -   zabbix-postgres

                zabbix-web:
                    image: zabbix/zabbix-web-nginx-pgsql:alpine-6.3.10
                    environment:
                        -   "DB_SERVER_HOST=zabbix-postgres"
                        -   "DB_SERVER_DBNAME=zabbix"
                        -   "POSTGRES_USER=zabbix"
                        -   "POSTGRES_PASSWORD=zabbix"
                    ports:
                        -   "18082:8080"  #// Zabbix6: 8080, Zabbix4: 80
                    depends_on:
                        -   zabbix-server

                zabbix-agent:
                    image: zabbix/zabbix-agent:alpine-6.3.10
                    environment:
                        -   "ZBX_SERVER_HOST=zabbix"
                    depends_on:
                        -   zabbix-server

            volumes:
                zabbix-postgres-data: {}
        Zabbix 4.0 on CentOS 7:  #keyword: install Zabbix4 CentOS7  #// Ansible ä½¿ç”¨
            å‚è€ƒ: #ref: https://www.zabbix.com/jp/download?zabbix=4.0&os_distribution=centos&os_version=7&db=mysql&ws=apache
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: install Zabbix4 agent CentOS7
                Ansible ã‚’ä½¿ã†å ´åˆ:
                    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                        #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible
                    #// README.yaml ã‚’å‚ç…§
            Zabbix ã®åˆæœŸè¨­å®šã¨å‹•ä½œç¢ºèªã‚’ã—ã¾ã™:
                #search: initialize Zabbix
        Zabbix 5.0 on CentOS 7:  #keyword: install Zabbix5 CentOS7  #// Ansible ä½¿ç”¨
            å‚è€ƒ: #ref: https://www.zabbix.com/jp/download?zabbix=5.0&os_distribution=centos&os_version=7&db=mysql&ws=apache
            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #keyword: install Zabbix5 agent CentOS7
                Ansible ã‚’ä½¿ã†å ´åˆ:
                    #ref: ${GitHub}/MyPrivateCode/ansible_vagrant/multi_vm_ansible/branch_ansible
                    #// ä»¥ä¸‹ã«ç¶šãã¾ã™
                æ‰‹å‹•ã®å ´åˆ: |
                    sudo rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm
                    sudo yum clean all
                    sudo yum install zabbix-server-mysql zabbix-agent -y
                    sudo yum install centos-release-scl -y
                    sudo vi /etc/yum.repos.d/zabbix.repo
                        [zabbix-frontend]
                            enabled=0
                            enabled=1

                    sudo yum install zabbix-web-mysql-scl zabbix-apache-conf-scl -y
                    mysql -uroot -p
                        Pass55##
                    mysql>
                        create database zabbix character set utf8 collate utf8_bin;
                        create user zabbix@localhost identified by 'Zabbix55##';
                        grant all privileges on zabbix.* to zabbix@localhost;
                        quit;
                    sudo zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix
                        Zabbix55##
                    sudo vi /etc/zabbix/zabbix_server.conf
                        #DBPassword=
                        DBPassword=Zabbix55##
                    sudo vi /etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf
                        ; php_value[date.timezone] = Europe/Riga
                        php_value[date.timezone] = Asia/Tokyo
                    sudo systemctl restart zabbix-server zabbix-agent httpd rh-php72-php-fpm
                    sudo systemctl enable zabbix-server zabbix-agent httpd rh-php72-php-fpm

                    #keyword: Zabbix SELinux
                    sudo setsebool -P httpd_can_connect_zabbix on
                    sudo setsebool -P zabbix_can_network on
                    sudo setsebool -P zabbix_run_sudo on

                    sudo grep zabbix_server /var/log/audit/audit.log | sudo audit2allow -M zabbix-policy
                    sudo semodule -i zabbix-policy.pp
                    sudo systemctl restart zabbix-server
                    systemctl status zabbix-server

                    sudo grep zabbix_server /var/log/audit/audit.log | sudo audit2allow -M zabbix-agent-policy
                    sudo semodule -i zabbix-agent-policy.pp
                    sudo systemctl restart zabbix-server
                    systemctl status zabbix-server

                    http://192.168.33.61/zabbix
                #// ä»¥ä¸‹ã«ç¶šãã¾ã™
            Zabbix ã®åˆæœŸè¨­å®šã¨å‹•ä½œç¢ºèªã‚’ã—ã¾ã™:
                #search: initialize Zabbix
        Zabbix 5.0 on CentOS 8:  #// Ansible ãªã—
            å‚è€ƒ:
                #ref: https://www.zabbix.com/jp/download
                #ref: https://qiita.com/atanaka7/items/282a3499e135e00edcdc
            è¨­å®š: #settings:
                __ZabbixServerName__: 192.168.56.101
                __MySQL_RootPass__: Pass55!!
                __MySQL_ZabbixPass__: Pass55!!
            ä¸Šè¨˜ã€ŒCentOS 8 ã‚’ VirtualBox ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€:
            Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã—ã¦ä½¿ã„ã¾ã™
                #search: Windows ã« Visual Studio Code ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ CentOS + VirtualBox ã« SSH ã§æ¥ç¶šã—ã¾ã™
            MySQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™: #search: CentOS ã« MySQL ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
            RHEL 8 ç”¨ yum ãƒªãƒã‚¸ãƒˆãƒªã‚’ç™»éŒ²ã—ã¾ã™:  #// Zabbix LLC ç¤¾è£½
                æ³¨æ„: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒï¼‘ã¤ã‚‚ãªã„ã¨ãã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã‚ˆã†ã§ã™ã€‚å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã‚’æ¢ã—ã¦ãã ã•ã„
                URL: https://www.zabbix.com/jp/download  #// å†…å®¹ã‚’è¦‹ã‚‹ã ã‘ã§ãªã®ã§ã©ã® OS ã§è¦‹ã¦ã‚‚ OK
                ZABBIXãƒãƒ¼ã‚¸ãƒ§ãƒ³: 5.0 LTS
                OSãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³: CentOS
                OSãƒãƒ¼ã‚¸ãƒ§ãƒ³: 8
                ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: MySQL
                WEB SERVER: Apache
            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:  #// ä¸Šè¨˜ Zabbix ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸã‚‚ã®ã§ã™
                a. Zabbix ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    ã‚³ãƒãƒ³ãƒ‰:
                        - sudo rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/8/x86_64/zabbix-release-5.0-1.el8.noarch.rpm
                        - dnf clean all
                    ä»–ã® URL: #ref: https://www.zabbix.com/jp/download?zabbix=6.0&os_distribution=centos&os_version=7&db=&ws=
                b. Zabbix ã®ã‚µãƒ¼ãƒãƒ¼ãƒ»ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                    sudo dnf install -y zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-agent
                c. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆæœŸåŒ–ã—ã¾ã™:
                    - sudo mysql -u root -p  #// __MySQL_RootPass__
                    - mysql> create database zabbix character set utf8 collate utf8_bin;
                    - mysql> create user zabbix@localhost identified by 'Pass55!!';  #template: __MySQL_ZabbixPass__
                    - mysql> grant all privileges on zabbix.* to zabbix@localhost;
                    - mysql> quit;
                    - zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -u zabbix -p zabbix
                        #// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ __MySQL_ZabbixPass__
                    - MySQL 8 ã®å ´åˆã€MySQL ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªè¨¼æ–¹æ³•ã‚’ SHA2 ã‹ã‚‰ MySQL ãƒã‚¤ãƒ†ã‚£ãƒ–ã«å¤‰æ›´ã—ã¾ã™:
                        - mysql -u root -p mysql
                            #// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ Pass55!!  #template: __MySQL_RootPass__
                        - mysql> select user, host, plugin from user;  #// zabbix ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ caching_sha2_password
                        - mysql> alter user 'zabbix'@'localhost' identified with mysql_native_password by 'Pass55!!';
                            #template: by '__MySQL_ZabbixPass__'
                        - mysql> select user, host, plugin from user;  #// zabbix ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ mysql_native_password
                        - mysql> quit;
                d. Zabbix ã‚µãƒ¼ãƒãƒ¼ã®è¨­å®šã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™:
                    - sudo nano /etc/zabbix/zabbix_server.conf : |  #// DBPassword ã§ãƒ•ã‚¡ã‚¤ãƒ«å†…ã‚’æ¤œç´¢ã—ã¦
                        DBPassword=Pass55!!
                            #template: __MySQL_ZabbixPass__
                e. Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è¨­å®šã«PHPã®è¨­å®šã‚’ã—ã¾ã™:
                    - sudo nano /etc/php-fpm.d/zabbix.conf : |  #// date.timezone ã§ãƒ•ã‚¡ã‚¤ãƒ«å†…ã‚’æ¤œç´¢ã—ã¦
                        php_value[date.timezone] = Asia/Tokyo
                            #// è¡Œé ­ã® ; ã¯å‰Šé™¤ã—ã¾ã™
                f. Zabbix ã‚µãƒ¼ãƒãƒ¼ãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã—ã€OSå†èµ·å‹•æ™‚ã«ã‚‚èµ·å‹•ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™:
                    sudo systemctl restart zabbix-server zabbix-agent httpd php-fpm
                    sudo systemctl enable  zabbix-server zabbix-agent httpd php-fpm
                g. Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è¨­å®šã‚’ã—ã¾ã™:
                    å‚è€ƒ: https://www.zabbix.com/documentation/5.0/manual/installation/frontend
                    ãƒãƒ¼ãƒˆã‚’é–‹ãã¾ã™:
                        - sudo firewall-cmd --set-default-zone=trusted  #// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¾ãƒ¼ãƒ³ã‚’å¤‰æ›´ã—ã¾ã™ã€‚trusted ã¯å…¨ã¦ã‚ªãƒ¼ãƒ—ãƒ³ã€‚firewalld å†èµ·å‹•ä¸è¦
                    ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’é–‹ãã¾ã™:
                        URL: http://192.168.56.101/zabbix  #template: __ZabbixServerName__
                        Welcome:
                            Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        Check of pre-requisites:
                            Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        Configure DB connection:
                            Database host: localhost  #// ãƒ›ã‚¹ãƒˆOSã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã‚²ã‚¹ãƒˆOSã® Zabbix ã‚’ä½¿ã†å ´åˆã§ã‚‚ localhost
                            Password: Pass55!!  #template: __MySQL_ZabbixPass__
                            ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:
                                ã‚¨ãƒ©ãƒ¼: The server requested authentication method unknown to the client
                                å¯¾å‡¦æ³•: ä¸Šè¨˜ã€ŒMySQL ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªè¨¼æ–¹æ³•ã‚’ SHA2 ã‹ã‚‰ MySQL ãƒã‚¤ãƒ†ã‚£ãƒ–ã«å¤‰æ›´ã—ã¾ã™ã€
                            Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        Zabbix server details:
                            Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        Pre-installation summary:
                            Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        Install:
                            Finish ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®åˆæœŸè¨­å®š:
                    URL: http://192.168.56.101/zabbix  #template: __ZabbixServerName__
                    åˆæœŸã®ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:
                        Username: Admin
                        Passowrd: zabbix
                    Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’æ—¥æœ¬èªã«ã—ã¾ã™:
                        UserSettingsï¼ˆå·¦ä¸‹ï¼‰:
                            Language: Japanese
                            Update ãƒœã‚¿ãƒ³:
                    httpd ã‹ã‚‰ zabbix_server ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™:
                        bash:
                            - getsebool -a | grep zabbix  #// SELinuxã®è¨­å®šã®ã†ã¡ Zabbix ã«é–¢ã™ã‚‹è¨­å®šã‚’è¡¨ç¤ºã—ã¾ã™
                            - sudo setsebool -P httpd_can_connect_zabbix on
                            - sudo setsebool -P zabbix_can_network on
                            - sudo setsebool -P zabbix_run_sudo on
                            - getsebool -a | grep zabbix

                            - sudo grep zabbix_server /var/log/audit/audit.log | audit2allow
                            - sudo grep zabbix_server /var/log/audit/audit.log | audit2allow -M zabbix-policy
                            - sudo semodule -i zabbix-policy.pp
                            - sudo grep zabbix_server /var/log/audit/audit.log | audit2allow -M zabbix-agent-policy
                            - sudo semodule -i zabbix-agent-policy.pp

                            - sudo systemctl restart zabbix-server
                    Zabbix ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•ã‚’ç¢ºèªã—ã¾ã™:
                        URL: http://192.168.56.101/zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ï¼ˆå·¦ä¸Šï¼‰>> ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
                            #template: __ZabbixServerName__
        Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #keyword: install Zabbix agent
            ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
                Zabbix ã‚µãƒ¼ãƒãƒ¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã®ã§ãã¡ã‚‰ã‚’å‚ç…§
                #search: install Zabbix5 agent CentOS7
            Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #search: Zabbix agent
        åˆæœŸåŒ–:  #keyword: zabbix reset  #// Zabbix ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆæœŸåŒ–ã—ã¦ã€å†èµ·å‹•ã—ã¾ã™
            Docker ã®å ´åˆ:
                #search: docker volume rm
            Zabbix ã®åˆæœŸè¨­å®šã¨å‹•ä½œç¢ºèªã‚’ã—ã¾ã™:  #keyword: initialize Zabbix
                è¨­å®š: #settings:
                    __ZabbixServerName__: 192.168.33.61
                    __MySQL_ZabbixPass__: Zabbix55##
                ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ Zabbix ã®åˆæœŸè¨­å®šã‚’è¡Œã„ã¾ã™:
                    ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’é–‹ãã¾ã™:
                        URL: http://192.168.33.61/zabbix  #template: __ZabbixServerName__
                    Welcome:
                        Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    Check of pre-requisites:
                        Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    Configure DB connection:
                        User: zabbix
                        Password: Zabbix55##  #template: __MySQL_ZabbixPass__
                        Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    Zabbix server details:
                        Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    Pre-installation summary:
                        Next step ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    Install:
                        Finish ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®åˆæœŸè¨­å®š:
                    URL: http://192.168.33.61/zabbix  #template: __ZabbixServerName__
                    åˆæœŸã®ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:
                        Username: Admin
                        Passowrd: zabbix
                    Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’æ—¥æœ¬èªã«ã—ã¾ã™:
                        UserSettingsï¼ˆå·¦ä¸‹ï¼‰:
                            Language: Japanese
                            Update ãƒœã‚¿ãƒ³:
                Zabbix servers ã‚’è¡¨ç¤ºã—ã¾ã™:
                    Zabbix >> è¨­å®šï¼ˆå·¦ä¸Šï¼‰>> ãƒ›ã‚¹ãƒˆ
                Zabbix servers ã®æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¾ã™:
                    Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ï¼ˆå·¦ä¸Šï¼‰>> æœ€æ–°ãƒ‡ãƒ¼ã‚¿ >> ï¼ˆãƒ›ã‚¹ãƒˆã®ï¼‰é¸æŠ >> Zabbix server >> é¸æŠ >> é©ç”¨ >>
                    â–²ï¼ˆã™ã¹ã¦æŠ˜ã‚ŠãŸãŸã¿ã¾ã™ï¼šè¡¨ã®å·¦ä¸Šï¼‰>>
                    CPUï¼ˆ2åˆ—ç›®ã®æœ€ã‚‚ä¸Šï¼‰>> CPU idle timeï¼ˆ4è¡Œç›®ï¼‰>> ã‚°ãƒ©ãƒ•ï¼ˆæœ€ã‚‚å³ï¼‰>> è¡¨ç¤ºå½¢å¼ï¼å€¤ï¼ˆå³ä¸Šï¼‰
                ãã®ä»–ã®åŸºæœ¬æ‰‹é †:
                    #search: Zabbix basic
        ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°: #ğŸŒŸ
            StartPollers ã®è¨­å®š: #keyword: Zabbix StartPollers
                ç›£è¦–ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã®æ•°ã€‚å®Ÿéš›ã®è² è·çŠ¶æ³ã‚’è¦‹ãªãŒã‚‰ã€èª¿æ•´ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
                å¢—ã‚„ã™ã¨ã€ãƒ¡ãƒ¢ãƒªãƒ¼ã®æ¶ˆè²»é‡ã¯å¢—ãˆã€CPU ã®ç¨¼åƒç‡ã¯ä¸ŠãŒã‚Šã¾ã™ã€‚
                #search: Zabbix poller
                #ref: https://unam.hatenadiary.jp/entry/2018/02/20/215659
                #ref: https://www.zabbix.com/documentation/2.2/jp/manual/appendix/performance_tuning?hl=StartPollers
            Timeout ã®è¨­å®š: #keyword: Zabbix Timeout
                ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3ç§’
                    /etc/zabbix/zabbix_server.conf
                æ³¨æ„: é€šå¸¸ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹ã„ã¾ã›ã‚“ã€‚å¢—ã‚„ã™ã¨è² è·ãŒé«˜ã¾ã‚Šã¾ã™
        ãã®ä»–ã®åŸºæœ¬æ‰‹é †: #keyword: Zabbix basic
            ãƒ›ã‚¹ãƒˆã‚„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã—ã¾ã™: #search: create Zabbix host
            ã‚°ãƒ©ãƒ•: #search: Zabbix graph
            è² è·ã‚’ä¸ãˆã¾ã™: #search: Zabbix stress test
            ãƒˆãƒªã‚¬ãƒ¼: #search: create Zabbix trigger
            ãƒ¡ãƒ¼ãƒ«é€šçŸ¥: #search: Zabbix mail
            ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ: #search: Zabbix alert script
            ãã®ä»–: #search: Zabbix concept
    æ¦‚å¿µ: #keyword: Zabbix concept
        ãƒ›ã‚¹ãƒˆ:  #// ç›£è¦–å¯¾è±¡  #search: Zabbix host configuration  #search: Zabbix host monitoring data
            è¡¨ç¤º:
                Zabbix 6:  #search: Zabbix6 host menu
                Zabbix 4:  #search: Zabbix host menu
            è¿½åŠ : #keyword: create Zabbix host
                Zabbix ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§æ“ä½œã™ã‚‹å ´åˆ: #keyword: create Zabbix host example
                    ãƒ›ã‚¹ãƒˆ:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒ›ã‚¹ãƒˆã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        ãƒ›ã‚¹ãƒˆå: control ï¼ˆä»»æ„ï¼‰
                        ã‚°ãƒ«ãƒ¼ãƒ—: Virtual machines ï¼ˆçœç•¥ä¸å¯ï¼‰
                        ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹:
                            IPã‚¢ãƒ‰ãƒ¬ã‚¹: 192.168.33.59 (ä¾‹)
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                        ç°è‰²: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæœªä½¿ç”¨ ã¾ãŸã¯ ç›£è¦–é …ç›®ãªã—
                    ã‚¢ã‚¤ãƒ†ãƒ : #keyword: create Zabbix item example  #search: Zabbix item
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆè¡¨ã®3åˆ—ç›®ï¼‰>> ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        åå‰: CPU load ï¼ˆä»»æ„ï¼‰
                        ã‚­ãƒ¼: system.cpu.load
                        ãƒ‡ãƒ¼ã‚¿å‹: æ•°å€¤ï¼ˆæµ®å‹•å°æ•°ï¼‰
                        Zabbix 5.0 ã®å ´åˆ:
                            ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆä¸‹ï¼‰:
                            å€¤ã®å–å¾—ã¨ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                    ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™:
                        ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿
                            ãƒ›ã‚¹ãƒˆ: control
                            é©ç”¨ ãƒœã‚¿ãƒ³:
                        ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã—ã¾ã™:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ
                            ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
                            ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹: #// ç·‘è‰²ï¼æ­£å¸¸, èµ¤è‰²ï¼ç•°å¸¸  #// 1åˆ†ãã‚‰ã„å¾Œã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã§ã™
                            ã‚°ãƒ©ãƒ•: #search: Zabbix graph
            ç›£è¦–ãƒ‡ãƒ¼ã‚¿: #search: Zabbix host monitoring  #// å–å¾—ã—ãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ãƒ‡ãƒ¼ã‚¿
            ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #search: Zabbix template  #// ã‚¢ã‚¤ãƒ†ãƒ ã‚„ãƒˆãƒªã‚¬ãƒ¼ã‚’ã¾ã¨ã‚ãŸã‚‚ã®
            ã‚¢ã‚¤ãƒ†ãƒ :  #search: Zabbix item  #// ç›£è¦–é …ç›®, å–å¾—ã™ã‚‹ç›£è¦–ãƒ‡ãƒ¼ã‚¿ ,ãƒ¡ãƒˆãƒªã‚¯ã‚¹
            ãƒˆãƒªã‚¬ãƒ¼:  #search: Zabbix trigger  #// è­¦å‘Šãªã©, éšœå®³ã®ç™ºç”Ÿæ¡ä»¶ã®è¨­å®š
        ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—: #keyword: Zabbix host group  #// ãƒ›ã‚¹ãƒˆãŠã‚ˆã³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—
            æ¦‚è¦: ãƒ›ã‚¹ãƒˆã¯å¿…ãšã©ã“ã‹ã®ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã—ã¾ã™ã€‚
                åŒã˜ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã«ãƒ›ã‚¹ãƒˆã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæ‰€å±ã—ã¦ã„ã¦ã‚‚ã€
                ãã®ãƒ›ã‚¹ãƒˆã¯ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                ãƒ–ãƒ©ã‚¦ã‚ºã™ã‚‹éš›ã«è¦ªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç›¸å½“ã™ã‚‹ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰è¾¿ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã ã‘ã§ã™ã€‚
                æ‰€å±ã™ã‚‹å…¨ã¦ã®ãƒ›ã‚¹ãƒˆãŒæ­£å¸¸ã‹éšœå®³ã‹ã‚’ä¸€è¦§è¡¨ã®ä¸­ã®è‰²ã§åˆ¤æ–­ã§ãã¾ã™ã€‚
            è¡¨ç¤º: #search: Zabbix host group menu
            è¿½åŠ : #// æ—¢å­˜ã®ãƒ›ã‚¹ãƒˆã‚’æ—¢å­˜ã® ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ— ã«è¿½åŠ ã—ã¾ã™
                Zabbix >> Configurationï¼ˆã‚¿ãƒ–ï¼‰>> Hostsï¼ˆã‚¿ãƒ–ï¼‰>>ï¼ˆãƒ›ã‚¹ãƒˆåï¼‰>>
                Groupï¼ˆã«ä¸€éƒ¨ã§ã‚‚å…¥åŠ›ï¼‰ ã¾ãŸã¯ï¼ˆGroupï¼šä¸Šã‹ã‚‰3ã¤ç›® ã®ï¼‰Select ãƒœã‚¿ãƒ³ >>
                Update ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸‹ï¼‰
                #ref: https://www.zabbix.com/documentation/current/en/manual/config/hosts/host
            ãƒã‚¹ãƒˆã•ã‚ŒãŸ ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—:
                __ParentGroup__/__ChildGroup__  #// ã‚°ãƒ«ãƒ¼ãƒ—åã®å…ˆé ­ã«ã€è¦ªã‚°ãƒ«ãƒ¼ãƒ—åã¨ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’å«ã‚ã¾ã™
                #ref: https://www.zabbix.com/documentation/current/en/manual/config/hosts/host >> nested host group
        ã‚µãƒ¼ãƒãƒ¼:  #// ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹
            #search: install Zabbix
        ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: #keyword: agent of Zabbix  #// ãƒ›ã‚¹ãƒˆã§å‹•ä½œã™ã‚‹ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹
            Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: #keyword: Zabbix agent
                ä¸»ãªã‚¢ã‚¤ãƒ†ãƒ : #search: Zabbix agent items
                ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: #search: install Zabbix agent
                è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: #search: zabbix_agentd.conf
            zabbix_sender: #keyword: zabbix_sender  #// Zabbixã‚µãƒ¼ãƒãƒ¼ã«ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’é€ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
                #ref: https://www.zabbix.com/documentation/current/en/manual/concepts/sender
            SNMP ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #keyword: Zabbix SNMP agent  #// ãƒãƒ¼ãƒªãƒ³ã‚°ã§ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¾ã™
                SNMP trap ãŒæ¥ãŸã¨ã:
                    ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ:
                        (@agent) snmptrap â†’ (@manager) snmptrapd â†’ snmptrap receiver â†’ snmp trapper file â†’ snmp trapper â†’ DB
                        #ref: http://cyberfortress.jp/2020/04/17/blog-zabbix-setup-snmptrap/
                        #search: SNMP trap
                    Zabbix æ§‹æˆ:
                        ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜:
                        ã‚¢ã‚¤ãƒ†ãƒ ãŒç›£è¦–ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›:
                        ãƒˆãƒªã‚¬ãƒ¼ã§é€šçŸ¥:
                æ¥ç¶šå…ˆã®ãƒ›ã‚¹ãƒˆ:
                    ã‚¢ã‚¤ãƒ†ãƒ ã‹ã‚‰æ¢ã™å ´åˆ:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆå¯¾è±¡ã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ 
                        ãƒ›ã‚¹ãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: æ¥ç¶šå…ˆã®ãƒ›ã‚¹ãƒˆ
                    ãƒ›ã‚¹ãƒˆã‹ã‚‰æ¢ã™å ´åˆ:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆãƒ›ã‚¹ãƒˆåï¼‰
                        SNMP ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: ï¼ˆIP ã‚¢ãƒ‰ãƒ¬ã‚¹, ãƒãƒ¼ãƒˆï¼‰
                ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹: #search: Zabbix SNMP items
                    Zabbix ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ SNMP ã‚’ä½¿ã£ãŸã‚¢ã‚¤ãƒ†ãƒ ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã™ã§ã«å…¥ã£ã¦ã„ã¾ã™
                    Template Module Interfaces Simple SNMPv2 ãªã©å¤šæ•°
                å‚è€ƒ:
                    MIB:  #search: MIB
                    Zabbix SNMP trap:
                        https://www.zabbix.com/documentation/current/en/manual/config/items/itemtypes/snmptrap
                    ã€å…¥é–€ç·¨ã€‘Zabbixã§SNMPãƒˆãƒ©ãƒƒãƒ—ç›£è¦–ã‚’å§‹ã‚ã‚‹ã«ã¯ï¼Ÿ:
                        https://www.ashisuto.co.jp/enishi/system_management/zabbix_snmp.html
            SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #keyword: Zabbix SSH check,  Zabbix SSH  #// SSH çµŒç”±ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™
                å…¬å¼: #ref: https://www.zabbix.com/documentation/2.2/jp/manual/config/items/itemtypes/ssh_checks
                æ³¨æ„: Zabbix 4.0.39 ã§ã¯å‹•ä½œã§ããªã„ã‚ˆã†ã§ã™
                ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹: #search: Zabbix SSH items
                è¿½åŠ : #keyword: create Zabbix SSH check
                    ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œã‚Šã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆå¯¾è±¡ã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ  >> ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        åå‰: file count  #// ä»»æ„
                        ã‚¿ã‚¤ãƒ—: SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
                        ã‚­ãƒ¼: ssh.run[file_count]    ssh.run[file_count2,control]
                        èªè¨¼æ–¹å¼: å…¬é–‹éµ
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼å: root
                        å…¬é–‹éµãƒ•ã‚¡ã‚¤ãƒ«: id_rsa.pub
                        ç§˜å¯†éµãƒ•ã‚¡ã‚¤ãƒ«: id_rsa
                        å®Ÿè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:
                            ls -l $HOME | wc --lines
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                    ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿
            å¤–éƒ¨ãƒã‚§ãƒƒã‚¯: #keyword: Zabbix external check  #// Zabbix ã‚µãƒ¼ãƒãƒ¼ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™
                å…¬å¼: #ref: https://www.zabbix.com/documentation/2.2/jp/manual/config/items/itemtypes/external
                ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹:
                    ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç½®ãå ´æ‰€: #search: Zabbix ExternalScripts
                    ãƒ•ã‚¡ã‚¤ãƒ«å: #search: Zabbix external check items 
                è¿½åŠ : #keyword: create Zabbix external check
                    ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚Šã¾ã™:
                        bash (@zabbix1): |
                            edit=/usr/lib/zabbix/externalscripts/get.sh  #search: Zabbix ExternalScripts
                            sudo mkdir -p ${edit}
                            sudo rmdir    ${edit}
                            sudo tee ${edit} > /dev/null
                                #!/bin/bash
                                echo "$1"
                            sudo chown zabbix:zabbix ${edit}
                            sudo chmod +x ${edit}
                            ls -l ${edit}
                        #// Python3 ã®å ´åˆ:  #search: Zabbix Python3
                    ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œã‚Šã¾ã™:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆå¯¾è±¡ã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ  >> ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        åå‰: get  #// ä»»æ„
                        ã‚¿ã‚¤ãƒ—: å¤–éƒ¨ãƒã‚§ãƒƒã‚¯
                        ã‚­ãƒ¼: get.sh[10]  #search: Zabbix external check key
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                    ï¼ˆä½œã£ãŸã‚¢ã‚¤ãƒ†ãƒ ï¼‰:
                        ç›£è¦–ãƒ‡ãƒ¼ã‚¿å–å¾— ãƒœã‚¿ãƒ³:  #// ä¸è¦ã‹ã‚‚ï¼Ÿ
                    ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™:
                        #search: Zabbix graph
                ã‚­ãƒ¼: #keyword: Zabbix external check key
                    ã‚µãƒ³ãƒ—ãƒ«:
                        å‹•ä½œç¢ºèªã‚µãƒ³ãƒ—ãƒ«:
                            #search: create Zabbix external check
                        ã‚­ãƒ¼ã«æŒ‡å®šã™ã‚‹å€¤ã®ã‚µãƒ³ãƒ—ãƒ«:
                            - get.sh[10]
                            - address.sh[www.example.com]
                            - with-macro.sh[{$FQDN}]
                    ã‚­ãƒ¼å…¨ä½“: #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                        - __ScriptFileName__
                        - __ScriptFileName__[]
                        - __ScriptFileName__[__Argument_1__]
                        - __ScriptFileName__[__Argument_1__,__Argument_2__,...]
                    ã‚­ãƒ¼ã«æŒ‡å®šã™ã‚‹ãƒã‚¯ãƒ­:  #keyword: Zabbix macro in external check
                        ã‚µãƒ³ãƒ—ãƒ«:
                            ãƒ›ã‚¹ãƒˆ:  #// ãƒ›ã‚¹ãƒˆç›´ä¸‹ã«ãƒã‚¯ãƒ­ã‚’å®šç¾©ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ãƒã‚¯ãƒ­ã‚’å‚ç…§
                                ãƒã‚¯ãƒ­:  #search: Zabbix macro
                                    FQDN: example.com  #// å®šç¾©
                                ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >> ã‚¢ã‚¤ãƒ†ãƒ  >>ï¼ˆå¤–éƒ¨ãƒã‚§ãƒƒã‚¯ã®ï¼‰ã‚­ãƒ¼:  #search: Zabbix external check key
                                    with-macro.sh[{$FQDN}]  #// å‚ç…§
            ãã®ä»–ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:
                é–¢é€£ >> ä¸»ãªã‚¢ã‚¤ãƒ†ãƒ : #search: Zabbix main items
            JavaScript ã®ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚·ãƒ³ã‚°: #// Zabbix 5.4ä»¥é™  #ref: https://www.zabbix.com/documentation/current/jp/manual/config/items/preprocessing/javascript
            poller ãƒ—ãƒ­ã‚»ã‚¹: #keyword: Zabbix poller  #// zabbix agentã€SNMPã€å¤–éƒ¨ãƒã‚§ãƒƒã‚¯ã‚’å‡¦ç†ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹
                Zabbix ã®è² è·ç‡ã‚’ç›£è¦–ã™ã‚‹å ´åˆ:  #search: Zabbix ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠãƒ«
                #ref: https://unam.hatenadiary.jp/entry/2018/01/27/193310
                #search: Zabbix StartPollers
        ç›£è¦–ãƒ‡ãƒ¼ã‚¿:  #search: Zabbix monitoring  #// å–å¾—ã—ãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ãƒ‡ãƒ¼ã‚¿
            ãƒ›ã‚¹ãƒˆã®çŠ¶æ…‹: #keyword: Zabbix host monitoring
                ç›£è¦–ãƒ‡ãƒ¼ã‚¿:
                    ã‚°ãƒ©ãƒ•: #keyword: Zabbix graph
                        Zabbix 6.0:
                            è¡¨ç¤º: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ›ã‚¹ãƒˆ >>ï¼ˆå¯¾è±¡ãƒ›ã‚¹ãƒˆã®è¡Œã®ï¼‰æœ€æ–°ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚°ãƒ©ãƒ•ã§ã¯ãªã„ï¼šä¸­å¤®ï¼‰>> åå‰ï¼ˆã®åˆ—ã®å¯¾è±¡è¡Œï¼‰>> ã‚°ãƒ©ãƒ•ï¼ˆã¾ãŸã¯ï¼‰å€¤
                        Zabbix 5.0:
                            è¡¨ç¤º: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ›ã‚¹ãƒˆ >>ï¼ˆå¯¾è±¡ãƒ›ã‚¹ãƒˆã®è¡Œã®ï¼‰æœ€æ–°ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚°ãƒ©ãƒ•ã§ã¯ãªã„ï¼šä¸­å¤®ï¼‰>>ï¼ˆå¯¾è±¡ã‚¢ã‚¤ãƒ†ãƒ ã®è¡Œã®ï¼‰ã‚°ãƒ©ãƒ•ï¼ˆå³ç«¯ï¼‰
                            ä¸€è¦§: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ›ã‚¹ãƒˆ >>ï¼ˆå¯¾è±¡ãƒ›ã‚¹ãƒˆã®è¡Œã®ï¼‰ã‚°ãƒ©ãƒ•  #// ãŸã ã—ã€ã‚°ãƒ©ãƒ•ã®è¨­å®šãŒç„¡ã„ã¨é¸ã¹ã¾ã›ã‚“
                        Zabbix 4.0:
                            è¡¨ç¤º: Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿ >> ãƒªã‚»ãƒƒãƒˆ >> ï¼ˆãƒ›ã‚¹ãƒˆã®ï¼‰é¸æŠ >>ï¼ˆãƒ›ã‚¹ãƒˆåï¼‰>> é¸æŠ >> é©ç”¨ >> ã‚°ãƒ©ãƒ•ï¼ˆå³ç«¯ï¼‰>>
                                è¡¨ç¤ºå½¢å¼ï¼ˆå³ä¸Šï¼‰ï¼å€¤
                        é–¢é€£ >> è² è·ã‚’ä¸ãˆã¾ã™: #search: Zabbix stress test
                ãƒˆãƒªã‚¬ãƒ¼, éšœå®³ï¼ˆãƒ›ã‚¹ãƒˆï¼‰: #keyword: Zabbix host problems  #// ç‰¹å®šã®ãƒ›ã‚¹ãƒˆã®ãƒˆãƒªã‚¬ãƒ¼ã•ã‚ŒãŸéšœå®³
                    è¨­å®š ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å ´åˆ: #// Zabbix 4.0ï½5.0 ã®å ´åˆ
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒˆãƒªã‚¬ãƒ¼ï¼ˆè¡¨ã®4åˆ—ç›®ï¼‰
                        ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:  #// ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®ãƒªãƒ­ãƒ¼ãƒ‰
                        å€¤: éšœå®³ï¼ˆèµ¤å­—ï¼‰, æ­£å¸¸ï¼ˆç·‘å­—ï¼‰
                    ç›£è¦–ãƒ‡ãƒ¼ã‚¿ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å ´åˆ: #// Zabbix 5.0 ã®å ´åˆ
                        ç¾åœ¨:
                            Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ›ã‚¹ãƒˆ >> éšœå®³ï¼ˆ2åˆ—ã‚ã‚‹ã†ã¡ã®ã‚¯ãƒªãƒƒã‚¯ã§ãã‚‹åˆ—ï¼šå³å´ï¼‰
                        ãƒ’ã‚¹ãƒˆãƒª:  #// ç¾åœ¨ã¨ã™ã¹ã¦ã®éå»ã®éšœå®³
                            Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ›ã‚¹ãƒˆ >> éšœå®³ï¼ˆ2åˆ—ã‚ã‚‹ã†ã¡ã®ã‚¯ãƒªãƒƒã‚¯ã§ãã‚‹åˆ—ï¼šå³å´ï¼‰>> è¡¨ç¤ºï¼ˆå·¦ä¸Šï¼‰ï¼ãƒ’ã‚¹ãƒˆãƒª >> é©ç”¨
            éšœå®³ä¸€è¦§: #keyword: Zabbix problems  #// å…¨ãƒ›ã‚¹ãƒˆã®ãƒˆãƒªã‚¬ãƒ¼ã•ã‚ŒãŸéšœå®³
                ãƒ’ã‚¹ãƒˆãƒª:  #// ç¾åœ¨ã¨ã™ã¹ã¦ã®éå»ã®éšœå®³ #// Zabbix 4.0ï½5.0 ã®å ´åˆ
                    Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> éšœå®³ >> ãƒªã‚»ãƒƒãƒˆï¼ˆä¸­å¤®ï¼‰>> è¡¨ç¤ºï¼ˆå·¦ä¸Šï¼‰ï¼ãƒ’ã‚¹ãƒˆãƒª >> é©ç”¨
                ç¾åœ¨:  #// ç¾åœ¨ç™ºç”Ÿä¸­ã®éšœå®³ #// Zabbix 4.0ï½5.0 ã®å ´åˆ
                    Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ >> éšœå®³ï¼ˆä¸‹åŠåˆ†ï¼‰
                ç¾åœ¨ï¼ˆæœ€è¿‘ã®è§£æ±ºæ¸ˆã‚’å«ã‚€ï¼‰:  #// ç¾åœ¨ç™ºç”Ÿä¸­ã®éšœå®³ ãŠã‚ˆã³ æœ€è¿‘è§£æ±ºã—ãŸéšœå®³ï¼ˆéå»10åˆ†ï¼Ÿï¼‰
                    Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> éšœå®³ >> ãƒªã‚»ãƒƒãƒˆï¼ˆä¸­å¤®ï¼‰
                ç‰¹å®šã®ãƒ›ã‚¹ãƒˆ: #search: Zabbix host problems
        ã‚¢ã‚¤ãƒ†ãƒ :  #keyword: Zabbix item  #// ç›£è¦–é …ç›®, å–å¾—ã™ã‚‹ç›£è¦–ãƒ‡ãƒ¼ã‚¿ ,ãƒ¡ãƒˆãƒªã‚¯ã‚¹, SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ, å¤–éƒ¨ãƒã‚§ãƒƒã‚¯
            é–¢é€£ >> ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #search: Zabbix template  #// ã‚¢ã‚¤ãƒ†ãƒ ã‚„ãƒˆãƒªã‚¬ãƒ¼ã‚’ã¾ã¨ã‚ãŸã‚‚ã®
            è¡¨ç¤º: #search: Zabbix6 host menu  #search: Zabbix item menu
            ä¸»ãªã‚¢ã‚¤ãƒ†ãƒ : #keyword: Zabbix main items
                è¨­å®šæ‰‹é †: #search: create Zabbix item
                ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã”ã¨ã®ã‚¢ã‚¤ãƒ†ãƒ :  #// ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ #search: agent of Zabbix
                    Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ã®ã‚¢ã‚¤ãƒ†ãƒ : #keyword: Zabbix agent items  #// ãƒ›ã‚¹ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨é€šä¿¡ã—ã¦ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™
                        system.cpu.load:  #// ãƒ­ãƒ¼ãƒ‰ ã‚¢ãƒ™ãƒ¬ãƒ¼ã‚¸
                            ã‚µãƒ³ãƒ—ãƒ«:
                                åå‰: CPU load average
                                ã‚­ãƒ¼: system.cpu.load
                                ãƒ‡ãƒ¼ã‚¿å‹: æ•°å€¤ï¼ˆæµ®å‹•å°æ•°ï¼‰
                        system.cpu.util:  #// CPU ä½¿ç”¨ç‡
                            ã‚µãƒ³ãƒ—ãƒ«:
                                åå‰: CPU load (1min)
                                ã‚­ãƒ¼: system.cpu.util[all, user, avg1]
                                ãƒ‡ãƒ¼ã‚¿å‹: æ•°å€¤ï¼ˆæµ®å‹•å°æ•°ï¼‰
                    SNMP ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: #keyword: Zabbix SNMP items
                        è¨­å®š:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆå¯¾è±¡ã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ 
                            ãƒ›ã‚¹ãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: æ¥ç¶šå…ˆã®ãƒ›ã‚¹ãƒˆ
                            ã‚­ãƒ¼:
                            SNMP OID: #search: MIB OID
                            SNMPã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£:
                        #search: Zabbix SNMP agent
                    SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: #keyword: Zabbix SSH items  #search: Zabbix SSH check  #// SSH çµŒç”±ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™
                        #// å–å¾—å†…å®¹ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å†…å®¹ã«ã‚ˆã‚Šã¾ã™
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆå¯¾è±¡ã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ  >> ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        å®Ÿè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:
                            ls -l $HOME | wc --lines
                    å¤–éƒ¨ãƒã‚§ãƒƒã‚¯: #keyword: Zabbix external check items  #search: Zabbix external check  #// Zabbix ã‚µãƒ¼ãƒãƒ¼ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™
                        å®Ÿè¡Œã™ã‚‹ãƒ›ã‚¹ãƒˆ: Zabbix ã‚µãƒ¼ãƒãƒ¼
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç½®ãå ´æ‰€, å†…å®¹: #search: Zabbix ExternalScripts
                    Zabbix ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠãƒ«:
                        Zabbix è‡ªä½“ã®ç¨¼åƒçŠ¶æ³ã‚’ç›£è¦–ã—ã¾ã™ã€‚è² è·ç‡
                        #ref: https://unam.hatenadiary.jp/entry/2018/01/27/193310
                        #search: Zabbix poller
            è¨­å®šæ‰‹é †: #keyword: create Zabbix item
                è¨­å®šå€¤ã®ã‚µãƒ³ãƒ—ãƒ«: #search: Zabbix main items
                ï¼ˆå¯¾è±¡ã®ãƒ›ã‚¹ãƒˆã‚’ã¾ã ç™»éŒ²ã—ã¦ã„ãªã„å ´åˆï¼‰: #search: create Zabbix host
                åå‰: ä»»æ„
                ã‚­ãƒ¼:  #// ä»¥ä¸‹ã®ã„ãšã‚Œã‹
                    å…¬å¼ãƒšãƒ¼ã‚¸ã‹ã‚‰æ¢ã—ã¦ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰å…¥åŠ›ã™ã‚‹ã‹ã‚³ãƒ”ãƒšã—ã¾ã™: #keyword: Zabbix item help
                        è‹±èª 5.0:  #ref: https://www.zabbix.com/documentation/5.0/en/manual/config/items/itemtypes/zabbix_agent
                        æ—¥æœ¬èª 2.2: æ–‡ç« ãŒå´©ã‚Œã¦ã„ã¾ã™  #ref: https://www.zabbix.com/documentation/2.2/jp/manual/config/items/itemtypes/zabbix_agent
                    é¸æŠ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®æ¤œç´¢æ©Ÿèƒ½ã§ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚­ãƒ¼ã‚’æ¤œç´¢ã—ã¾ã™:
                ãƒ‡ãƒ¼ã‚¿å‹: å…¬å¼ãƒšãƒ¼ã‚¸ã‚’å‚ç…§  #search: Zabbix item help
                ç›£è¦–é–“éš”: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’æ¨å¥¨ã€‚é•·ãè¨­å®šã—ã¦ã‚‚ ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆä¸‹è¨˜ï¼‰ã§ã™ãã«å€¤ã‚’ç¢ºèªã§ãã¾ã™
                ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆä¸‹ï¼‰:
                å€¤ã®å–å¾—ã¨ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                è¿½åŠ  ãƒœã‚¿ãƒ³:
            ç¾åœ¨ã®å€¤: #keyword: read Zabbix item
                Zabbix 5.0:
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >>ï¼ˆå¯¾è±¡ã®ãƒ›ã‚¹ãƒˆã®è¡Œã®ï¼‰ã‚¢ã‚¤ãƒ†ãƒ  >>ï¼ˆã‚¢ã‚¤ãƒ†ãƒ åï¼š2åˆ—ç›®ï¼‰>> ãƒ†ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆæœ€ã‚‚ä¸‹ï¼‰
                    è² è·ã‚’ã‹ã‘ã¾ã™: #search: Linux stress
                Zabbix 4.0:
                    ã‚°ãƒ©ãƒ•: #search: Zabbix graph
                        Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿ >> ãƒªã‚»ãƒƒãƒˆ >> ï¼ˆãƒ›ã‚¹ãƒˆã®ï¼‰é¸æŠ >>ï¼ˆãƒ›ã‚¹ãƒˆåï¼‰>> é¸æŠ >> é©ç”¨ >> ã‚°ãƒ©ãƒ•ï¼ˆå³ç«¯ï¼‰>>
                            è¡¨ç¤ºå½¢å¼ï¼ˆå³ä¸Šï¼‰ï¼å€¤
            éå»ã®å€¤: #// ç›£è¦–ãƒ‡ãƒ¼ã‚¿  #search: Zabbix host monitoring data
        ãƒˆãƒªã‚¬ãƒ¼:  #keyword: Zabbix trigger  #// è­¦å‘Šãªã©, éšœå®³ã®ç™ºç”Ÿæ¡ä»¶ã®è¨­å®š
            è¡¨ç¤º: #search: Zabbix trigger menu
            è¿½åŠ : #keyword: create Zabbix trigger
                Zabbix ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§æ“ä½œã™ã‚‹å ´åˆ:
                    åŸºæœ¬:
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒˆãƒªã‚¬ãƒ¼ >> ãƒˆãƒªã‚¬ãƒ¼ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        åå‰: CPU load (1min)  #// ä»»æ„
                        æ·±åˆ»åº¦: è­¦å‘Š
                        æ¡ä»¶å¼:
                            è¿½åŠ  ãƒœã‚¿ãƒ³:
                            ã‚¢ã‚¤ãƒ†ãƒ : é¸æŠ >> CPU load (1min)
                            çµæœ: [">", 0.5]
                            æŒ¿å…¥ ãƒœã‚¿ãƒ³:
                            #// æ¡ä»¶å¼ã« MIB ã® OID ã‚’æŒ‡å®šã§ãã‚‹ã‚‰ã—ã„
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                    å¿œç”¨:
                        å¾©æ—§æ¡ä»¶å¼:  #// éšœå®³çŠ¶æ…‹ã‹ã‚‰æ­£å¸¸çŠ¶æ…‹ã«æˆ»ã™ãŸã‚ã®æ¡ä»¶ã€‚æ¡ä»¶å¼ã¨ã¯åˆ¥ã«è¨­å®šã§ãã‚‹
                        ã‚¿ã‚°: #keyword: Zabbix trigger tag
                            ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¿ã‚°ã€‚ è¤‡æ•°ç¨®é¡ã®éšœå®³ã«å¯¾ã—ã¦ã€1ç¨®é¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã«ä½¿ã„ã¾ã™ã€‚
                            ãã®å ´åˆã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æ¡ä»¶ã«ã€Œã‚¿ã‚°ã‚’å«ã‚€ã€ã‚’è¨­å®šã—ã¾ã™ã€‚
            ãƒ†ã‚¹ãƒˆ: #keyword: Zabbix stress test  #// éšœå®³ã‚’ç™ºç”Ÿã•ã›ã¦ã¿ã¾ã™
                CPU ã®è² è·ã‚’é«˜ã‚ã¾ã™:
                    ï¼ˆç›£è¦–å¯¾è±¡ã®ãƒ›ã‚¹ãƒˆï¼‰:
                        stress  --cpu 2  --timeout 60  #// 2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ 60ç§’é–“ã ã‘å‹•ã‹ã—ç¶šã‘ã¾ã™
                        #// stress ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  #search: Linux stress
                ç¢ºèªã—ã¾ã™:
                    #search: Zabbix trigger status
                é–¢é€£:
                    éšœå®³ç™ºç”Ÿæ™‚ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™: #search: Zabbix mail
            éšœå®³ã®è¡¨ç¤º: #keyword: Zabbix trigger status  #// ãƒˆãƒªã‚¬ãƒ¼ã®çŠ¶æ…‹ã‚’ç¢ºèªã—ã¾ã™
                ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒˆãƒªã‚¬ãƒ¼
            ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: #// æœ‰åŠ¹ã‹ç„¡åŠ¹ã‹ã‚’è¨­å®šã§ãã¾ã™ã€‚ãƒªãƒ¼ãƒ‰ ã‚ªãƒ³ãƒªãƒ¼ ã§ã¯ã‚ã‚Šã¾ã›ã‚“
        ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:  #// éšœå®³ç™ºç”Ÿæ™‚ã®å‡¦ç†
            æ¡ä»¶ >> ã‚¿ã‚°ã‚’å«ã‚€:  #search: Zabbix trigger tag
            ãƒ¡ãƒ¼ãƒ«é€šçŸ¥: #keyword: Zabbix mail  #// éšœå®³ç™ºç”Ÿæ™‚ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™
                å…¬å¼: #ref: https://www.zabbix.com/documentation/2.2/jp/manual/config/notifications/media/email
                ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—ã‚’è¨­å®šã—ã¾ã™:  #// é€ä¿¡å…ƒã® ãƒ¡ãƒ¼ãƒ« ã‚µãƒ¼ãƒãƒ¼ ã«é–¢ã™ã‚‹è¨­å®š
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç®¡ç† >> ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ— >> Email
                    åå‰: Email
                    ã‚¿ã‚¤ãƒ—: ãƒ¡ãƒ¼ãƒ«
                    SMTPã‚µãƒ¼ãƒãƒ¼: localhost
                    SMTP helo: localhost
                    é€ä¿¡å…ƒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: zabbix@zabbix1
                    æ›´æ–° ãƒœã‚¿ãƒ³:
                ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’è¨­å®šã—ã¾ã™:  #// é€ä¿¡å…ƒã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨é€ä¿¡å…ˆã«é–¢ã™ã‚‹è¨­å®š
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç®¡ç† >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ >> Admin >> ãƒ¡ãƒ‡ã‚£ã‚¢ï¼ˆã‚¿ãƒ–ï¼‰>> è¿½åŠ 
                    ã‚¿ã‚¤ãƒ—: Email
                    é€ä¿¡å…ˆ: vagrant@localhost.localdomain  #// ã‚µãƒ³ãƒ—ãƒ«
                        #// é€ä¿¡å…ˆã®è¿‘ãã«ã‚ã‚‹ è¿½åŠ  ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è¤‡æ•°ã®é€ä¿¡å…ˆã‚’ç™»éŒ²ã§ãã¾ã™
                    è¿½åŠ  ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                    æ›´æ–° ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸‹ï¼‰: æŠ¼ã—å¿˜ã‚Œãªã„ã“ã¨
                éšœå®³ç™ºç”Ÿæ™‚ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¾ã™:
                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> è¨­å®š >> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ >>
                        ï¼ˆReport problems to Zabbix administrators ã®è¡Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ—ï¼‰ç„¡åŠ¹
                        ï¼ˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æœ‰åŠ¹ã«ã—ã¾ã™ï¼‰
                ãƒ†ã‚¹ãƒˆã—ã¾ã™: #keyword: Zabbix mail test
                    å—ä¿¡å‰ã®å—ä¿¡ãƒ¡ãƒ¼ãƒ«ä¸€è¦§ã‚’ç¢ºèªã—ã¾ã™:
                        #search: Linux mail command example
                    éšœå®³ã‚’ç™ºç”Ÿã•ã›ã¾ã™:
                        stress  --cpu 2  --timeout 60  #search: Zabbix stress test
                    ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®çµæœã‚’ç¢ºèªã—ã¾ã™:
                        ãƒ¬ãƒãƒ¼ãƒˆ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å ´åˆ:
                            ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ãƒ¬ãƒãƒ¼ãƒˆ >> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°
                            ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: é€ä¿¡æ¸ˆã¿, å¤±æ•—, å®Ÿè¡Œä¸­
                            æƒ…å ±: ï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ¨™æº–å‡ºåŠ›ã®å†…å®¹ï¼‰
                                #// æˆåŠŸã—ãŸå ´åˆã€æƒ…å ±ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚zabbix_server.log ã«ã‚‚è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“
                        ç›£è¦–ãƒ‡ãƒ¼ã‚¿ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å ´åˆ:
                            Zabbix >> ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> éšœå®³ >>ï¼ˆä¸‹åŠåˆ†ã«ã‚ã‚‹è¡¨ã®ï¼‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆåˆ—ï¼‰>>
                            ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆåˆ—ï¼‰
                            #// é€ä¿¡æ¸ˆï¼ˆç·‘ï¼‰ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨
                    ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™:
                        (vagrant@zabbix1):
                            sudo less /var/log/maillog  #search: /var/log/maillog
                    å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã®å†…å®¹ã‚’ç¢ºèªã—ã¾ã™:
                        #search: Linux mail
            ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ: #keyword: Zabbix alert script,  Zabbix AlertScripts
                æ³¨æ„: æœªç¢ºèª
                å…¬å¼: #ref: https://www.zabbix.com/documentation/current/en/manual/config/notifications/media/script
                ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç½®ãå ´æ‰€: #search: Zabbix AlertScriptsPath
                è¿½åŠ : #keyword: create Zabbix alert script
                    ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚Šã¾ã™:
                        bash ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å ´åˆ:
                            bash (@zabbix1): |
                                edit=/usr/lib/zabbix/alertscripts/mail.sh  #search: Zabbix AlertScriptsPath
                                sudo mkdir -p ${edit}
                                sudo rmdir    ${edit}
                                sudo tee ${edit} > /dev/null
                                    #!/bin/bash
                                    to=$1
                                    subject=$2
                                    body=$3
                                    echo '$to'
                                    echo "$to"
                                    echo '$subject'
                                    echo "$subject"
                                    echo '$body'
                                    echo "$body"

                                    cat <<- HERE_DOCUMENT | mail -s "$subject" "$to"
                                    $body
                                    HERE_DOCUMENT
                                sudo chown zabbix:zabbix ${edit}
                                sudo chmod +x ${edit}
                                ls -l ${edit}
                        Python3 ã®å ´åˆ:  #keyword: Zabbix Python3
                            Python3 ã‚’ @zabbix1 ã‚µãƒ¼ãƒãƒ¼ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
                                #search: install CentOS7 Python3
                            bash (@zabbix1): |
                                edit=/usr/lib/zabbix/alertscripts/mail.py  #search: Zabbix AlertScriptsPath
                                sudo mkdir -p ${edit}
                                sudo rmdir    ${edit}
                                sudo tee ${edit} > /dev/null
                                    #!/usr/bin/python3
                                    import sys, smtplib, textwrap
                                    to = sys.argv[1]
                                    subject = sys.argv[2]
                                    body = sys.argv[3]
                                    print("to")
                                    print( to )
                                    print("subject")
                                    print( subject )
                                    print("body")
                                    print( body )
                                    from_ = 'zabbix@localhost.localdomain'
                                    message = textwrap.dedent(f"""\
                                        From: zabbix@localhost.localdomain
                                        To: {to}
                                        Subject: {subject}
                                    
                                        {body}""")

                                    smtp = smtplib.SMTP('localhost')
                                    smtp.sendmail(from_, to, message)
                                    smtp.close()
                                sudo chown zabbix:zabbix ${edit}
                                sudo chmod +x ${edit}
                                ls -l ${edit}
                    ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã—ã¾ã™:  #// ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æŒ‡å®šã—ã¾ã™
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç®¡ç† >> ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ— >> ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—ã®ä½œæˆï¼ˆå³ä¸Šï¼‰
                        åå‰: mail script  #// ãƒ¡ãƒ‡ã‚£ã‚¢ã®ã‚¿ã‚¤ãƒ—åã«ãªã‚Šã¾ã™
                        ã‚¿ã‚¤ãƒ—: ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆå: mail.sh  #// ãƒ•ã‚¡ã‚¤ãƒ«å
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:  #// é€šå¸¸ã€ä¸‹è¨˜ã®ã¾ã¾æŒ‡å®š
                            - {ALERT.SENDTO}
                            - {ALERT.SUBJECT}
                            - {ALERT.MESSAGE}
                            #ref: https://www.zabbix.com/documentation/current/en/manual/appendix/macros/supported_by_location
                        è¿½åŠ  ãƒœã‚¿ãƒ³:
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’è¨­å®šã—ã¾ã™:  #// é€ä¿¡å…ƒã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨é€ä¿¡å…ˆã«é–¢ã™ã‚‹è¨­å®š
                        ãƒ¡ãƒ‹ãƒ¥ãƒ¼: Zabbix >> ç®¡ç† >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ >> Admin >> ãƒ¡ãƒ‡ã‚£ã‚¢ï¼ˆã‚¿ãƒ–ï¼‰>> è¿½åŠ 
                        ã‚¿ã‚¤ãƒ—: mail script
                        é€ä¿¡å…ˆ: vagrant@localhost.localdomain  #// ã‚µãƒ³ãƒ—ãƒ«
                            #// é€ä¿¡å…ˆã®è¿‘ãã«ã‚ã‚‹ è¿½åŠ  ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è¤‡æ•°ã®é€ä¿¡å…ˆã‚’ç™»éŒ²ã§ãã¾ã™
                        è¿½åŠ  ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰:
                        æ›´æ–° ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸‹ï¼‰: æŠ¼ã—å¿˜ã‚Œãªã„ã“ã¨
                    ãƒ†ã‚¹ãƒˆã—ã¾ã™:
                        #search: Zabbix mail test
        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #keyword: Zabbix template  #// ã‚¢ã‚¤ãƒ†ãƒ ã‚„ãƒˆãƒªã‚¬ãƒ¼ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã€‚ãƒ›ã‚¹ãƒˆã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ç›¸å½“
            è¡¨ç¤º:  #search: Zabbix template menu
            ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: Zabbix >> Configurationï¼ˆä¸Šï¼‰>> Templates >> Importï¼ˆå³ä¸Šï¼‰>>
                ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠ >> zbx_export_templates.xml >> Importï¼ˆå·¦ä¸‹ï¼‰ #// 10ç§’ã»ã©å¾…ã¤ã€‚çµæœã¯å·¦ä¸Šã«è¡¨ç¤º
            ã‚µãƒ³ãƒ—ãƒ«:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: Zabbix template
            ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹:  #ref: https://www.zabbix.com/documentation/5.0/en/manual/xml_export_import/templates
        ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³: #keyword: Zabbix application  #// ä¸»ãªã‚¢ã‚¤ãƒ†ãƒ ã®ã‚°ãƒ«ãƒ¼ãƒ—
            è¿½åŠ : #keyword: create Zabbix application
                ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€è¦§ç”»é¢ã‹ã‚‰è¿½åŠ ã™ã‚‹å ´åˆ:
                    ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆï¼ˆå³ä¸Šï¼‰:
                ã‚¢ã‚¤ãƒ†ãƒ ã®ç”»é¢ã‹ã‚‰è¿½åŠ ã™ã‚‹å ´åˆ:
                    ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆï¼ˆä¸­å¤®ï¼‰:
        ãƒã‚¯ãƒ­: #keyword: Zabbix macro
            å…¬å¼: #ref: https://www.zabbix.com/documentation/current/en/manual/config/macros
            å‚ç…§ã®æ›¸å¼: |  #// $ ã¯ { ã®å³ã«ã‚ã‚‹ã“ã¨ã«æ³¨æ„
                {$__MacroName__}  
            ã‚µãƒ³ãƒ—ãƒ«:
                å¤–éƒ¨ãƒã‚§ãƒƒã‚¯ã§å‘¼ã³å‡ºã™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ãƒã‚¯ãƒ­ã‚’æŒ‡å®šã—ã¾ã™:
                    #search: Zabbix macro in external check
            ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ãƒã‚¯ãƒ­:
                è¡¨ç¤º: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆï¼ˆã¾ãŸã¯ï¼‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >>ï¼ˆç‰¹å®šã®ãƒ›ã‚¹ãƒˆã¾ãŸã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰>> ãƒã‚¯ãƒ­ ã‚¿ãƒ–
                ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰:
                    ãƒ›ã‚¹ãƒˆã¨ã€ãã®ãƒ›ã‚¹ãƒˆã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸¡æ–¹ã§åŒã˜åå‰ã®ãƒã‚¯ãƒ­ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã€
                    ãƒ›ã‚¹ãƒˆã«è¿‘ã„å®šç¾©å†…å®¹ãŒæ¡ç”¨ã•ã‚Œã¾ã™ã€‚
                ã‚°ãƒ­ãƒ¼ãƒãƒ« ãƒã‚¯ãƒ­: Zabbix >> ç®¡ç† >> ä¸€èˆ¬è¨­å®š >> ãƒã‚¯ãƒ­ï¼ˆå³ä¸Šã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å†…ï¼‰
            å®šç¾©æ¸ˆã¿ãƒã‚¯ãƒ­:
                #ref: https://www.zabbix.com/documentation/current/en/manual/appendix/macros/supported_by_location
        ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ ãƒ¢ãƒ¼ãƒ‰: #keyword: Zabbix maintenance mode
            æ¦‚è¦: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ãƒ›ã‚¹ãƒˆ/ãƒˆãƒªã‚¬ãƒ¼ã«å¯¾ã™ã‚‹å•é¡ŒãŒã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³(problem escalations)ã•ã‚Œãªããªã‚Šã¾ã™ã€‚
                ãŸã¨ãˆã°ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’ã—ã¦ã„ã‚‹ã¨ãã«å•é¡Œã‚’æ¤œå‡ºã—ãŸã¨ã—ã¦ã‚‚ã€ãƒ¡ãƒ¼ãƒ«ã‚„ Slack ã¸ã®é€šçŸ¥ã•ã›ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚
                #ref: https://www.zabbix.com/documentation/current/en/manual/maintenance
            è¡¨ç¤º: Zabbix >> Configurationï¼ˆã‚¿ãƒ–ï¼‰>> Mainteinanceï¼ˆã‚¿ãƒ–ï¼‰  #search: Zabbix maintenance menu
            ãƒ‡ãƒ¼ã‚¿åé›†ã‚ã‚Šã®ãƒ¢ãƒ¼ãƒ‰:
            ãƒ‡ãƒ¼ã‚¿åé›†ãªã—ã®ãƒ¢ãƒ¼ãƒ‰:
            ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³:
                ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ:
                    Zabbix 4.0 ã® Docker ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€PHP ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ Europe/Riga (UTC+3) ãŒä½¿ã‚ã‚Œã¾ã™ã€‚
                    #search: PHP time zone
                æ§‹æˆ:
                    DB (PostgreSQL) ã«å…¥ã£ã¦ã„ã‚‹ maintenances ã® active_since Unix time ã¨ã€curl (API) ã§å–å¾—ã§ãã‚‹ active_since Unix time ã¯åŒã˜å€¤ã§ã™ã€‚
                    WebUI ã§è¡¨ç¤ºã•ã‚Œã‚‹ maintenances ã® active_since ã¯ Windows ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®è¨­å®šã‚’å¤‰ãˆã¦ã‚‚å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ™‚è¨ˆã¯å¤‰ã‚ã‚Šã¾ã™ã€‚
    Zabbix web application:  #keyword: Zabbix web application, Zabbix front end, Zabbix console GUI  #// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
        _: ã“ã“ã¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿, é‡è¦åº¦é †, ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 5.0
        URL: #ref: http://__ZabbixServer__/zabbix
        ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (Zabbix 6): #keyword: Zabbix 6 WebUI
            ãƒ‡ãƒ¼ã‚¿åé›†:
                ãƒ›ã‚¹ãƒˆ:  #keyword: Zabbix6 host menu
                    ã‚¢ã‚¤ãƒ†ãƒ , ãƒˆãƒªã‚¬ãƒ¼, ã‚°ãƒ©ãƒ•, ...
                ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix6 maintenance menu  #// ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æœŸé–“
                    #search: Zabbix maintenance mode
        ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (Zabbix 4) : #keyword: Zabbix 4 WebUI
            ç›£è¦–ãƒ‡ãƒ¼ã‚¿: #keyword: Zabbix monitoring
                ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:  #// ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã®ä¸€è¦§
                ãƒ›ã‚¹ãƒˆ: #keyword: Zabbix host monitoring data  #// ç›£è¦–å¯¾è±¡ã®ç›£è¦–çµæœã€‚è¨­å®šã¯ã€è¨­å®šï¼ˆâ†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ã«ã‚ã‚Šã¾ã™
                    ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹: #// IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒãƒ¼ãƒˆ
                    ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹: #// ç·‘è‰²ï¼æ­£å¸¸, èµ¤è‰²ï¼ç•°å¸¸
                    æœ€æ–°ãƒ‡ãƒ¼ã‚¿: #// CPU ä½¿ç”¨ç‡, ãƒ¡ãƒ¢ãƒªãƒ¼ä½¿ç”¨ç‡ãªã©
                        é–¢é€£ >> ç¾åœ¨ã®å€¤ã‚’å–å¾—ã—ã¾ã™: #search: read Zabbix item
                    ã‚°ãƒ©ãƒ•: #// æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã®ã‚°ãƒ©ãƒ•
            è¨­å®š: #keyword: Zabbix configuration,  Zabbix settings
                ãƒ›ã‚¹ãƒˆï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix host configuration  #// ç›£è¦–å¯¾è±¡ã¨ãªã‚‹ Windows ã‚„ Linux ãªã©ã®è¨­å®š
                    ï¼ˆæ¦‚è¦ï¼‰: ã‚¢ã‚¤ãƒ†ãƒ  ã‚¿ãƒ–ãªã©ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ç¶™æ‰¿ã™ã‚‹ã‚¢ã‚¤ãƒ†ãƒ ãªã©ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                        ãã®å ´åˆã€ã‚¢ã‚¤ãƒ†ãƒ åã®å·¦ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                    ãƒ›ã‚¹ãƒˆ: #keyword: Zabbix host menu
                        ä¾‹: Zabbix server
                        è¡¨ç¤º: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> åå‰ï¼ˆã«ãƒ›ã‚¹ãƒˆåã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨ >>ï¼ˆãƒ›ã‚¹ãƒˆåï¼š1åˆ—ç›®ï¼‰
                            #// è¦‹ã¤ã‹ã‚‰ãªã„ã¨ãã¯ #search: Zabbix search not found
                    ã‚¢ã‚¤ãƒ†ãƒ : #keyword: Zabbix item menu  #search: Zabbix item  #// ç›£è¦–é …ç›®
                        ã‚­ãƒ¼ã®ä¾‹: system.cpu.util,  system.cpu.load
                        è¡¨ç¤º: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆè¡¨ã®3åˆ—ç›®ï¼‰>> åå‰ï¼ˆã«ã‚¢ã‚¤ãƒ†ãƒ åã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨ >>ï¼ˆã‚¢ã‚¤ãƒ†ãƒ åï¼š1åˆ—ç›®ï¼‰
                    ãƒˆãƒªã‚¬ãƒ¼: #keyword: Zabbix trigger menu  #// è­¦å‘Šï¼ˆã®ä¸€è¦§ï¼‰, è­¦å‘Šã®ç™ºç”Ÿæ¡ä»¶
                        ä¾‹: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)
                        è¡¨ç¤º:
                            Zabbix 5: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒˆãƒªã‚¬ãƒ¼ï¼ˆè¡¨ã®4åˆ—ç›®ï¼‰>> åå‰ï¼ˆã«ãƒˆãƒªã‚¬ãƒ¼åã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨ >>ï¼ˆãƒˆãƒªã‚¬ãƒ¼åï¼š1åˆ—ç›®ï¼‰
                            Zabbix 4: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> Reset ãƒœã‚¿ãƒ³ï¼ˆä¸­å¤®ï¼‰>>ï¼ˆä»»æ„ã®ãƒ›ã‚¹ãƒˆã®ï¼‰ãƒˆãƒªã‚¬ãƒ¼ >>
                                ãƒ›ã‚¹ãƒˆï¼ˆå³ä¸Šï¼‰ï¼ALLï¼ˆæœ€ä¸Šï¼‰>> Name ã§ã‚½ãƒ¼ãƒˆ >>ï¼ˆãƒˆãƒªã‚¬ãƒ¼åï¼‰>> Parent triggers
                        èª¬æ˜: #search: Zabbix trigger
                        é€šçŸ¥å…ˆ: ç›£ç† ãƒ¡ãƒ‹ãƒ¥ãƒ¼ >> ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—  #search: Zabbix media type
                    é–¢é€£ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #// ç¶™æ‰¿ã™ã‚‹è¦ªã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                        è¡¨ç¤º: è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ >> ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåï¼š1åˆ—ç›®ï¼‰
                        #// ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®æ–°ã—ã„ã‚¿ãƒ–ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix template menu  #// ç›£è¦–å†…å®¹, ç›£è¦–å†…å®¹ã®è¨­å®šé›†, ãƒ›ã‚¹ãƒˆã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ç›¸å½“
                    ï¼ˆæ¤œç´¢ï¼‰: åå‰
                    ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #search: Zabbix template
                        ä¾‹: Template OS Linux by Zabbix agent
                        è¡¨ç¤º: ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸€è¦§ç”»é¢ï¼‰>> åå‰ï¼ˆã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨ >>ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåï¼š1åˆ—ç›®ï¼‰
                    ã‚¢ã‚¤ãƒ†ãƒ : #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å®šç¾©ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ 
                    ãƒˆãƒªã‚¬ãƒ¼: #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å®šç¾©ã•ã‚ŒãŸãƒˆãƒªã‚¬ãƒ¼
                    é–¢é€£ã™ã‚‹ãƒ›ã‚¹ãƒˆ: #// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ã„ã‚‹ãƒ›ã‚¹ãƒˆ
                    é–¢é€£ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: #// ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ç›¸å½“
                        è¡¨ç¤º: ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç”»é¢ï¼‰>>ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåï¼‰ã‚¿ãƒ– >> ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã®ãƒªãƒ³ã‚¯ ã‚¿ãƒ– >> ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåï¼š1åˆ—ç›®ï¼‰
                        #// ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®æ–°ã—ã„ã‚¿ãƒ–ã§è¡¨ç¤ºã•ã‚Œã¾ã™
                ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix host group menu  #// ãƒ›ã‚¹ãƒˆãŠã‚ˆã³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—, ãƒ–ãƒ©ã‚¦ã‚ºç”¨
                    ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—: #search: Zabbix host group
                        ä¾‹: Zabbix servers, Virtual machines
                        è¡¨ç¤º: ï¼ˆãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸€è¦§ç”»é¢ï¼‰>> åå‰ï¼ˆã«ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—åã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨ >>ï¼ˆãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—åï¼š1åˆ—ç›®ï¼‰
                    ï¼ˆä¸€è¦§è¡¨ï¼‰:
                        ãƒ›ã‚¹ãƒˆ, ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: æ•°å­—ã¯ãƒ›ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ãŒæŒã£ã¦ã„ã‚‹ãƒ›ã‚¹ãƒˆã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ•°ã§ã™ã€‚
                            æ•°å­—ãŒç„¡ã„ã¨ãã¯ã€æŒã£ã¦ã„ã¾ã›ã‚“ã€‚
                        ãƒ¡ãƒ³ãƒãƒ¼:
                            ç°è‰²: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                            ç·‘ã‚„èµ¤: ãƒ›ã‚¹ãƒˆ
                ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix4 maintenance menu  #// ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æœŸé–“
                    #search: Zabbix maintenance mode
            ç®¡ç†: #keyword: Zabbix administration
                ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—ï¼ˆã®ä¸€è¦§ï¼‰: #keyword: Zabbix media type  #// è­¦å‘Šå…ˆã®ã‚µãƒ¼ãƒ“ã‚¹ã€‚ãƒ¡ãƒ¼ãƒ«ã‚„ SMS ãªã©
                    è¨­å®š:
                        Email: #keyword: Zabbix e-mail
                            SMTPã‚µãƒ¼ãƒãƒ¼: mail.example.com ã‹ã‚‰å¤‰æ›´ã—ã¦ãã ã•ã„
                    ãƒ†ã‚¹ãƒˆ:
                        ï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ã‚¤ãƒ—ã®ä¸€è¦§ç”»é¢ï¼‰>> ãƒ†ã‚¹ãƒˆï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢ã®è¡Œã®æœ€ã‚‚å³ï¼‰
            ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: #keyword: Zabbix administration script
                Zabbix 6.0: #ref: https://www.zabbix.com/documentation/6.0/en/manual/web_interface/frontend_sections/administration/scripts
                Zabbix 2.0: #ref: https://www.zabbix.com/documentation/2.0/en/manual/web_interface/frontend_sections/administration/scripts
    API:  #keyword: Zabbix API
        æ¦‚è¦:
            ç®¡ç†ç”»é¢ä¸Šã§è¡Œã†å„ç¨®æ“ä½œã‚’ç®¡ç†ç”»é¢ã‚’ä½¿ç”¨ã›ãšã«è¡Œãˆã‚‹ã€‚
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ãƒ›ã‚¹ãƒˆã€ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆCPU usage ãªã©ï¼‰ã€ãƒˆãƒªã‚¬ãƒ¼ã®ä½œæˆã‚„å–å¾—ãªã©ãŒã§ãã¾ã™ã€‚
            JSON-RPC ã¨ã„ã†ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ç”¨ã„ã¦ HTTP ã§ Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€Zabbix ã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
            ansible ã«ã¯ community.zabbix ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚
        å‚è€ƒ:
            API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹:  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/api
            éå…¬å¼è§£èª¬:  #ref: https://www.sraoss.co.jp/technology/zabbix/introduction/03-3rdstep/
        ã‚µãƒ³ãƒ—ãƒ« curl ã‚³ãƒãƒ³ãƒ‰:  #keyword: Zabbix API curl
            ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™:  #keyword: Zabbix API user.login
                (@control): |
                    curl -X GET -i -d '{"jsonrpc": "2.0", "auth": null, "id": 1,
                        "method": "user.login",
                        "params": {
                            "username": "Admin",
                            "password": "zabbix"
                    }}' -H "Content-Type: application/json-rpc" http://zabbix1/zabbix/api_jsonrpc.php
                    zabbix_auth="__ReturnedAuthentication__"
                    zabbix_session_ID=1
                    zabbix_session_ID=$(( $zabbix_session_ID + 1 ))
                #// ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ ____/zabbix/api_jsonrpc.php ã§ã¯ãªã ____/api_jsonrpc.php ã®å ´åˆã‚‚ã‚ã‚Šã¾ã™
                #// Zabbix 4 ä»¥å‰ï¼Ÿã¯ã€username ã§ã¯ãªã user ã§ã™ã€‚
            ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™:  #keyword: Zabbix API user.logout
                (@control): |
                    curl -X GET -i -d '{"jsonrpc": "2.0", "auth": "'${zabbix_auth}'", "id": '${zabbix_session_ID}',
                        "method": "user.logout",
                        "params": {
                    }}' -H "Content-Type: application/json-rpc" http://zabbix1/zabbix/api_jsonrpc.php
                    zabbix_session_ID=$(( $zabbix_session_ID + 1 ))
                æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
                    {"jsonrpc":"2.0","result":true,"id":____}
        ã‚µãƒ³ãƒ—ãƒ«.php: |
            <?php
            require 'ZabbixApi.class.php';
            try {

                $api = new ZabbixApi('http://localhost/zabbix/api_jsonrpc.php', 'Admin', 'zabbix');

                $res = $api->apiinfoVersion();
                var_dump($res);
            } catch (Exception $e) {
                echo $e->getMessage() . "\n";
            }
            ?>
        ãƒ›ã‚¹ãƒˆ:  #keyword: Zabbix API host
            ãƒ›ã‚¹ãƒˆåã‹ã‚‰ãƒ›ã‚¹ãƒˆID ã‚’èª¿ã¹ã¾ã™:
                host.get hostid: |  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/host/get
                    "method": "host.get",
                    "params": {
                        "output": ["hostid"],
                        "filter": {
                            "host": [
                                "Zabbix server"
                            ]
                        }
                    },
                å‡ºåŠ›ä¾‹:  #keyword: Zabbix API output filter example
                    {"jsonrpc":"2.0","result":[{"hostid":"10084"}],"id":3}
            ãƒ›ã‚¹ãƒˆåã‹ã‚‰ãƒ›ã‚¹ãƒˆã®æƒ…å ±ã‚’èª¿ã¹ã¾ã™:
                host.get: |  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/host/get
                    "method": "host.get",
                    "params": {
                        "output": "extend",
                        "filter": {
                            "host": [
                                "Zabbix server"
                            ]
                        }
                    },
                å‡ºåŠ›ä¾‹:
                    {"jsonrpc":"2.0","result":[{"hostid":"10084","proxy_hostid":"0","host":"Zabbix server","status":"0","disable_until":"0",
                    "error":"","available":"1","errors_from":"0","lastaccess":"0",
                    "ipmi_authtype":"-1","ipmi_privilege":"2","ipmi_username":"","ipmi_password":"","ipmi_disable_until":"0","ipmi_available":"0",
                    "snmp_disable_until":"0","snmp_available":"0",
                    "maintenanceid":"0","maintenance_status":"0","maintenance_type":"0","maintenance_from":"0",
                    "ipmi_errors_from":"0","snmp_errors_from":"0","ipmi_error":"","snmp_error":"",
                    "jmx_disable_until":"0","jmx_available":"0","jmx_errors_from":"0","jmx_error":"",
                    "name":"Zabbix server","flags":"0","templateid":"0","description":"",
                    "tls_connect":"1","tls_accept":"1","tls_issuer":"","tls_subject":"","tls_psk_identity":"","tls_psk":"",
                    "proxy_address":"","auto_compress":"1"}],"id":2}
        ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—:  #keyword: Zabbix API host group
            åå‰ã‹ã‚‰ã‚°ãƒ«ãƒ¼ãƒ—ID ã‚’èª¿ã¹ã¾ã™:
                hostgroup.get: |  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/hostgroup/get
                    "method": "hostgroup.get",
                    "params": {
                        "output": "extend",
                        "filter": {
                            "name": [
                                "Templates/Databases"
                            ]
                        }
                    },
                å‡ºåŠ›ä¾‹:
                    {"jsonrpc":"2.0","result":[{"groupid":"13","name":"Templates/Databases","internal":"0","flags":"0"}],"id":2}
            ãƒ›ã‚¹ãƒˆä¸€è¦§:  #ref: ${typrm_files}/ref/VMWare-AI.yaml#label: host list API from AI
        ç›£è¦–ãƒ‡ãƒ¼ã‚¿: #keyword: Zabbix API history.get
            (@control): |
                curl -X GET -i -d '{"jsonrpc": "2.0", "auth": "'${zabbix_auth}'", "id": '${zabbix_session_ID}',
                    "method": "history.get",
                    "params": {
                        "output": "extend", "time_from": 1745593200, "time_till": 1745679599, "history": 3, "itemids": [1111, 2222],
                        "sortfield": "time", "sortorder": "ASC"
                }}' -H "Content-Type: application/json-rpc" http://zabbix1/zabbix/api_jsonrpc.php
                zabbix_session_ID=$(( $zabbix_session_ID + 1 ))
            æ³¨æ„:
                - ã‚‚ã—ã€ãƒ‡ãƒ¼ã‚¿ãŒç„¡ã‘ã‚Œã°ã€histories ã«æ ¼ç´ã•ã‚Œã¾ã›ã‚“
                - å€¤ãŒ 0 ã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°ã€histories ã«å€¤ 0 ãŒæ ¼ç´ã•ã‚Œã¾ã™
                - historyï¼ˆå‹ï¼‰ãŒé•ã†ã¨æ ¼ç´ã•ã‚Œã¾ã›ã‚“
        ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:  #keyword: Zabbix API template
            ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆID ã‚’èª¿ã¹ã¾ã™:
                template.get: |  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/template/get
                    "method": "template.get",
                    "params": {
                        "output": ["templateid"],
                        "filter": {
                            "host": [
                                "Template App Zabbix Agent"
                            ]
                        }
                    },
                å‡ºåŠ›ä¾‹:
                    {"jsonrpc":"2.0","result":[{"templateid":"10050"}],"id":5}
            ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æƒ…å ±ã‚’èª¿ã¹ã¾ã™:
                template.get: |  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/2.0/en/manual/appendix/api/template/get
                    "method": "template.get",
                    "params": {
                        "output": "extend",
                        "filter": {
                            "host": [
                                "Template App Zabbix Agent"
                            ]
                        }
                    },
                å‡ºåŠ›ä¾‹:
                    {"jsonrpc":"2.0","result":[{"proxy_hostid":"0","host":"Template App Zabbix Agent","status":"3","disable_until":"0",
                    "error":"","available":"0","errors_from":"0","lastaccess":"0",
                    "ipmi_authtype":"-1","ipmi_privilege":"2","ipmi_username":"","ipmi_password":"","ipmi_disable_until":"0","ipmi_available":"0",
                    "snmp_disable_until":"0","snmp_available":"0",
                    "maintenanceid":"0","maintenance_status":"0","maintenance_type":"0","maintenance_from":"0",
                    "ipmi_errors_from":"0","snmp_errors_from":"0","ipmi_error":"","snmp_error":"",
                    "jmx_disable_until":"0","jmx_available":"0","jmx_errors_from":"0","jmx_error":"",
                    "name":"Template App Zabbix Agent","flags":"0",
                    "templateid":"10050","description":"",
                    "tls_connect":"1","tls_accept":"1","tls_issuer":"","tls_subject":"","tls_psk_identity":"","tls_psk":"",
                    "proxy_address":"","auto_compress":"1"}],"id":4}
        ã‚¢ã‚¤ãƒ†ãƒ ã®ä¸€æ‹¬ç™»éŒ²:
            å‚è€ƒ: 7. ã‚¢ã‚¤ãƒ†ãƒ ã®ä¸€æ‹¬ç™»éŒ²  https://www.sraoss.co.jp/technology/zabbix/introduction/03-3rdstep/
            ã‚µãƒ³ãƒ—ãƒ«: |
                // CPU usage ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œæˆ
                $res = $api->itemCreate( array( 'name' => 'CPU usage (API)',
                                                'key_' => 'system.cpu.util[,user,avg1]',
                                                'hostid' => $hostid,
                                                // type 0: Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
                                                'type' => 0,
                                                // value_type 0: æµ®å‹•å°æ•°
                                                'value_type' => 0,
                                                'delay' => 30,
                                            ) );
                var_dump($res);

                // Load average ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œæˆ
                $res = $api->itemCreate( array( 'name' => 'Load average (API)',
                                                'key_' => 'system.cpu.load[]',
                                                'hostid' => $hostid,
                                                'type' => 0,
                                                'value_type' => 0,
                                                'delay' => 30,
                                            ) );
                var_dump($res);
        ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹:
            maintenance.create:  #search: Zabbix API curl  #ref: https://www.zabbix.com/documentation/6.4/en/manual/api/reference/maintenance/create
                ãƒªã‚¯ã‚¨ã‚¹ãƒˆ: |
                    "method": "maintenance.create",
                    "params": {
                        "name": "Sunday maintenance",
                        "active_since": 1358844540,
                        "active_till": 1390466940,
                        "groupids": [
                            "2"
                        ],
                        "timeperiods": [
                            {
                                "timeperiod_type": 3,
                                "every": 1,
                                "dayofweek": 64,
                                "start_time": 64800,
                                "period": 3600
                            }
                        ]
                    },
        å¿œç”¨:
            è¤‡æ•°ã®å‡ºåŠ›ã‚’è¦æ±‚ã—ã¾ã™:
                filter ã®å ´åˆ:
                    æ›¸å¼: |  #focus: __Value1__, __Value2__
                        "filter": {
                            "__FieldName__": [
                                "__Value1__",
                                "__Value2__"
                            ]
                        }
                search ã®å ´åˆ:  #search: Zabbix API or
            ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãªã©ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåã‚’æ¤œç´¢ã—ã¾ã™:
                å®Œå…¨ä¸€è‡´: #// filter
                    filter: |  #focus: filter
                        "method": "template.get",
                        "params": {
                            "output": ["templateid"],
                            "filter": {
                                "host": [
                                    "Template App HTTP Service"
                                ]
                            }
                        },
                    å‡ºåŠ›ä¾‹:
                        #// Template App HTTP Service ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                        {"jsonrpc":"2.0","result":[{"templateid":"10094"}],"id":8}
                éƒ¨åˆ†ä¸€è‡´: #// search  #ref: https://devlog.arksystems.co.jp/2021/04/13/14285/
                    search: |  #focus: search
                        "method": "template.get",
                        "params": {
                            "output": ["templateid"],
                            "search": {
                                "host": [
                                    "HTTP"
                                ]
                            }
                        },
                    å‡ºåŠ›ä¾‹:
                        #// Template App HTTP Service ã¨ Template App HTTPS Service ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                        {"jsonrpc":"2.0","result":[{"templateid":"10094"},{"templateid":"10095"}],"id":10}
                å¤§æ–‡å­—å°æ–‡å­—åŒºåˆ¥:  #// åŒºåˆ¥ã—ã¾ã›ã‚“
                    search: |  #focus: search
                        "method": "template.get",
                        "params": {
                            "output": ["templateid"],
                            "search": {
                                "host": [
                                    "http"
                                ]
                            }
                        },
                    å‡ºåŠ›ä¾‹:
                        #// Template App HTTP Service ã¨ Template App HTTPS Service ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                        {"jsonrpc":"2.0","result":[{"templateid":"10094"},{"templateid":"10095"}],"id":10}
                ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰: #// æ¥é ­è¾ã‚„æ¥å°¾è¾  #ref: https://devlog.arksystems.co.jp/2021/04/13/14285/
                    åŸºæœ¬:
                        searchWildcardsEnabled: |  #focus: searchWildcardsEnabled, search, *
                            "method": "template.get",
                            "params": {
                                "output": ["templateid"],
                                "searchWildcardsEnabled": true,
                                "search": {
                                    "host": [
                                        "* proxy"
                                    ]
                                }
                            },
                        å‡ºåŠ›ä¾‹:
                            #// Template App Zabbix Proxy ã¨ Template App Remote Zabbix proxy ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                            {"jsonrpc":"2.0","result":[{"templateid":"10048"},{"templateid":"10262"}],"id":26}
                    1ã¤ã®æ–‡å­—åˆ—ã®ä¸­ã«è¤‡æ•°ã® *:
                        "* proxy": Template App Remote Zabbix proxy ã«ãƒãƒƒãƒ
                        "* Remote * proxy": Template App Remote Zabbix proxy ã«ãƒãƒƒãƒ
                        "Remote * proxy": Template App Remote Zabbix proxy ã«ãƒãƒƒãƒã—ãªã„
                    è¤‡æ•°ã®æ–‡å­—åˆ—:
                        searchByAny: |  #// searchByAny ãŒç„¡ã„ã¨ãƒãƒƒãƒã—ã¾ã›ã‚“
                            "method": "template.get",
                            "params": {
                                "output": ["templateid"],
                                "searchWildcardsEnabled": true,
                                "searchByAny": true,
                                "search": {
                                    "host": [
                                        "* Remote * proxy",
                                        "* HTTP *"
                                    ]
                                }
                            },
                        å‡ºåŠ›ä¾‹:
                            #// Template App HTTP Service ã¨ Template App Remote Zabbix proxy ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                            {"jsonrpc":"2.0","result":[{"templateid":"10094"},{"templateid":"10262"}],"id":27}
                and æ¡ä»¶:  #ref: https://devlog.arksystems.co.jp/2021/04/13/14285/
                    search: |  #focus: Zabbix, Remote  #// è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—
                        "method": "template.get",
                        "params": {
                            "output": ["templateid"],
                            "search": {
                                "host": [
                                    "Zabbix", "Remote"
                                ]
                            }
                        },
                    å‡ºåŠ›ä¾‹:
                        #// Template App Remote Zabbix proxy ã¨ Template App Remote Zabbix server ã«ãƒãƒƒãƒã—
                        #// Template App Zabbix Agent ã«ãƒãƒƒãƒã—ãªã„å ´åˆã®ä¾‹
                        {"jsonrpc":"2.0","result":[{"templateid":"10261"},{"templateid":"10262"}],"id":12}
                or æ¡ä»¶: #keyword: Zabbix API or  #ref: https://devlog.arksystems.co.jp/2021/04/13/14285/
                    searchByAny: |  #focus: searchByAny, SNMPv1, SNMPv2
                        "method": "template.get",
                        "params": {
                            "output": ["templateid"],
                            "searchByAny": true,
                            "search": {
                                "host": [
                                    "Generic SNMPv1", "Generic SNMPv2"
                                ]
                            }
                        },
                    å‡ºåŠ›ä¾‹:
                        #// Template Module Generic SNMPv1 ã¨ Template Module Generic SNMPv2 ã«ãƒãƒƒãƒã—ãŸå ´åˆã®ä¾‹
                        {"jsonrpc":"2.0","result":[{"templateid":"10203"},{"templateid":"10204"}],"id":15}
            å‡ºåŠ›é …ç›®ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¾ã™:  #keyword: Zabbix API output filter
                æ›¸å¼: |
                    "output": ["__FieldName__"],
                #search: Zabbix API output filter example
    è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«:
        ã‚µãƒ¼ãƒãƒ¼:
            ã‚µãƒ¼ãƒ“ã‚¹: #keyword: zabbix_server.conf  #ref: /etc/zabbix/zabbix_server.conf
                å…¬å¼: #ref: https://www.zabbix.com/documentation/2.2/en/manual/appendix/config/zabbix_server
                ç·¨é›†: sudo vi /etc/zabbix/zabbix_server.conf
                è¨­å®šé …ç›®:
                    AlertScriptsPath: #keyword: Zabbix AlertScriptsPath
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œã®å€¤: /usr/lib/zabbix/alertscripts
                        çœç•¥æ™‚ã®å€¤: /usr/local/share/zabbix/alertscripts
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ: #search: Zabbix alert script
                    ExternalScripts: #keyword: Zabbix ExternalScripts
                        ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œã®å€¤: /usr/lib/zabbix/externalscripts
                        çœç•¥æ™‚ã®å€¤: /usr/local/share/zabbix/externalscripts
                        ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ: #search: Zabbix external check
            ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: #keyword: Zabbix export import
                å…¬å¼: #ref: https://www.zabbix.com/documentation/current/en/manual/xml_export_import
                XML ãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™:
                    #// Zabbix 4.0 ã¯ XML ã®ã¿ã€‚6.0 ã¯ XML, JSON, YAML
                    ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ç¨®é¡ã®ä¸€è¦§ç”»é¢ã‚’é–‹ãã¾ã™:  #// ã™ã¹ã¦ã®ç¨®é¡ã‚’ä¸€åº¦ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“
                        è¨­å®š ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ãƒ›ã‚¹ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—, ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ, ãƒ›ã‚¹ãƒˆ
                        ï¼ˆãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ãƒãƒƒãƒ—, ç”»é¢
                            #ref: https://www.zabbix.com/documentation/4.0/en/manual/xml_export_import/maps
                    ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹è¡Œã‚’é¸æŠã—ã¾ã™: #// ã™ã¹ã¦é¸æŠã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã®ã§æ³¨æ„
                    ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ ãƒœã‚¿ãƒ³ï¼ˆä¸‹ï¼‰:
                å…¨è¨­å®šã‚’æ–°ã—ã„ã‚µãƒ¼ãƒãƒ¼ã«ç§»å‹•ã—ã¾ã™:
                    ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™
                    #ref: https://www.zabbix.com/forum/zabbix-help/50603-export-configuration-to-a-new-installation
        Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:  #search: Zabbix agent  #ref: /etc/zabbix/zabbix_agentd.conf
            å…¬å¼: #ref: https://www.zabbix.com/documentation/2.2/en/manual/appendix/config/zabbix_agentd
            ãƒ‘ã‚¹: sudo vi /etc/zabbix/zabbix_agentd.conf
            è¨­å®šé …ç›®:
                Server: Zabbix ã‚µãƒ¼ãƒãƒ¼ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ ã¾ãŸã¯ DNS ã§è§£æ±ºã§ãã‚‹åå‰
            Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:
                #search: Zabbix agent
        MIB: #search: MIB file  #// ãƒŸãƒ– ãƒ•ã‚¡ã‚¤ãƒ«  #ref: https://www.zabbix.com/documentation/5.4/en/manual/config/items/itemtypes/snmp/mibs
    ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (Zabbix):
        - #// ãƒ­ã‚°
            ç›£è¦–ãƒ‡ãƒ¼ã‚¿, éšœå®³:
                #search: Zabbix monitoring
            ãƒ­ã‚° ãƒ•ã‚¡ã‚¤ãƒ«:
                sudo less /var/log/zabbix/zabbix_server.log
                sudo less /var/log/maillog
            ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ãƒ­ã‚°:
                Zabbix >> ãƒ¬ãƒãƒ¼ãƒˆ >> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°
        - #// Zabbix ã‚µãƒ¼ãƒãƒ¼ãŒå‹•ä½œã—ã¦ã„ã¾ã›ã‚“
            ã‚±ãƒ¼ã‚¹1:
                æ‰‹é †: systemctl status zabbix-server
                ã‚¨ãƒ©ãƒ¼: inactive
            ã‚±ãƒ¼ã‚¹2:
                æ‰‹é †: Zabbix ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’é–‹ã
                ã‚¨ãƒ©ãƒ¼: Zabbix ã‚µãƒ¼ãƒãƒ¼ãŒå‹•ä½œã—ã¦ã„ã¾ã›ã‚“
            å¯¾å‡¦A:
                ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™:
                    less /var/log/zabbix/zabbix_server.log
            å¯¾å‡¦B:
                SELinux ã®è¨­å®šã‚’ã—ã¾ã™:
                    #search: Zabbix SELinux
        - #// Incorrect default charset for Zabbix database: "utf8mb3" instead "UTF8".
            æ‰‹é †: Zabbix WebUI ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒšãƒ¼ã‚¸ã‚’å…¥åŠ›
            ã‚¨ãƒ©ãƒ¼: |
                Incorrect default charset for Zabbix database: "utf8mb3" instead "UTF8".
            å¯¾å‡¦:
                MySQL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤ãã—ã¾ã™  #search: yum install old version
        - #// Cannot bind socket to "/var/run/zabbix/zabbix_server_lld.sock"
            æ‰‹é †: systemctl restart zabbix-server
            ã‚¨ãƒ©ãƒ¼: |
                - cannot start LLD manager service: Cannot bind socket to "/var/run/zabbix/zabbix_server_lld.sock": [13] Permission denied.
                - cannot start LLD manager service: Cannot bind socket to "/var/run/zabbix/zabbix_server_lld.sock": [98] Address already in use.
            å¯¾å‡¦:
                SELinux ã®è¨­å®šã‚’ã—ã¾ã™:
                    #search: Zabbix SELinux
        - #// æ¤œç´¢ã—ã¦ã‚‚è¦‹ã¤ã‹ã‚‰ãªã„ã€‚ãƒ›ã‚¹ãƒˆã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã«å…±é€š
            #keyword: Zabbix search not found
            æ‰‹é †: ãŸã¨ãˆã°ã€ï¼ˆãƒ›ã‚¹ãƒˆã®ä¸€è¦§ç”»é¢ï¼‰>> åå‰ï¼ˆã«ãƒ›ã‚¹ãƒˆåã®ä¸€éƒ¨ã‚’å…¥åŠ›ï¼‰>> é©ç”¨
            ã‚¨ãƒ©ãƒ¼: |
                ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚
            å¯¾å‡¦:
                - ãƒªã‚»ãƒƒãƒˆ ãƒœã‚¿ãƒ³ï¼ˆé©ç”¨ ãƒœã‚¿ãƒ³ã®å³ï¼‰ã‚’æŠ¼ã—ã¦ã€æ¤œç´¢æ¡ä»¶ã‚’å†å…¥åŠ›ã—ã¾ã™
                - ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆå³ä¸Šï¼‰ã‚’æ­£ã—ãé¸ã³ã¾ã™
        - #// ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ããªã„
            æ‰‹é †:
                Zabbix 5: ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’é¸ã‚“ã ã¨ã
                Zabbix 4: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆåˆ—ï¼‰>> ã‚¨ãƒ©ãƒ¼
                    ã¾ãŸã¯
                    ç›£è¦–ãƒ‡ãƒ¼ã‚¿ >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿ >> ï½› æœ€æ–°ã®ãƒã‚§ãƒƒã‚¯æ™‚åˆ» ï¼ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã®æ™‚é–“ã‚ˆã‚Šå¤ã™ãã‚‹, æœ€æ–°ã®å€¤ï¼ˆåˆ—ï¼‰ï¼ ç©ºæ¬„ }
            ã‚¨ãƒ©ãƒ¼: |
                Received empty response from Zabbix Agent. Assuming that agent dropped connection because of access permissions
            å¯¾å‡¦A:
                Zabbix ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™  #search: install Zabbix5 agent CentOS7
            å¯¾å‡¦B:
                zabbix_agentd.conf ã® Server ã‚’è¨­å®šã—ã¾ã™  #search: zabbix_agentd.conf
        - #// ã‚°ãƒ©ãƒ• ã‚¿ãƒ– ã«è¡¨ç¤ºã•ã‚Œãªã„
            æ‰‹é †: Zabbix >> æœ€æ–°ãƒ‡ãƒ¼ã‚¿ >> ã‚°ãƒ©ãƒ•
            å¯¾å‡¦: Zabbix >> è¨­å®š >> ãƒ›ã‚¹ãƒˆ >> ã‚°ãƒ©ãƒ•
        - #// éšœå®³ç™ºç”Ÿãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã§ããªã„
            æ‰‹é †: éšœå®³ã‚’ç™ºç”Ÿã•ã›ã¾ã™  #search: Zabbix mail  #// >> ãƒ†ã‚¹ãƒˆ
            ã‚±ãƒ¼ã‚¹A:  #// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ãƒ­ã‚° ã§ 
                ã‚¨ãƒ©ãƒ¼:
                    - Zabbix >> ãƒ¬ãƒãƒ¼ãƒˆ >> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚° >> ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:
                        å¤±æ•—
                    - Zabbix >> ãƒ¬ãƒãƒ¼ãƒˆ >> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚° >> æƒ…å ±:
                        No media defined for user.
                å¯¾å‡¦:
                    ç®¡ç† >> ãƒ¦ãƒ¼ã‚¶ãƒ¼ >> Admin >> ãƒ¡ãƒ‡ã‚£ã‚¢ï¼ˆã‚¿ãƒ–ï¼‰ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
                    #search: Zabbix mail
            ã‚±ãƒ¼ã‚¹B:  #// é€ä¿¡å…ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒé–“é•ã£ã¦ã„ã‚‹å ´åˆ
                ã‚¨ãƒ©ãƒ¼:
                    sudo less /var/log/maillog : |  #// ä¸‹è¨˜ã¯æˆåŠŸã—ã¦ã„ã¾ã™ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼åã«æ³¨æ„
                        Apr 11 11:11:11 localhost postfix/smtpd[4073]: connect from localhost[::1]
                        Apr 11 11:11:11 localhost postfix/smtpd[4073]: 15B864048000: client=localhost[::1]
                        Apr 11 11:11:11 localhost postfix/cleanup[4076]: 15B864048000: message-id=<20220411044645.15B864048000@localhost.localdomain>
                        Apr 11 11:11:11 localhost postfix/qmgr[798]: 15B864048000: from=<zabbix@zabbix1.localdomain>, size=684, nrcpt=1 (queue active)
                        Apr 11 11:11:11 localhost postfix/smtpd[4073]: disconnect from localhost[::1]
                        Apr 11 11:11:11 localhost postfix/local[4077]: 15B864048000: to=<zabbix@localhost.localdomain>, relay=local, delay=0.08, delays=0.05/0.02/0/0.01, dsn=2.0.0, status=sent (delivered to mailbox)
                        Apr 11 11:11:11 localhost postfix/qmgr[798]: 15B864048000: removed
                å¯¾å‡¦:
                    é€ä¿¡å…ˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä¿®æ­£ã—ã¾ã™
                    #search: Zabbix mail
        - #// API ã‚³ãƒ¼ãƒ« Session terminated, re-login, please.
            æ‰‹é †: API ã‚³ãƒ¼ãƒ«  #search: Zabbix API
            ã‚¨ãƒ©ãƒ¼: |
                "jsonrpc":"2.0","error":{"code":-32602,"message":"Invalid params.","data":"Session terminated, re-login, please."},"id":____}
            å¯¾å‡¦:
                Zabbix API ã‚³ãƒ¼ãƒ«ã«æŒ‡å®šã—ãŸ auth ã‚’æ­£ã—ãã—ã¦ãã ã•ã„
ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã®æ¯”è¼ƒ:
    - Consul ã¯å†…éƒ¨çš„ã« Serf ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™  https://recruit.gmo.jp/engineer/jisedai/blog/consul-orchestration/
    - Nagios , Zabbix ãªã©ã¯ã€ä¸­å¤®é›†æ¨©å‹ã®ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ   https://recruit.gmo.jp/engineer/jisedai/blog/consul-orchestration/
    - Sense ã¯ RabbitMQ ã‚µãƒ¼ãƒãŒå˜ä¸€éšœå®³ç‚¹ã«ãªã‚‹ãŸã‚ç‹¬è‡ªã«å†—é•·åŒ–ã‚’è¡Œã†å·¥å¤«ãŒå¿…è¦ã§ã—ãŸ  https://recruit.gmo.jp/engineer/jisedai/blog/consul-orchestration/
    - Consul ã¯ Gosship ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚„ Consensus ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’åˆ©ç”¨ã—è€éšœå®³æ€§ã‚’è€ƒæ…®
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:
    install-vm.sh: #keyword: Linux install-vm.sh  #glossary: Linux install-vm.sh
        VMBackUpPath:  #// VM ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ç½®ãå ´æ‰€
            install-vm.sh ã®ä¸­ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™
        VMGroup, VmGroupDefault:  #// VirtualBox ã®ã‚°ãƒ«ãƒ¼ãƒ—å
å¤ã„ã‚µãƒ¼ãƒãƒ¼ã®åœæ­¢: #keyword: shutdown old server,  ã‚µãƒ¼ãƒãƒ¼ åœæ­¢  #// æ‹ ç‚¹ã®æ’¤é€€ãªã©
    åœæ­¢ã•ã›ã‚‹å‰ã®ãƒã‚§ãƒƒã‚¯:
        nginx ãªã©ã® ã‚¢ã‚¯ã‚»ã‚¹ ãƒ­ã‚° ã‚’éå»æ•°æ—¥ï½æ•°ã‹æœˆåˆ†ã‚’è¦‹ã¦ã€ã‚¢ã‚¯ã‚»ã‚¹ãŒç„¡ã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
æ–‡æ›¸è¨­å®š: #settings:
    __GitLabUser__: takakiriy1
    __GitLabAcount__: Takakiriy
    __Reposiroty__: first
    __PAT__: __PAT__
    __ProjectName__: centos7
